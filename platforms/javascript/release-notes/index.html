<!DOCTYPE html>
<html class="no-js" lang="en-us">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://use.typekit.net/ilp4lxb.css">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     
    <title>Release Notes | Tealium for JavaScript (utag.js) |Tealium Docs</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.98.0" />

      
        <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
      

    <link href='/dist/css/app.css' rel='stylesheet' type="text/css" />

  </head>
  <body class="sidebar ma0 sans-serif text-color-primary  hg-page">
      
        
<script>
var utag_data = {
    site_section  : "platforms",
    site_language : "en",
    tealium_event : "page_view"
}
</script>

<script>
 (function(a,b,c,d){
    a="//tags.tiqcdn.com/utag/tealium/docs/prod/utag.js";
    b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
    a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
  })();
</script>

      

    
<nav class="w-100 sticky-t bg-primary-color-light bb b--light-gray dpn" role="navigation">

  <div class="flex-ns flex-wrap items-center justify-start mw9">

    <div class="lh-solid ml0-ns mr0 mr4-l mv3 pl15 dib db-ns">
      <a href="https://docs.tealium.com/"><img src="/images/icons/tealium-documentation-logo-color.svg" class="v-mid dib" width="186" height="31"></a>
    </div>
    
    <div class="dib ml3 mr4 mv3 pl15"><div id="docsearch">
</div>
</div><ul class="list ma0 pa0 dn dib-ns">
      
        <li class="f5 dib mr3" role="menuitem">
            
          <a href="https://community.tealiumiq.com/t5/Developer-Questions/qa-p/developer-questions" class="dim link mid-gray">
          Forums
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32" class="fill-current v-base" aria-label="External Link">
<path d="M25.152 16.576v5.696q0 2.144-1.504 3.648t-3.648 1.504h-14.848q-2.144 0-3.648-1.504t-1.504-3.648v-14.848q0-2.112 1.504-3.616t3.648-1.536h12.576q0.224 0 0.384 0.16t0.16 0.416v1.152q0 0.256-0.16 0.416t-0.384 0.16h-12.576q-1.184 0-2.016 0.832t-0.864 2.016v14.848q0 1.184 0.864 2.016t2.016 0.864h14.848q1.184 0 2.016-0.864t0.832-2.016v-5.696q0-0.256 0.16-0.416t0.416-0.16h1.152q0.256 0 0.416 0.16t0.16 0.416zM32 1.152v9.12q0 0.48-0.352 0.8t-0.8 0.352-0.8-0.352l-3.136-3.136-11.648 11.648q-0.16 0.192-0.416 0.192t-0.384-0.192l-2.048-2.048q-0.192-0.16-0.192-0.384t0.192-0.416l11.648-11.648-3.136-3.136q-0.352-0.352-0.352-0.8t0.352-0.8 0.8-0.352h9.12q0.48 0 0.8 0.352t0.352 0.8z"></path>
</svg>
</a>
        </li></ul>

    <ul class="list ma0 pa0 dn dib-ns">
      <li class="f5 dib">
         <i class="fa fa-globe" style="color: rgba(255, 255, 255, .6)" aria-hidden="true"></i>
      </li>
      <li class="f5 dib mr4"><a href="https://docs.tealium.co.jp/" class="dim link mid-gray">日本語</a>
</li>
    </ul>

  </div>


<div id="mainAppInner" class="padd-54 dpn">
    <div id="leftFrame">
        <div class="main-nav-container">
            <div class="flex-1">
                <ul id="navCategoryHome" class="menu-group as-main-navigation">
                    <li class="js-main-nav-section" data-section="home">
                        <a href="https://community.tealiumiq.com/" class="menu-list-item top-level tooltip-right" title="Tealium Learning Center">
                          <span class="menu-large-icon">
                              <span class="as-platform-image square-xxxs is-rounded bg-transparent">
                                  <span class="inner-image UDH-icon">TLC</span>
                              </span>
                          </span>
                          <span class="menu-context supportLinks_buttonTitle">Tealium Learning Center</span>
                        </a>
                          <span class="tooltiptext">Tealium Learning <br>Center</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a href="https://community.tealiumiq.com/t5/Forums/ct-p/tealiumlearningcommunity" class="menu-list-item top-level tooltip-right" title="Discussions">
                            <span class="menu-large-icon">
                                <i class="fal fa-comments"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">Discussions</span>
                        </a>
                          <span class="tooltiptext">Discussions</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section active">
                        <a href="https://docs.tealium.com/" class="menu-list-item top-level tooltip-right" title="Documentation">
                            <span class="menu-large-icon">
                                <i class="fal fa-book"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">Documentation</span>
                        </a>
                          <span class="tooltiptext">Documentation</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section" data-section="kb">
                        <a href="https://support.tealiumiq.com/en/support/solutions" class="menu-list-item top-level tooltip-right" title="Knowledge Base">
                            <span class="menu-large-icon">
                                <i class="fal fa-head-side-brain"></i>
                            </span>
                            <span class="menu-context">Knowledge Base</span>
                        </a>
                          <span class="tooltiptext"> Knowledge Base </span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a href="https://university.tealium.com/" class="menu-list-item top-level tooltip-right" title="Tealium Education">
                            <span class="menu-large-icon">
                                <i class="fal fa-graduation-cap"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">Education</span>
                        </a>
                          <span class="tooltiptext">Tealium Education</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a href="https://community.tealiumiq.com/t5/TLC-Blog/bg-p/TLC-Blog" class="menu-list-item top-level tooltip-right" title="TLC Blog">
                            <span class="menu-large-icon">
                                <i class="fal fa-newspaper"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">TLC Blog</span>
                        </a>
                          <span class="tooltiptext">TLC Blog</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a  href="https://support.tealiumiq.com" target="_blank" class="menu-list-item top-level tooltip-right" title="Tealium Support Desk">
                          <span class="menu-large-icon">
                            <i class="fal fa-life-ring"></i>
                          </span>
                          <span class="menu-context supportLinks_buttonTitle">Support Desk</span>
                        </a>
                          <span class="tooltiptext">Support Desk</span>
                    </li>
                </ul>
            </div>
            <ul class="menu-group as-main-navigation flex-0 bottom-align">
              <li class="menu-divider"></li>
              <li class="js-main-nav-section">
                <a href="https://my.tealiumiq.com/" class="menu-list-item top-level tooltip-right" title="Tealium Customer Data Hub">
                    <span class="menu-large-icon">
                        <span class="as-platform-image square-xxxs is-rounded bg-transparent">
                            <span class="inner-image UDH-icon">CDH</span>
                        </span>
                    </span>
                    <span class="menu-context supportLinks_buttonTitle">Customer Data Hub</span>
                </a>
                          <span class="tooltiptext">Customer Data Hub</span>
              </li>
              <li class="menu-divider"></li>
              <li class="js-toggle-leftframe">
                <a href="#" class="menu-list-item top-level d-flex justify-content-end" title="Expand/Collapse">
                    <span class="menu-large-icon d-flex align-items-center justify-content-center mr-0">
                        <span class="as-platform-image square-xxxs is-rounded bg-transparent d-flex align-items-center justify-content-center">
                            <i class="fa as-caret"></i>
                        </span>
                    </span>
                </a>
              </li>
            </ul>

        </div>

    </div>
</div>


</nav>

    
    <main role="main" class="content-with-sidebar pb0-ns">
      

<div class="w-100 pr4">
<div class="flex">

    
      <div id="menu" class="order-0 w-auto vh-100 overflow-auto dn db-ns sticky-l pt3 pl125" style="width:280px;">
<nav class="side-nav f6" role="navigation">
  <ul class="list pa0 mt0 mb1">
  
    <li class="w-100 fw4 f5 text-color-primary pv1 pl2"><a href="/platforms/" class="w-100 link text-color-primary hover-primary-color pv2 pl0 pr2"><img src="/images/icons/icon-arrow.svg" height="10" width="16" class="di v-mid pr1"/>Platforms</a></li>
  
  </ul>
  <ul class="list pa0"><li class="relative w-100 fw8 f4 mv2 text-color-primary pv1 ind2"><span class="pb2">JavaScript (Web)</span>
        <ul class="javascript desktopmenu animated fadeIn list pl0 mt2"><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/install/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".utag-install">Install</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/track/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".javascript-track">Track</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/data-layer/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".">Data Layer</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/universal-data-object/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".">Universal Data Object (utag_data)</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/data-layer-object/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".">Data Layer Object (b)</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/single-page-applications/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".">Single-Page Applications</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/settings/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".utag-settings">Settings</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/debugging/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".">Debugging</a>
      </li><li class="relative w-100 fw8 f5 ">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link text-color-primary hover-primary-color pv2  pl0 pr2  " data-target=".javascript-api">API Reference</a>
        <ul class=" javascript-api desktopmenu animated fadeIn list  dn"><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/api/cookie-functions/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".javascript-api-cookie-functions">Cookie Functions</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/api/gdpr-functions/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".javascript-api-gdpr-functions">GDPR Functions</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/api/tracking-functions/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".javascript-api-tracking-functions">Tracking Functions</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/api/utility-functions/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".javascript-api-utility-functions">Utility Functions</a>
      </li></ul>
      </li><li class="selected relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/javascript/release-notes/" class="db link ind2 pr2 pv2 bg-secondary primary-color" data-target=".">Release Notes</a>
      </li></ul></li></ul>
</nav>
</div>
    

    <article id="main-content" class="order-1 overflow-auto max-vh-100 pt4 ph4 mid-gray mt0-ns w-100" style="flex:1;scroll-padding-top:96px;">
      <div class="documentation-copy ph4">
        <header class="flex-none w-100"><nav id="breadcrumb">
<ul class="nav">

    
    
    
  
  <li class="mr1 f7 lvl0"><a class="f6 mb0 link mid-gray dim mr1" href="/">Home</a>&nbsp;>&nbsp;</li>
  

  
  
  <li class="mr1 f7 lvl1"><a class="f6 mb0 link mid-gray dim mr1" href="/platforms/">Platforms</a>&nbsp;>&nbsp;</li>
  

  
  
  <li class="mr1 f7 lvl2"><a class="f6 mb0 link mid-gray dim mr1" href="/platforms/javascript/">JavaScript (utag.js)</a></li>
  

  
  

</ul>
</nav>

<h1 class="lh-title mt30 mb3">Release Notes</h1>
</header>

<div class="mv2 mid-gray fn w-100">
  
</div>

<div class="prose nested-links" id="prose">
  <p>Below is a complete list of changes for each release of <code>utag.js</code>.</p>
<p><a href="https://community.tealiumiq.com/t5/JavaScript-utag-js/How-do-I-upgrade-to-the-latest-utag-js/ta-p/5042">Update your copy of <code>utag.js</code></a> to take advantage of the latest fixes and enhancements.</p>
<h2 id="449-september-2022">4.49 (September 2022)</h2>
<ul>
<li>Values from <code>localStorage</code> and <code>sessionStorage</code> are automatically added to the <a href="/platforms/javascript/data-layer/#local-and-session-storage">data layer object</a>.</li>
<li>Added override options <a href="/platforms/javascript/settings/#ignorelocalstorage"><code>ignoreSessionStorage</code></a> and <a href="/platforms/javascript/settings/#ignoresessionstorage"><code>ignoreLocalStorage</code></a>.</li>
<li>Fixed an issue where <code>tealium_environment</code> and <code>ut.env</code> were not set correctly for first-party domain customers.</li>
</ul>
<h2 id="445---448">4.45 - 4.48</h2>
<h4 id="448-april-2021">4.48 (April 2021)</h4>
<ul>
<li><code>utag.js</code> version 4.48 template updated with <code>secure_cookie</code> setting.</li>
</ul>
<h4 id="447-january-2021">4.47 (January 2021)</h4>
<ul>
<li>
<p>Adds defensive code for potential jQuery vulnerability. Checks to make sure the <code>src</code> of a JavaScript file is set directly and not inherited from a compromised <code>Object.prototype</code>.  This issue was fixed in jQuery 3.5.0, but re-introduced in <a href="https://blog.jquery.com/2020/05/04/jquery-3-5-1-released-fixing-a-regression/">3.5.1</a>.</p>
</li>
<li>
<p>Update to check for <code>Array</code> type with the built-in <code>utag.ut.typeOf</code> function instead of using <code>instance of</code>.  Fixes issue with <code>utag.js</code> running in iframe in a testing environment (such as Cypress) and JavaScript <code>instance of</code> operation not working correctly.</p>
</li>
</ul>
<h4 id="446-june-2018">4.46 (June 2018)</h4>
<ul>
<li>Adds support for the following new built-in variables:
<ul>
<li><code>tealium_session_number</code> - a duplicate of the existing value in <code>utag.data['cp.utag_main__sn']</code></li>
<li><code>tealium_session_event_number</code> - the cookie value in <code>utag.data['cp.utag_main__se']</code> that counts the number of tracking calls (<code>utag.view()</code>, <code>utag.link()</code>) in the current session (visit). This is useful for Single Page Apps (SPAs) where there is only one page load with many tracked events on that page. For pages using the <code>noview</code> flag, the value is &lsquo;1&rsquo; for both page load (load rule evaluation) and the first call to <code>utag.view()</code>.</li>
</ul>
</li>
<li>Adds support for an empty param list passed into <code>utag.link</code>, <code>utag.view</code> or <code>utag.track</code> calls.  In previous versions, calls to <code>utag.link()</code> or <code>utag.view()</code> work fine, but gets an extra &ldquo;cfg&rdquo; object added to the data layer. Calls to <code>utag.track()</code> causes an exception in previous versions.</li>
<li>For pages using <code>noview</code> flag, there are two things to keep in mind:
<ul>
<li>The data layer will have a &lsquo;1&rsquo; value for <code>tealium_session_event_number</code> for both page load (<code>utag.js</code> uses data layer to loads in tags) and first call to <code>utag.view</code> (which fires tags and/or loads in more tags.)</li>
<li>Because cookies are used and initialized at page load time, if the <code>utag.view</code> call does not happen in time on the first page, and the page is refreshed in browser, it moves to &lsquo;2&rsquo; for the first <code>utag.view</code> call which happens on second page.  This is an edge case since most implementations calls <code>utag.view</code> immediately after <code>utag.js</code> executes.</li>
</ul>
</li>
<li>This update also includes fixes for the &ldquo;OU&rdquo; function used by legacy Privacy Manager Extension.
<ul>
<li>The OPTOUTMULTI cookie is re-checked with each call to <code>utag.view/link</code> (no page refresh required)</li>
<li>Tags fired directly by tag&rsquo;s UID also checks the OPTOUTMULTI cookie settings before firing</li>
</ul>
</li>
</ul>
<h4 id="445-january-2018">4.45 (January 2018)</h4>
<ul>
<li>Fixes bug introduced in version 4.40 that added an extra entry in browser history for pages that loaded the same tag in an iframe more than once. This issue likely impacted Single Page Apps (SPAs) using iframe-based tag vendors.</li>
</ul>
<h2 id="443---444">4.43 - 4.44</h2>
<h4 id="444-june-2017">4.44 (June 2017)</h4>
<ul>
<li>Added support for visitor session counting for <code>utag.js</code> hosted on &ldquo;tags.tiqcdn.cn&rdquo; (China).</li>
<li>Updated the default <code>utag_main</code> cookie domain logic for domains following the pattern &ldquo;example.XX.jp&rdquo; (where cookies cannot be set in the XX.jp domain, but are set in &ldquo;example.XX.jp&rdquo; domain).</li>
</ul>
<h4 id="443-june-2017">4.43 (June 2017)</h4>
<ul>
<li>Removed use of global variable <code>i</code> &ndash; previously used in loop through global variable <code>utag_cfg_ovrd</code> (config override object)</li>
<li>Removed legacy s2s support (as this was previously removed from Tealium iQ.)  Cloud Delivery supported in Tealium Customer Data Hub.</li>
<li>Adds support for error handler function passed into <code>utag.ut.loader</code> utility function.  This is only for modern browsers (older browser may the standard callback &ldquo;cb&rdquo; function instead)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">utag</span>.<span style="color:#a6e22e">ut</span>.<span style="color:#a6e22e">loader</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;src&#34;</span>   <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;https://www.example.com/path/file.js&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;cb&#34;</span>    <span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(){<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;CALLBACK&#34;</span>)},
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;error&#34;</span> <span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(){<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;ERROR IN LOADING&#34;</span>)}
</span></span><span style="display:flex;"><span>        });
</span></span></code></pre></div><h2 id="440---442">4.40 - 4.42</h2>
<h4 id="442-august-2016">4.42 (August 2016)</h4>
<p>Add new built-in Tealium event attributes. These new attributes are added to the data layer with each Tealium view or link event.</p>
<ul>
<li><code>tealium_visitor_id</code>
The Tealium-generated ID in the cookie <code>cp.utag_main_v_id</code></li>
<li><code>tealium_session_id</code>
The epoch timestamp string of current session start in ms</li>
<li><code>tealium_account</code>
The account string value in the path to the <code>utag.js</code> file</li>
<li><code>tealium_profile</code>
The profile string value in the path to the <code>utag.js</code> file</li>
<li><code>tealium_environment</code>
The environment string value in the path to the <code>utag.js</code> file. For example, &ldquo;dev&rdquo; or &ldquo;prod&rdquo;.</li>
<li><code>tealium_datasource</code>
The data source key from Tealium EventStream.</li>
<li><code>tealium_random</code>
A random number as a string for use in cache busting</li>
<li><code>tealium_library_name</code>
The name of the library (<code>utag.js</code>)</li>
<li><code>tealium_library_version</code>
The version of the <code>utag.js</code>. For example, &ldquo;4.42.0&rdquo; for this release)</li>
<li><code>tealium_timestamp_epoch</code>
Current epoch time in seconds as an integer</li>
<li><code>tealium_timestamp_utc</code>
Current ISO string timestamp for UTC time zone (not available on older browsers)</li>
<li><code>tealium_timestamp_local</code>
Current ISO string timestamp for browser&rsquo;s time zone (not available on older browsers)</li>
</ul>
<h4 id="441">4.41</h4>
<p><strong>Minor update to fix typo for the fallback function in <code>utag.ut.encode</code>.</strong></p>
<p>The <code>encodeURIComponent</code> call now falls back to use JavaScript&rsquo;s <code>escape</code> call for the exception when encoding badly formed unicode characters.</p>
<h4 id="440-april-2016">4.40 (April 2016)</h4>
<p><strong>Improvements in behavior in Single Page App (SPA) sites using <code>utag.link</code> and <code>utag.view</code></strong></p>
<p>Previously, items in current data layer passed to <code>utag.link/view</code> were merged into the <code>utag.data</code> global object. This was required to re-evaluate load rules for each <code>utag.link/view</code> call. The <code>utag.js </code>4.40 template takes advantage of a publish engine update so that this is no longer required. In version 4.40, the <code>utag.data</code> global object is not updated with each <code>utag.link</code> or <code>utag.view</code> call.</p>
<p class="note"><i class="fa fa-exclamation-triangle"></i>You may use the following JS Extension to test for backwards compatibility with 4.39 behavior before updating to 4.40.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// JS Extension scoped to &#34;Before Load Rules&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">utag</span>.<span style="color:#a6e22e">ut</span>.<span style="color:#a6e22e">merge</span>( <span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">utag</span>.<span style="color:#a6e22e">data</span>, <span style="color:#ae81ff">0</span> );
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">utag</span>.<span style="color:#a6e22e">ut</span>.<span style="color:#a6e22e">merge</span>( <span style="color:#a6e22e">utag</span>.<span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">b</span> ,<span style="color:#ae81ff">1</span> );
</span></span></code></pre></div><p><strong>New &ldquo;noconsole&rdquo; flag.</strong></p>
<p>Setting the flag in <a href="/platforms/javascript/settings/">utag_cfg_ovrd object</a> to true stops any output from <code>utag.DB</code> from displaying in the web console. If debugging is enabled, the output still persist in the <code>utag.db_log</code> array.</p>
<p><strong>Creating an iframe in DOM using utag.ut.loader function</strong></p>
<p>If an iframe with the same ID already exists, the iframe is not added again. Instead, the iframe src is updated.</p>
<p><strong>Updating JS Page vars value for <code>utag.view</code> or <code>utag.link</code> calls</strong></p>
<p>JS Page vars are now updated to their current value with every call to <code>utag.view</code> or <code>utag.link</code>. As a result the <code>b[&quot;js_page.my_global_var&quot;]</code> has the latest value in <code>window.my_global_var</code> each time <code>utag.link</code> is called.</p>
<p><strong>Bug fix to keep <code>cp.utag_main_ses_id</code> in the data layer with every <code>utag.link</code> or <code>utag.view</code> call</strong></p>
<p>The value is now updated with a new session ID following a <code>utag.link/view </code>call that occurs when the visitor has been on the same page for 30 minutes with no activity.</p>
<p><strong>Removed trick to use <code>eval</code> to read the <code>document.referrer</code> value into the data layer&rsquo;s <code>b[&quot;dom.referrer&quot;]</code></strong></p>
<p><strong>New <code>utag.ut.encode</code> function</strong></p>
<p>This function falls back to use escape when encodeURIComponent issues an exception (an exception is possible when attempting to encode Unicode characters that are incomplete or incorrectly formed).</p>
<p><strong><code>_t_visitor_id</code> and <code>_t_session_id</code> are no longer available</strong></p>
<p>Auto-generated data layer values <code>_t_visitor_id</code> and <code>_t_session_id</code> are no longer available. These are replaced by <code>ut.visitor_id</code> and <code>ut.session_id</code>. If still desired, add them back in as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// JS Extension scoped to &#34;Before Load Rules&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">b</span>[<span style="color:#e6db74">&#34;_t_visitor_id&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">b</span>[<span style="color:#e6db74">&#34;cp.utag_main_v_id&#34;</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">b</span>[<span style="color:#e6db74">&#34;_t_session_id&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">b</span>[<span style="color:#e6db74">&#34;cp.utag_main_ses_id&#34;</span>];
</span></span></code></pre></div><h2 id="436---439">4.36 - 4.39</h2>
<h4 id="439-july-2015">4.39 (July 2015)</h4>
<ul>
<li>Adds support for the <a href="/client-side-tags/tealium-collect-tag/">Tealium Collect Tag</a> that writes visitor enrichment data to a profile-specific location in local storage.</li>
</ul>
<h4 id="438-june-2015">4.38 (June 2015)</h4>
<ul>
<li>Supports a new drop-down list for selecting when to execute an All-Tags-scoped Extension.
<ul>
<li>After Load Rules (default selection)</li>
<li>Before Load Rules (not supported by 4.37 and below)</li>
<li>After Tags (not supported by 4.37 and below)</li>
</ul>
</li>
</ul>
<p class="note"><i class="fa fa-exclamation-triangle"></i>This feature is not compatible with 4.37 below as they may cause the Extension to run more than once.</p>
<ul>
<li>Added support for calling <code>utag.view</code> before all the Tags have loaded; this fixes a bug when calling <code>utag.view</code> to fire a specific Tag by its UID inside a DOM Ready-scoped Extension.</li>
<li>Added support for calling <code>utag.link</code> for a specific Tag by its UID.</li>
</ul>
<h4 id="437-february-2015">4.37 (February 2015)</h4>
<ul>
<li>Fixed a bug that incorrectly decodes any instance of $ value in the <code>utag_main</code> cookie and render it as a separator instead. Following this fix, the <code>utag_main</code> cookie values are not &lsquo;double decoded&rsquo; anymore.</li>
<li>Fixed a bug that caused the <code>utag_main__ss</code> cookie to be set incorrectly when the <a href="/iq-tag-management/save-publish/publish-configuration/">readywait flag</a> was set and /or the <code>utag_data</code> object was absent from the page.</li>
</ul>
<h4 id="436-january-2015">4.36 (January 2015)</h4>
<ul>
<li>Load new tags on call to <a href="/platforms/javascript/track/"><code>utag.link()</code></a>. Calling <code>utag.link()</code> can load tags not already on the page.</li>
<li>Fixed a bug in which the <code>utag.data</code> object was not initialized for DOM Ready-scoped extensions when the <code>waittimer</code> and <code>readywait</code> flags were set to <code>true</code>.</li>
<li>Added new built-in Data Layer variables:
<ul>
<li><code>utag.data[&quot;ut.domain&quot;]</code>: The website&rsquo;s domain</li>
<li><code>utag.data[&quot;ut.version&quot;]</code>: The version of <code>utag.js</code> loading on the site</li>
<li><code>utag.data[&quot;ut.event&quot;]</code>: The type of event (link or view)</li>
<li><code>utag.data[&quot;ut.account&quot;]</code>: The Tealium iQ account on the site</li>
<li><code>utag.data[&quot;ut.profile&quot;]</code>: The Tealium iQ profile on the site</li>
<li><code>utag.data[&quot;ut.env&quot;]</code>: The publish environment</li>
</ul>
</li>
<li>Fixed a bug in which manual <code>utag.view</code> and <code>utag.link</code> calls were not extending the session end cookie timestamp. This is especially useful for single-page apps and sites that rely on AJAX to keep the session open while the visitor interacts with the site.</li>
<li>Fixed a bug for blocking Tags that prevented synchronously loading Tags from being used as <a href="https://community.tealiumiq.com/t5/Tealium-iQ/Tag-Configuration-Advanced-Settings/ta-p/13600">blocking Tags</a>.</li>
<li>Fixed a bug that prevented the loading of multiple synchronous blocking Tags from cache for older of Internet Explorer.</li>
<li>Added debugging to output the Data Layer at the point right before All Tags-scoped extensions run.</li>
</ul>
<h2 id="426---435">4.26 - 4.35</h2>
<h4 id="435-december-2014">4.35 (December 2014)</h4>
<ul>
<li>Fixed a bug in which the Data Layer was not preserved for <code>utag.view()</code> calls made in rapid succession. Now a snapshot of the Data Layer is preserved for each call.</li>
<li>Added more debugging output for manual <code>utag.view()</code> and <code>utag.link()</code> calls.</li>
<li>Added a new utility function: <code>utag.ut.typeOf()</code>. For example, <code>utag.ut.typeOf([])</code> returns the value &ldquo;array&rdquo;.</li>
</ul>
<h4 id="434-october-2014">4.34 (October 2014)</h4>
<ul>
<li>Added an override (<code>utag_cfg_ovrd</code>) flag to <code>utag.js</code> in order to delay the loading of Tags until the DOM readyState &ldquo;complete&rdquo; (AKA &ldquo;load&rdquo;) event. This flag provides a delay that may improve page display time speeds by causing all Tags with the <a href="https://community.tealiumiq.com/t5/Tealium-iQ/Tag-Configuration-Advanced-Settings/ta-p/13600">Wait = Yes setting</a> to execute even later. Set this flag by entering the following code into a PreLoader-scoped <a href="/iq-tag-management/extensions/extensions-list/advanced-javascript-code-extension/">JavaScript Code extension</a>:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">utag_cfg_ovrd</span> <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">utag_cfg_ovrd</span>.<span style="color:#a6e22e">dom_complete</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span></code></pre></div><ul>
<li>Fixed a bug for the Internet Explorer browser in which the DOM readyState was reported as &ldquo;interactive&rdquo; prematurely. An extra delay for readyState &ldquo;complete&rdquo; was added for older of Internet Explorer.</li>
</ul>
<h4 id="433-september-2014">4.33 (September 2014)</h4>
<ul>
<li>Added two new DOM Variables (formerly Data Sources): browser height (<code>dom.viewport_height</code>) and browser width (<code>dom.viewport_width</code>). Use these in Load Rules to detect when a visitor is using a certain devices to browse your site. For example, when this value is less than 480, you might assume the visitor is using a phone device. <a href="http://viewportsizes.com/mine/">Try this</a> on your phone for fun.</li>
<li>Added support for custom attributes on iframes/scripts to the <code>utag.ut.loader</code> function.</li>
<li>Fixed a bug in which Tags were not loading in order indicated in the Tags tab when fired by a manual <code>utag.view</code> call.</li>
</ul>
<h4 id="432-august-2014">4.32 (August 2014)</h4>
<ul>
<li>Fixed a bug with Publish Settings so that you may now enable both the <a href="/iq-tag-management/save-publish/publish-configuration/">Ready Wait Flag and Bundling Libs publish settings</a> for the same profile.</li>
<li>Fixed a bug in which enabling the Ready Wait Flag setting caused the <a href="#version-4-26">utag.cfg.noview flag</a> to reset to &ldquo;false&rdquo; if you had set it to &ldquo;true&rdquo;.</li>
<li>Introducing the new configuration flag, Wait Timer (<code>utag_cfg_ovrd.waittimer</code>). Tags do not load until the DOM Ready signal goes out. With this flag set exactly how long after the DOM Ready signal the Tags wait before they load. Setting this flag exposes the load time of a webpage without including the load times of 3rd-party vendor Tags. You set this value in milliseconds.</li>
</ul>
<p>Here is an example of how to set the Wait Timer flag:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">utag_cfg_ovrd</span><span style="color:#f92672">=</span>{};
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">utag_cfg_ovrd</span>.<span style="color:#a6e22e">waittimer</span><span style="color:#f92672">=</span><span style="color:#ae81ff">3000</span>;
</span></span></code></pre></div><p>This code snippet delays the loading of all Tags until 3 seconds after the DOM Ready signal.</p>
<h4 id="431-may-2014">4.31 (May 2014)</h4>
<ul>
<li>
<p>Fixed a UTAG utility function bug for IE browsers when bringing in external JavaScript files and running a callback function. This addresses a rare timing issue in which the callback function runs too soon.</p>
</li>
<li>
<p>Introduces additional debugging output for when <code>utag.view</code> is called before all Tags are loaded. The Tag UID which may have an error now shows up in the output.</p>
</li>
</ul>
<h4 id="430-april-2014">4.30 (April 2014)</h4>
<ul>
<li>Fixes a bug with the IE browser (9 and earlier) in which manual <code>utag.view</code> calls do not fire if your last Tag set to <a href="https://community.tealiumiq.com/t5/Tealium-iQ/Tag-Configuration-Advanced-Settings/ta-p/13600">Wait = Yes</a> did not fire and <code>utag.X.js</code> files were cached.</li>
<li>The <code>utag.js</code> now uses the values in the OPTOUTMULTI (<a href="/iq-tag-management/extensions/extensions-list/privacy-manager-extension/">Privacy Manager Extension</a>) cookie for every <code>utag.view</code> call.  Tags that are opted-out no longer fire for <code>utag.view</code> calls fired with AJAX content.</li>
</ul>
<h4 id="429-april-2014">4.29 (April 2014)</h4>
<ul>
<li>Fixes a bug which prevented support for more than one <a href="https://community.tealiumiq.com/t5/Tealium-iQ/Tag-Configuration-Advanced-Settings/ta-p/13600">blocking Tag</a>. You may now have more than one Tag act as a blocking Tag. For example, <a href="https://community.tealiumiq.com/t5/2-Tealium-iQ-Documentation/Tealium-Currency-Converter-Tag/ta-p/5618">Tealium Currency Converter</a> with another external <code>.js </code>file.</li>
<li>Extensions scoped to &ldquo;All Tags&rdquo; run after any blocking Tags complete.</li>
<li>The <code>utag.v.js</code> file is no longer sent in the situation that you are <a href="https://community.tealiumiq.com/t5/2-Tealium-iQ-Documentation/Hosting-Tealium-iQ-files-on-your-own-domain/ta-p/10135">self-hosting the <code>utag.js</code> file</a>.</li>
<li>Removed &ldquo;top.&rdquo; from visitor ID generation logic. This fixes issues with iframes.</li>
</ul>
<h4 id="428-february-2014">4.28 (February 2014)</h4>
<ul>
<li>Fixes an issue in which the page number (<code>_pn</code>) and session number (<code>_sn</code>) values are set to <a href="http://en.wikipedia.org/wiki/NaN">NaN</a> whenever a visitor visits a website in which the <code>utag_main</code> session cookies was already set by a version of <code>utag.js</code> prior to 4.27. These values are now reset to 1.</li>
</ul>
<h4 id="427-february-2014">4.27 (February 2014)</h4>
<ul>
<li>Introduces support for AudienceStream <a href="https://community.tealiumiq.com/t5/3-AudienceStream-Documentation/Data-Layer-Enrichment/ta-p/684">Data Layer Enrichment</a>. This requires <a href="https://community.tealiumiq.com/t5/3-AudienceStream-Documentation/AudienceStream/ta-p/323">AudienceStream</a> and the <a href="/client-side-tags/tealium-collect-tag/">DataCloud Tag</a>.</li>
<li>The <code>utag.js</code> reads <a href="http://en.wikipedia.org/wiki/Meta_element">Meta tags</a> with every <code>utag.view</code> call in order to capture dynamic Meta tags.</li>
<li>There are several changes to the <code>utag_main</code> cookie:
<ul>
<li>
<p>The <code>utag_main</code> cookie&rsquo;s lifespan is now set to 1 year to conform to EU laws.</p>
</li>
<li>
<p>The session ID (<code>ses_id</code>) value in the <code>utag_main</code> cookie is now a timestamp that is used to compute a visitor&rsquo;s time on your website.</p>
<p>To reference this value, use the following syntax:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">b</span>[<span style="color:#e6db74">&#34;cp.utag_main_ses_id&#34;</span>]
</span></span></code></pre></div></li>
<li>
<p>Introduces the session number value in the <code>utag_main</code> cookie.</p>
<p>To reference this value, use the following syntax:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">b</span>[<span style="color:#e6db74">&#34;cp.utag_main__sn&#34;</span>]
</span></span></code></pre></div></li>
<li>
<p>Introduces the page number value, which increments every time <code>utag.js</code> loads, essentially with each new URL load. This is not to be confused with an Event Counter. This value starts over at 1 with each new session.</p>
<p>To reference this value, use the following syntax:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">b</span>[<span style="color:#e6db74">&#34;cp.utag_main__pn&#34;</span>]
</span></span></code></pre></div></li>
<li>
<p>Known issue: The page number (<code>_pn</code>) and session number (<code>_sn</code>) values are set to <a href="http://en.wikipedia.org/wiki/NaN">NaN</a> whenever a visitor visits a website in which the <code>utag_main</code> session cookies was already set by a version of <code>utag.js</code> prior to 4.27. This issue is resolved in <code>utag.js</code> version 4.28.</p>
</li>
</ul>
</li>
<li>Introduces the <strong>utag.ut.flatten</strong> function, which flattens objects. This is primarily used with Data Layer Enrichment for AudienceStream.</li>
</ul>
<h4 id="426-january-2014">4.26 (January 2014)</h4>
<p>Load rules are re-evaluated for both <code>utag.view()</code> and <code>utag.link()</code> calls.</p>
<p>Changes to the way the <code>utag.js</code> 4.26 file handles query string parameters and meta tags means that they are no longer lower-cased by default. If you have query string parameters or meta tags identified as data sources in your profile, you may need to update those data source names in the Data Layer tab to match upper case and lower case letters exactly.</p>
<p><strong>Custom Script Source is a Blocking Tag</strong></p>
<p>A blocking tag is a tag that must run before any other tags run. When you enter the location for the <a href="https://community.tealiumiq.com/t5/Tealium-iQ/Tag-Configuration-Advanced-Settings/ta-p/13600">custom script source advanced setting</a> for a tag, this tag automatically becomes a blocking tag. This tag still loads asynchronously, but subsequent asynchronous scripts. For example, <code>utag.10.js</code> does not load until the blocking tag is complete.</p>
<p><strong>Best Practice:</strong> If you want to load custom JavaScript for a tag but you do not want it to be a blocking tag, use the <a href="/iq-tag-management/tags/tealium-generic-tag/">Tealium Generic Tag</a> to load it.</p>
<p><strong>Wait Flag Improvement</strong></p>
<p>The <a href="/iq-tag-management/tags/tag-templates/manage/">Wait Flag is an advanced setting</a> within tag configuration.</p>
<p>Tags whose <strong>Wait Flag</strong> is set to  &ldquo;No&rdquo; load and fire immediately after the <code>utag.js</code> file loads. Those tags, whose <strong>Wait Flag</strong> is set to &ldquo;No&rdquo;, that load sooner may fire sooner, regardless of their order in Tealium iQ. For example, if Tag 2 loads before Tag 1, and Tag 1 is placed higher in the Tags tab in Tealium iQ, Tag 2 may still fire sooner, despite the order they&rsquo;re in. Previously, tags executed in the order specified in Tealium iQ. These tags then waited for tags placed higher in the order to load before loading themselves.</p>
<p>This means that you may now have a mixture of tags with their Wait Flag set to &lsquo;No&rsquo; and tags with their Wait Flag set to &lsquo;Yes&rsquo; in the same profile.</p>
<p><strong>Control Load Rules-based Tracking for AJAX</strong></p>
<p>Subsequent <code>utag.view()</code> calls on the page trigger load rules to load new tags. In previous versions, a <code>utag.view</code> call does not load new tags. This feature is enabled by default in <code>utag.js</code> 4.26.</p>
<p>Disable this feature to keep current behavior. See <a href="#utagcfgloadrulesajax">utag.cfg.load_rules_ajax flag</a> details below for more information.</p>
<p class="note"><i class="fa fa-exclamation-triangle"></i>A <code>utag.link()</code> call does not load a new tag. Only a <code>utag.view()</code> call does this.</p>
<p><strong>Load a Tag Directly By UID (Update to <code>utag.view</code> and <code>utag.track</code> calls)</strong></p>
<p>For advanced implementations, especially those using AJAX, use the <code>utag.view()</code> call to bring in a new tag and fire it based on the tag&rsquo;s UID (as seen in the Tags tab of Tealium iQ). This bypasses all load rules.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">utag</span>.<span style="color:#a6e22e">view</span>({<span style="color:#a6e22e">page_name</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;New Page&#34;</span>}, <span style="color:#66d9ef">null</span>, [<span style="color:#ae81ff">5</span>]);
</span></span></code></pre></div><ul>
<li>Param 1: Data Layer</li>
<li>Param 2: Callback function (or null)</li>
<li>Param 3: Array of UIDs to load and fire</li>
</ul>
<p><a href="https://community.tealiumiq.com/t5/JavaScript-utag-js/Page-Tracking/ta-p/15563">Learn more</a> about page tracking.</p>
<p><strong>Automatically Read New &ldquo;Meta&rdquo; tags</strong></p>
<p>These types of meta tags with &ldquo;name=&rdquo; were picked up in a previous version of <code>utag.js</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;keywords&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Apple,Tab&#34;</span> /&gt;
</span></span></code></pre></div><p>The new <code>utag.js</code> 4.26 now picks up those with <code>property= </code>(see &ldquo;Open Graph&rdquo; meta tags)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">property</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;og:type&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;video.movie&#34;</span> /&gt; 
</span></span></code></pre></div><p><strong>Removing the &ldquo;lowercase&rdquo; by default of &ldquo;qp.&rdquo; (query string) and &ldquo;meta.&rdquo; variables</strong></p>
<p>This is a logic change in the default behavior of <code>utag.data</code>. Set the <a href="#utagcfglowerqp">utag.cfg.lowerqp flag</a> to <code>true</code> to automatically lowercase. However, the default setting keeps the mixed case.</p>
<p class="tip"><i class="fa fa-info-circle"></i>Set the <code>utag.cfg.lowerqp</code> flag to true for backward compatibility with previous <code>utag.js</code> behavior.</p>
<p>Set the <code>utag.cfg.lowermeta</code> flag to <code>true</code> to enable lower-casing for the meta tags. This only applies to the name of the name/value pair for that meta tag.</p>
<p class="note"><i class="fa fa-exclamation-triangle"></i>If you have mixed-case query string parameters, you need to update the data source&rsquo;s name in the Data Sources tab to match exactly. Any code that refers to this query string type data source must also be updated.</p>
<p><strong>New Values in <code>utag_main</code> Cookie</strong></p>
<p>There are new cookie name/value pairs in the <code>utag_main</code> cookie:</p>
<ul>
<li><strong><code>utag_main_vid</code></strong><br>
A long string to uniquely identify the visitor, such as <code>013efdc67183001adeec0eef13010a051001b00f0093c</code>)</li>
<li><strong><code>utag_main__ss</code></strong><br>
A &ldquo;Session Start&rdquo; flag. Set to <code>&quot;1&quot;</code> for the first page view of a new session. Default session time is 30 minutes elapsed with no activity.</li>
</ul>
<p>(The previous cookie values <code>utag_main__st</code> and <code>utag_main_ses_id</code> are still set.)</p>
<p><strong>Session Start Tracking</strong></p>
<p>A request for an empty file, <code>utag.v.js</code>, is made once at the start of a visitor’s session. This is used internally by Tealium to log the session count. The HTTP request URL looks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>http://tags.tiqcdn.com/utag/tiqapp/utag.v.js?a<span style="color:#f92672">=</span>tealium/main/201306012057&amp;cb<span style="color:#f92672">=</span><span style="color:#ae81ff">1370276499302</span>
</span></span></code></pre></div><p>The new cookie value <code>utag_main__ss</code>, is used to determine when to fire. This is only sent on the first event of a session. This request is sent last, after all tags have fired.</p>
<p><strong>New &ldquo;Tealium&rdquo; Values</strong></p>
<p>Identify the new cookie values in the Data Layer tab:</p>
<ul>
<li>The session ID value in the <code>utag_main_ses_id</code> cookie</li>
<li>The visitor ID value in the <code>utag_main_v_id</code> cookie</li>
<li>The session start flag (0 or 1) found in the <code>utag_main__ss</code> cookie</li>
</ul>
<p><strong>URL Fragment Parameters</strong></p>
<p>Previously the name/value pairs in a URL after the <code>?</code> were read and stored in <code>utag.data</code> as <code>qp.</code> values. Now, items after the hash/fragment <code>#</code> sign are also used to build these. This adds an important feature for AJAX sites.</p>
<p>Example Domain URL:(<a href="http://www.example.com?param1=value1&amp;param2=value2#hash1=value3)%60">http://www.example.com?param1=value1&amp;param2=value2#hash1=value3)`</a></p>
<p>Previous:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">utag</span>.<span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> { <span style="color:#e6db74">&#34;qp.param1&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;value1&#34;</span>, <span style="color:#e6db74">&#34;qp.param2&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;value2&#34;</span>}
</span></span></code></pre></div><p>New:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">utag</span>.<span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> { <span style="color:#e6db74">&#34;qp.param1&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;value1&#34;</span>, <span style="color:#e6db74">&#34;qp.param2&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;value2&#34;</span>, <span style="color:#e6db74">&#34;qp.hash1&#34;</span>  <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;value3&#34;</span>}
</span></span></code></pre></div><p><strong>All Page Data Available to <code>utag.view</code> and <code>utag.link</code> Calls</strong></p>
<p>Previously, <code>utag.view</code> and <code>utag.link</code> calls only knew about the data you passed them. Items like <code>b[&quot;qp.campaign&quot;]</code> were not available. Now, all &ldquo;built-in&rdquo; data points such as URL, meta, or cookie values are added to the data layer for the <code>utag.link</code> and <code>utag.view</code> calls.</p>
<p>Also, dynamic items that may have changed for AJAX sites (such as <code>b[&quot;dom.url&quot;]</code>) are re-built so they use the current value. The current value may be different from the value at the time of the initial landing on an AJAX page.</p>
<p><strong>New Options in utag.cfg</strong></p>
<p>Use a Pre Loader-scoped <a href="/iq-tag-management/extensions/extensions-list/advanced-javascript-code-extension/">JavaScript Code Extension</a> and the global variable <code>window.utag_cfg_ovrd</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// JS Code in Preloader Extension
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>window.<span style="color:#a6e22e">utag_cfg_ovrd</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;noview&#34;</span>          <span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;lowerqp&#34;</span>         <span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;load_rules_ajax&#34;</span> <span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p><strong>The following new options are available:</strong></p>
<ul>
<li><code>utag.cfg.load_rules_ajax</code><br>
Set this flag to <code>false</code> when you do <em>not</em> wish to &ldquo;re-evaluate&rdquo; load rules for each <code>utag.view</code> and <code>utag.link</code> call. For <code>utag.view</code>, this may also load a new <code>utag.X.js</code> file if it did not load on the initial page view.</li>
<li><code>utag.udoname</code><br>
The name of the data object. The <code>utag.js</code> code assumes the data object is a global variable. For example, not an object within another object. By default, this is set to <code>utag_data</code></li>
<li><code>utag.cfg.load_rules_at_wait</code><br>
Set this flag to <code>true</code> when you wish to re-evaluate load rules at Wait (DOM Ready). This enables legacy support where data may have been set after <code>utag.js</code> loads and you want to use this data to fire a Tag set to wait for DOM Ready.</li>
<li><code>utag.cfg.lowerqp</code><br>
Set this flag to <code>true</code> if you wish to lowercase your query string name/value pairs. This used to be the default behavior.</li>
<li><code>utag.cfg.lowermeta</code><br>
Set this flag to <code>true</code> if you wish to lowercase your meta tags&rsquo; names. The value of the name/value pair for the meta tag is not lowercased.</li>
<li><code>utag.cfg.noview</code><br>
Set this flag to <code>true</code> if you wish to control when the initial <code>utag.view</code> call is made. This is common for AJAX sites where your application controls the page view event (not the initial page load action.)</li>
</ul>
<p><strong>Things to Consider</strong></p>
<ul>
<li>
<p>Accidentally Firing Multiple Orders - The <code>utag.link</code> and <code>utag.view</code> calls now have all of the &ldquo;DOM&rdquo; type of data points available in every call. For example, the query string data such as <code>b[&quot;qp.order_id&quot;]</code> is read on the page load and trigger an order event. However, if you fire a <code>utag.link</code> call on that same order page, it also has the <code>b[&quot;qp.order_id&quot;]</code> data set and trigger a second order event.</p>
</li>
<li>
<p>For most intuitive behavior, we recommend setting all <code>utag_data</code> values before you load in the <code>utag.js</code> file. And keep <code>utag.cfg.load_rules_at_wait</code> at &ldquo;false&rdquo;, which is the default.</p>
</li>
<li>
<p>Be aware that updating to <code>utag.js</code> 4.26 changes the default behavior for lower casing your query string params. Values are no longer automatically lower-cased.</p>
</li>
<li>
<p>&ldquo;All Tags&rdquo;-scoped Extensions may or may not run before DOM Ready-scoped extensions. Order is not guaranteed. If you manipulate a data layer element in an All Tags-scoped extension, then it may affect your Content Modification Extension&rsquo;s criteria.</p>
<p><strong>Best Practice:</strong> Do not modify the original data layer object. If you need to modify a value, use a new variable instead.</p>
</li>
</ul>
<p><strong>Known Issues</strong></p>
<ul>
<li>The Data Layer&rsquo;s <code>utag_data</code> object becomes a reference to <code>utag.data</code>, and changing one changes the other.</li>
<li>IE8 may introduce timing issues if your Data Layer is defined at the end of your <code>&lt;body&gt;</code> element, just before DOM Ready (and the <code>utag.js</code> is already loaded). As a best practice, always declare your <code>utag_data</code> object before you load the <code>utag.js</code> file.</li>
</ul>
<h2 id="4006---4011">4.006 - 4.011</h2>
<h4 id="4011-november-2013">4.011 (November 2013)</h4>
<p>Adding support for Server to Server. There is now a &lsquo;Server to Server&rsquo; Advanced Setting that enables a Tag to use the Server to Server functionality.</p>
<h4 id="4010-november-2013">4.010 (November 2013)</h4>
<p>Fixes a bug when using the Tealium Currency Converter tag or any Tag with a value set for Custom Source Advanced setting, in which the Tag waits until for a force timeout threshold of 3 seconds or greater to call the u.send function for the other Tags.</p>
<h4 id="4009-september-2013">4.009 (September 2013)</h4>
<p>Fixes a bug in which &ldquo;Wait = Yes&rdquo; tags wait for a &ldquo;load&rdquo; event instead of DOM Ready event when <code>utag.js</code> was executed after DOM Ready.</p>
<p>For many sites, this is a significant performance boost and loads tags that are set to wait for DOM Ready much sooner.</p>
<h4 id="4008-march-2013">4.008 (March 2013)</h4>
<p>Update to support domains ending in &ldquo;.edu.au&rdquo; and &ldquo;.net.au&rdquo; (using &ldquo;au&rdquo; for an example.) The previous <code>utag.js</code> only supported &ldquo;.com.au&rdquo; and &ldquo;.org.au&rdquo;</p>
<p>Update to <code>utag.loader.GV </code>(the internal &ldquo;Get Variables in Object&rdquo; function) to use hasOwnProperty. This is the safer way to iterate.</p>
<h4 id="4007-january-2013">4.007 (January 2013)</h4>
<p>Fixes an issue in which the customer may an exception in the &ldquo;pre&rdquo; function by entering something like <code>myobj.utag_data</code> for the &ldquo;Page Data Object&rdquo; Publish Setting (assuming the <code>myobj</code> doesn&rsquo;t exist). This exception caused pieces of code to get skipped and resulted in checking .length for a <code>utag.handler.extend</code> variable that was never defined. There is now a check to see if <code>utag.handler.extend</code> is defined.</p>
<h4 id="4006-january-2013">4.006 (January 2013)</h4>
<p>The Publish Engine builds a <code>utag.loader.cfgsort</code> variable that is an Array of the Tag UIDs. This Array is in the right order of the Tags in Tealium iQ. Tags now fire in the order that matches the Tealium iQ&rsquo;s order.</p>
<h2 id="4000-4005">4.000-4.005</h2>
<h4 id="4005-december-2012">4.005 (December 2012)</h4>
<p>Adds the utility function <code>utag.ut.decode</code>.</p>
<p>Also adds support for a &ldquo;no cookie&rdquo; flag <code>utag.cfg.nocookie</code>. When the <code>utag.cfg.nocookie </code>value is defined and set to true then <code>utag.js</code> does not write any <code>utag_main</code> cookies.</p>
<p class="note"><i class="fa fa-exclamation-triangle"></i>Existing <code>utag_main</code> cookies are not modified or removed. Some tags expect that <code>utag_main</code> cookies exist, so use this flag at your own risk.</p>
<p>Sample (Pre Loader-scoped JavaScript Code Extension):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">utag_cfg_ovrd</span><span style="color:#f92672">=</span>{};  
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">utag_cfg_ovrd</span>.<span style="color:#a6e22e">nocookie</span><span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>;
</span></span></code></pre></div><p><code>utag.ut.decode</code> is a safer version of <code>decodeURIComponent</code> (if <code>decodeURIComponent</code> issues an exception, then unescape is used)</p>
<h4 id="4004-november-2012">4.004 (November 2012)</h4>
<p>Includes a fix for an Internet Explorer DOM Ready Extension &ldquo;timing&rdquo; issue in IE7 and IE8 in which IE may or may not run the DOM Ready Extensions before Tags are loaded. This version fixes the issue to ensure that DOM Ready Extensions run first. This provides consistent behavior in all browsers.</p>
<p>Changes in <code>utag.DB</code>. This function is changed so that every <code>utag.DB</code> call does not &ldquo;re-check&rdquo; the cookie for <code>utagdb=true</code>; this makes for a high-performance <code>utag.DB</code> function.</p>
<p>Adds additional <code>utag.DB</code> calls in <code>utag.js</code>.</p>
<p>How do you turn on debugging? Run this in a console: <code>document.cookie=&quot;utagdb=true&quot;</code></p>
<p>Sample <code>utag.DB</code> call:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">utag</span>.<span style="color:#a6e22e">DB</span>(<span style="color:#e6db74">&#34;Inside of DOM Ready Extension&#34;</span>);
</span></span></code></pre></div><h4 id="4003-october-2012">4.003 (October 2012)</h4>
<p>Adds the ability to set a <code>utag_main</code> cookie to expire at a specific timestamp.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">utag</span>.<span style="color:#a6e22e">loader</span>.<span style="color:#a6e22e">SC</span>(<span style="color:#e6db74">&#34;utag_main&#34;</span>,{<span style="color:#e6db74">&#34;mycookie123&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;testing123;exp-1351111959896u&#34;</span>});
</span></span></code></pre></div><p>Note the &ldquo;u&rdquo; at the end of the timestamp</p>
<h4 id="4002-august-2012">4.002 (August 2012)</h4>
<p>Runs through the <code>utag.link</code> also for each of the sub profile tags.</p>
<h4 id="4001-august-2012">4.001 (August 2012)</h4>
<p>Fixes a cookie decode issue in which the cookie had strange characters.</p>
<h4 id="4000-initial">4.000 (Initial)</h4>
<p>There are multiple iterations of this file with no version number changes.</p>

</div>

<div class="mv30 nested-links overflow-hidden dpn"><div class="di">
  
  
  <a href="/platforms/javascript/debugging/"
    class="inline-flex items-center-ns ba b--black-10 br3 pa3">
    <svg class="w1" data-icon="chevronLeft" viewBox="0 0 32 32" style="fill:currentcolor;height:100%">
      <title>"Debugging "</title>
      <path d="M20 1 L24 5 L14 16 L24 27 L20 31 L6 16 z"></path>
    </svg>
   <section class="tr pl3">
      <div>Debugging</div>
    </section>
  </a>
  

</div></div>



        <div class="bt-l b--moon-gray pv3 cb">
          <div id="feedback_form" class="dpn">
  <div id="feedback_buttons">
	  <p class="di f5 pr2">Was this page helpful?</p>
		<button enabled id="feedback_yes" class="ba b--white bg-primary-color-light f5 ph2 pv2 br2 dib tc mv3 link primary-color-dark"><svg width="12" height="12" viewBox="0 0 12 12" fill="white" xmlns="http://www.w3.org/2000/svg">
<path d="M11.9593 5.91859C12.0445 6.23734 11.6882 6.55684 11.6882 6.55684C11.6882 6.55684 11.9552 7.05934 11.9293 7.53747C11.9061 7.97172 11.59 8.38572 11.59 8.38572C11.59 8.38572 11.7272 9.00709 11.5933 9.43197C11.4355 9.93184 11.0023 10.2476 11.0023 10.2476C11.0023 10.2476 10.9858 10.8026 10.7083 11.1618C10.4308 11.5211 9.89197 11.6846 9.89197 11.6846C9.89197 11.6846 9.11984 11.9996 8.25847 12.0225C7.26734 12.0487 6.16897 11.7825 6.16897 11.7825C6.16897 11.7825 5.66384 11.5338 5.04997 11.4063C4.33297 11.2578 3.49109 11.2275 3.49109 11.2275V6.55722C3.49109 6.55722 3.92309 6.50247 4.20472 6.10609C4.48934 5.70559 4.61197 5.07897 4.87709 4.57272C5.20484 3.94759 5.64659 3.47209 5.64659 3.42184C5.64659 3.36109 6.36209 2.81772 6.77797 2.04372C7.25572 1.15497 7.34497 0.0577174 7.34497 0.0577174C7.34497 0.0577174 7.89284 -0.0562825 8.27309 0.279342C8.72009 0.673842 8.81459 1.52734 8.81459 1.52734C8.81459 1.52734 8.70734 2.43784 8.39459 3.29284C8.16472 3.92134 7.89997 4.56484 7.89997 4.56484C7.89997 4.56484 8.01734 4.94434 8.54909 4.97059C8.97434 4.99159 9.63022 4.81759 10.1245 4.76172C10.7638 4.68972 11.1985 4.72797 11.1985 4.72797C11.1985 4.72797 11.8157 5.38234 11.9593 5.91859ZM-0.00390625 6.23022L2.73959 6.09972L2.80484 11.5867L0.387969 11.5541L-0.00390625 6.23022Z" fill="currentColor"/>
</svg>
Yes</button>
	  <button enabled id="feedback_no" class="ba b--white bg-primary-color-light f5 ph2 pv2 br2 dib tc mv3 link primary-color-dark"><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.84642 0.22244C5.84642 0.22244 6.35117 0.471065 6.96467 0.59819C7.68129 0.74669 8.52242 0.77669 8.52242 0.77669V5.44394C8.52242 5.44394 8.09079 5.49832 7.80917 5.89469C7.52492 6.29482 7.40229 6.92144 7.13717 7.42694C6.80979 8.05132 6.36804 8.52682 6.36804 8.57669C6.36804 8.63744 5.65329 9.18044 5.23742 9.95369C4.76004 10.8421 4.67079 11.9382 4.67079 11.9382C4.67079 11.9382 4.12329 12.0522 3.74304 11.7166C3.29642 11.3224 3.20192 10.4693 3.20192 10.4693C3.20192 10.4693 3.30917 9.55919 3.62154 8.70494C3.85104 8.07682 4.11579 7.43369 4.11579 7.43369C4.11579 7.43369 3.99842 7.05457 3.46704 7.02832C3.04217 7.00732 2.38667 7.18132 1.89279 7.23682C1.25379 7.30882 0.819541 7.27057 0.819541 7.27057C0.819541 7.27057 0.202666 6.61694 0.0590409 6.08069C-0.0260841 5.76232 0.330166 5.44282 0.330166 5.44282C0.330166 5.44282 0.0635409 4.94069 0.0890409 4.46294C0.112291 4.02907 0.428041 3.61507 0.428041 3.61507C0.428041 3.61507 0.290791 2.99407 0.424666 2.56994C0.582541 2.07044 1.01529 1.75507 1.01529 1.75507C1.01529 1.75507 1.03179 1.20044 1.30892 0.84119C1.58642 0.482315 2.12492 0.318815 2.12492 0.318815C2.12492 0.318815 2.89667 0.00381546 3.75729 -0.0186845C4.74767 -0.0449345 5.84529 0.22094 5.84529 0.22094L5.84642 0.22244ZM11.6229 0.450815L12.0148 5.77057L9.27354 5.90107L9.20829 0.41819L11.6229 0.450815Z" fill="currentColor"/>
</svg>
No</button>
  </div>
	<div id="feedback_comment" style="display: none;">
		<textarea id="feedback_textarea" class="ba b--light-gray bg-primary-color-light pa2 br3" type="text" placeholder="Tell us how we can make this article better." rows="4" cols="60"></textarea><button id="feedback_submit" class="db ba b--light-gray bg-primary-color-light f5 ph3 pv2 br2 dib tc mv3 link primary-color-dark">Send Feedback</button>
  </div>
  <div id="feedback_thank_you" style="display: none;">
     <p class="i">Thank you for your feedback!</p>
  </div>
</div>

        </div>
        <div class="bt-l b--moon-gray pt3 f6">
          <p>This page was last updated:  January 7, 2023 
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </p>
        </div>
      </div>
    </article>

    <nav id="toc" class="order-2 w-20 pl4 mv4 sticky-r dn db-ns">
      



  <aside class="fixed-lTK mw5 right-0 f6 bl b--light-gray pv4 pv0-ns ph3 nested-copy-line-height">
      <p class="b ttu">On this page</p>
      <nav id="TableOfContents"><ul class="toc-h2"><li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#449-september-2022">4.49 (September 2022)</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#445---448">4.45 - 4.48</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#443---444">4.43 - 4.44</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#440---442">4.40 - 4.42</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#436---439">4.36 - 4.39</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#426---435">4.26 - 4.35</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#4006---4011">4.006 - 4.011</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#4000-4005">4.000-4.005</a></li>
              </nav>
  </aside></nav>

</div>
</div>
    

    </main>

    <footer class="bg-primary-color-dark ph1-ns relative w-100" role="contentinfo">
    <div class="center flex-ns flex-wrap justify-between mw9 w-90">
    </div>

    <div class="bg-primary-color-dark bottom-0 left-0 right-0 dn-ns db fixed pb3 ph3 w-100">
<div class="globalmenu mobilemenu dn">
    

<ul class="list hidden dib ph0 ma0 scrolling-touch tc">
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Home
        </a>
    </li>
  
  
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/iq-tag-management/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          iQ Tag Management
        </a>
    </li>
  
  
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/server-side/getting-started/eventstream-api-hub/introduction/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          EventStream API Hub
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/server-side/getting-started/audiencestream-cdp/introduction/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          AudienceStream CDP
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/server-side/functions/about/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Functions
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/predict/getting-started/about-predict/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Predict ML
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/server-side/data-storage/about/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          DataAccess
        </a>
    </li>
  
  
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/client-side-tags/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Client-Side Tags
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/server-side-connectors/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Server-Side Connectors
        </a>
    </li>
  
  
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/platforms/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Platforms
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/api/getting-started/auth/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          API
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/industries/tealium-for-pharma/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Tealium for Pharma
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/industries/tealium-identity-partners/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Tealium Identity Partners
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/tech-partners/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Technology Partners
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/glossary/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Glossary
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/early-access/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Early Access
        </a>
    </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
</ul>

</div>


<div class="docsmenu mobilemenu dn" style="overflow-y:scroll;">
    <ul class="list dib ph0 ma0 scrolling-touch tc">
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/javascript/install/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Install
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/javascript/track/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Track
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/javascript/data-layer/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Data Layer
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/javascript/universal-data-object/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Universal Data Object (utag_data)
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/javascript/data-layer-object/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Data Layer Object (b)
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/javascript/single-page-applications/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Single-Page Applications
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/javascript/settings/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Settings
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/javascript/debugging/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Debugging
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/javascript/api/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          API Reference
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/javascript/release-notes/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Release Notes
      </a>
      </li>
      
      
  

</ul>

</div>




<div class="flex dn-l justify-between">
  <button class="js-toggle flex-auto dib dn-l f6 tc db mt3 ph3 pv2 link mr2 white bg-primary-color-dark hover-bg-primary-color ba b--white-40 w-auto" data-target=".globalmenu">Site</button>

  <button class="js-toggle flex-auto dib dn-l f6 tc db mt3 ph3 pv2 link white bg-primary-color-dark hover-bg-primary-color ba b--white-40 w-auto" data-target=".docsmenu">Section</button>

</div>
</div>
</footer>

    <script src="/dist/js/app.js"></script>

<script async defer src="https://buttons.github.io/buttons.js"></script>
<script src="https://kit.fontawesome.com/59194dc628.js" crossorigin="anonymous"></script>


    
      
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
<script type="text/javascript">
const translations = {
  button: {
    buttonText: 'Search',
    buttonAriaLabel: 'Search',
  },
  modal: {
    searchBox: {
      resetButtonTitle: 'Clear the query',
      resetButtonAriaLabel: 'Clear the query',
      cancelButtonText: 'Cancel',
      cancelButtonAriaLabel: 'Cancel',
    },
    startScreen: {
      recentSearchesTitle: 'Recent',
      noRecentSearchesText: 'No recent searches',
      saveRecentSearchButtonTitle: 'Save this search',
      removeRecentSearchButtonTitle: 'Remove this search from history',
      favoriteSearchesTitle: 'Favorite',
      removeFavoriteSearchButtonTitle: 'Remove this search from favorites',
    },
    errorScreen: {
      titleText: 'Unable to fetch results',
      helpText: 'You might want to check your network connection.',
    },
    footer: {
      selectText: 'to select',
      selectKeyAriaLabel: 'Enter key',
      navigateText: 'to navigate',
      navigateUpKeyAriaLabel: 'Arrow up',
      navigateDownKeyAriaLabel: 'Arrow down',
      closeText: 'to close',
      closeKeyAriaLabel: 'Escape key',
      searchByText: 'Search by',
    },
    noResultsScreen: {
      noResultsText: 'No results for',
      suggestedQueryText: 'Try searching for',
      reportMissingResultsText: 'Believe this query should return results?',
      reportMissingResultsLinkText: 'Let us know.',
    },
  },
};
var default_sections = [
  "Platforms > JavaScript (Web)",
  "Platforms > Getting Started for Websites",
  "Platforms > Android (Kotlin)",
  "Platforms > iOS (Swift)",
  "Platforms > Getting Started for Mobile"
];
var ls_sections = JSON.parse(localStorage.getItem("tealdocs_sections") || "[]");
if(ls_sections.indexOf("JAVASCRIPT") != -1) {
  ls_sections = [];
  localStorage.setItem("tealdocs_sections", JSON.stringify(default_sections));
}
var local_sections = new Set(ls_sections);
var cur_section = $('#breadcrumb ul li:nth-child(n+2)');
if(cur_section && cur_section.length) {
  var sect = cur_section.text().trim();
  if(local_sections.has(sect)) {
    
    local_sections.delete(sect);
    local_sections.add(sect);
  }
  else {
    
    local_sections.add(sect);
    if(local_sections.size > 10) {
      local_sections.delete(ls_sections[0]);
    }
  }
  localStorage.setItem("tealdocs_sections", JSON.stringify(Array.from(local_sections)));
}
var filt_pre = "hierarchy.lvl0:";
var hier_filters = local_sections.size ? Array.from(local_sections).map(s => filt_pre+s)
  : default_sections.map(s => filt_pre+s);
var opt_filters = [];
if(hier_filters.length) {
  opt_filters.push(hier_filters);
}
docsearch({
  container: '#docsearch',
  appId: '01G44CJWZ0',
  apiKey: 'cb21a38c7ac4f7dddf727fa23008d220',
  indexName: 'tealium',
  placeholder: 'Search',
  translations: translations,
  searchParameters: {
    "hitsPerPage": 50,
    optionalFilters: opt_filters
  },
  debug: "false"
});
</script>

    

  </body>
</html>
