<!DOCTYPE html>
<html class="no-js" lang="en-us">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://use.typekit.net/ilp4lxb.css">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     
    <title>Location Module | Modules |Tealium Docs</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.98.0" />

      
        <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
      

    <link href='/dist/css/app.css' rel='stylesheet' type="text/css" />

  </head>
  <body class="sidebar ma0 sans-serif text-color-primary  hg-page">
      
        
<script>
var utag_data = {
    site_section  : "platforms",
    site_language : "en",
    tealium_event : "page_view"
}
</script>

<script>
 (function(a,b,c,d){
    a="//tags.tiqcdn.com/utag/tealium/docs/prod/utag.js";
    b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
    a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
  })();
</script>

      

    
<nav class="w-100 sticky-t bg-primary-color-light bb b--light-gray dpn" role="navigation">

  <div class="flex-ns flex-wrap items-center justify-start mw9">

    <div class="lh-solid ml0-ns mr0 mr4-l mv3 pl15 dib db-ns">
      <a href="https://docs.tealium.com/"><img src="/images/icons/tealium-documentation-logo-color.svg" class="v-mid dib" width="186" height="31"></a>
    </div>
    
    <div class="dib ml3 mr4 mv3 pl15"><div id="docsearch">
</div>
</div><ul class="list ma0 pa0 dn dib-ns">
      
        <li class="f5 dib mr3" role="menuitem">
            
          <a href="https://community.tealiumiq.com/t5/Developer-Questions/qa-p/developer-questions" class="dim link mid-gray">
          Forums
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32" class="fill-current v-base" aria-label="External Link">
<path d="M25.152 16.576v5.696q0 2.144-1.504 3.648t-3.648 1.504h-14.848q-2.144 0-3.648-1.504t-1.504-3.648v-14.848q0-2.112 1.504-3.616t3.648-1.536h12.576q0.224 0 0.384 0.16t0.16 0.416v1.152q0 0.256-0.16 0.416t-0.384 0.16h-12.576q-1.184 0-2.016 0.832t-0.864 2.016v14.848q0 1.184 0.864 2.016t2.016 0.864h14.848q1.184 0 2.016-0.864t0.832-2.016v-5.696q0-0.256 0.16-0.416t0.416-0.16h1.152q0.256 0 0.416 0.16t0.16 0.416zM32 1.152v9.12q0 0.48-0.352 0.8t-0.8 0.352-0.8-0.352l-3.136-3.136-11.648 11.648q-0.16 0.192-0.416 0.192t-0.384-0.192l-2.048-2.048q-0.192-0.16-0.192-0.384t0.192-0.416l11.648-11.648-3.136-3.136q-0.352-0.352-0.352-0.8t0.352-0.8 0.8-0.352h9.12q0.48 0 0.8 0.352t0.352 0.8z"></path>
</svg>
</a>
        </li></ul>

    <ul class="list ma0 pa0 dn dib-ns">
      <li class="f5 dib">
         <i class="fa fa-globe" style="color: rgba(255, 255, 255, .6)" aria-hidden="true"></i>
      </li>
      <li class="f5 dib mr4"><a href="https://docs.tealium.co.jp/" class="dim link mid-gray">日本語</a>
</li>
    </ul>

  </div>


<div id="mainAppInner" class="padd-54 dpn">
    <div id="leftFrame">
        <div class="main-nav-container">
            <div class="flex-1">
                <ul id="navCategoryHome" class="menu-group as-main-navigation">
                    <li class="js-main-nav-section" data-section="home">
                        <a href="https://community.tealiumiq.com/" class="menu-list-item top-level tooltip-right" title="Tealium Learning Center">
                          <span class="menu-large-icon">
                              <span class="as-platform-image square-xxxs is-rounded bg-transparent">
                                  <span class="inner-image UDH-icon">TLC</span>
                              </span>
                          </span>
                          <span class="menu-context supportLinks_buttonTitle">Tealium Learning Center</span>
                        </a>
                          <span class="tooltiptext">Tealium Learning <br>Center</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a href="https://community.tealiumiq.com/t5/Forums/ct-p/tealiumlearningcommunity" class="menu-list-item top-level tooltip-right" title="Discussions">
                            <span class="menu-large-icon">
                                <i class="fal fa-comments"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">Discussions</span>
                        </a>
                          <span class="tooltiptext">Discussions</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section active">
                        <a href="https://docs.tealium.com/" class="menu-list-item top-level tooltip-right" title="Documentation">
                            <span class="menu-large-icon">
                                <i class="fal fa-book"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">Documentation</span>
                        </a>
                          <span class="tooltiptext">Documentation</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section" data-section="kb">
                        <a href="https://support.tealiumiq.com/en/support/solutions" class="menu-list-item top-level tooltip-right" title="Knowledge Base">
                            <span class="menu-large-icon">
                                <i class="fal fa-head-side-brain"></i>
                            </span>
                            <span class="menu-context">Knowledge Base</span>
                        </a>
                          <span class="tooltiptext"> Knowledge Base </span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a href="https://university.tealium.com/" class="menu-list-item top-level tooltip-right" title="Tealium Education">
                            <span class="menu-large-icon">
                                <i class="fal fa-graduation-cap"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">Education</span>
                        </a>
                          <span class="tooltiptext">Tealium Education</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a href="https://community.tealiumiq.com/t5/TLC-Blog/bg-p/TLC-Blog" class="menu-list-item top-level tooltip-right" title="TLC Blog">
                            <span class="menu-large-icon">
                                <i class="fal fa-newspaper"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">TLC Blog</span>
                        </a>
                          <span class="tooltiptext">TLC Blog</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a  href="https://support.tealiumiq.com" target="_blank" class="menu-list-item top-level tooltip-right" title="Tealium Support Desk">
                          <span class="menu-large-icon">
                            <i class="fal fa-life-ring"></i>
                          </span>
                          <span class="menu-context supportLinks_buttonTitle">Support Desk</span>
                        </a>
                          <span class="tooltiptext">Support Desk</span>
                    </li>
                </ul>
            </div>
            <ul class="menu-group as-main-navigation flex-0 bottom-align">
              <li class="menu-divider"></li>
              <li class="js-main-nav-section">
                <a href="https://my.tealiumiq.com/" class="menu-list-item top-level tooltip-right" title="Tealium Customer Data Hub">
                    <span class="menu-large-icon">
                        <span class="as-platform-image square-xxxs is-rounded bg-transparent">
                            <span class="inner-image UDH-icon">CDH</span>
                        </span>
                    </span>
                    <span class="menu-context supportLinks_buttonTitle">Customer Data Hub</span>
                </a>
                          <span class="tooltiptext">Customer Data Hub</span>
              </li>
              <li class="menu-divider"></li>
              <li class="js-toggle-leftframe">
                <a href="#" class="menu-list-item top-level d-flex justify-content-end" title="Expand/Collapse">
                    <span class="menu-large-icon d-flex align-items-center justify-content-center mr-0">
                        <span class="as-platform-image square-xxxs is-rounded bg-transparent d-flex align-items-center justify-content-center">
                            <i class="fa as-caret"></i>
                        </span>
                    </span>
                </a>
              </li>
            </ul>

        </div>

    </div>
</div>


</nav>

    
    <main role="main" class="content-with-sidebar pb0-ns">
      

<div class="w-100 pr4">
<div class="flex">

    
      <div id="menu" class="order-0 w-auto vh-100 overflow-auto dn db-ns sticky-l pt3 pl125" style="width:280px;">
<nav class="side-nav f6" role="navigation">
  <ul class="list pa0 mt0 mb1">
  
    <li class="w-100 fw4 f5 text-color-primary pv1 pl2"><a href="/platforms/" class="w-100 link text-color-primary hover-primary-color pv2 pl0 pr2"><img src="/images/icons/icon-arrow.svg" height="10" width="16" class="di v-mid pr1"/>Platforms</a></li>
  
  </ul>
  <ul class="list pa0"><li class="relative w-100 fw8 f4 mv2 text-color-primary pv1 ind2"><span class="pb2">Android (Java)</span>
        <ul class="android-java desktopmenu animated fadeIn list pl0 mt2"><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/install/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-install">Install</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/track/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-track">Track</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/data-layer/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-data-layer">Data Layer</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/data-management/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-data-management">Data Management</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/consent-management/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-consent-management">Consent Management</a>
      </li><li class="relative w-100 fw8 f5  active">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link text-color-primary hover-primary-color pv2  pl0 pr2 primary-color expanded " data-target=".android-java-module-list">Module List</a>
        <ul class="bl b--primary bw1 pl2 android-java-module-list desktopmenu animated fadeIn list "><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/module-list/adid/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-module-list-adid">Ad Identifier Module</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/module-list/crash-reporter/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-module-list-crash-reporter">Crash Reporter Module</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/module-list/install-referrer/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-module-list-install-referrer">Install Referrer Module</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/module-list/lifecycle-tracking/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-module-list-lifecycle-tracking">Lifecycle Tracking Module</a>
      </li><li class="selected relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/module-list/location/" class="db link ind2 pr2 pv2 bg-secondary primary-color" data-target=".android-java-module-list-location">Location Module</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/module-list/optimizely-x-tracking/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-module-list-optimizely-x-tracking">Optimizely X Tracking Module</a>
      </li></ul>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/tv/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-tv">Android TV</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/wear/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-wear">Android Wear</a>
      </li><li class="relative w-100 fw8 f5 ">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link text-color-primary hover-primary-color pv2  pl0 pr2  " data-target=".android-java-api">API Reference</a>
        <ul class=" android-java-api desktopmenu animated fadeIn list  dn"><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/api/consent-manager/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-api-consent-manager">ConsentManager</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/api/data-sources/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-api-data-sources">DataSources</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/api/life-cycle/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-api-life-cycle">Lifecycle</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/api/tealium/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-api-tealium">Tealium</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/api/tealium-config/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-api-tealium-config">Tealium.Config</a>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/api/tealium-location/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-api-tealium-location">TealiumLocation</a>
      </li></ul>
      </li><li class="relative w-100 hover-accent-color-light fw4 f5 ">
        <a href="/platforms/android-java/release-notes/" class="db link ind2 pr2 pv2 text-color-primary hover-primary-color " data-target=".android-java-release-notes">Release Notes</a>
      </li></ul></li></ul>
</nav>
</div>
    

    <article id="main-content" class="order-1 overflow-auto max-vh-100 pt4 ph4 mid-gray mt0-ns w-100" style="flex:1;scroll-padding-top:96px;">
      <div class="documentation-copy ph4">
        <header class="flex-none w-100"><nav id="breadcrumb">
<ul class="nav">

    
    
    
    
  
  <li class="mr1 f7 lvl0"><a class="f6 mb0 link mid-gray dim mr1" href="/">Home</a>&nbsp;>&nbsp;</li>
  

  
  
  <li class="mr1 f7 lvl1"><a class="f6 mb0 link mid-gray dim mr1" href="/platforms/">Platforms</a>&nbsp;>&nbsp;</li>
  

  
  
  <li class="mr1 f7 lvl2"><a class="f6 mb0 link mid-gray dim mr1" href="/platforms/android-java/">Tealium for Android (Java)</a>&nbsp;>&nbsp;</li>
  

  
  
  <li class="mr1 f7 lvl3"><a class="f6 mb0 link mid-gray dim mr1" href="/platforms/android-java/module-list/">Module List</a></li>
  

  
  

</ul>
</nav>

<h1 class="lh-title mt30 mb3">Location Module</h1>
</header>

<div class="mv2 mid-gray fn w-100">
  
    <p class="f4 fw3 lh-copy">
      Provides device location data for your events and the ability to add geofences around points of interest.
    </p>
  
</div>

<div class="prose nested-links" id="prose">
  <p>The Location module enables your Android app to receive location information and the ability to configure and monitor geofences. Learn more about <a href="/platforms/getting-started-mobile/location/">location tracking and geofencing</a>.</p>
<h2 id="supported-platforms">Supported Platforms</h2>
<p>The following platforms are supported:</p>
<ul>
<li><a href="/platforms/android-java/">Android</a></li>
<li><a href="/platforms/android-java/tv/">Android TV</a></li>
<li><a href="/platforms/android-java/wear/">Android Wear</a></li>
</ul>
<h2 id="requirements">Requirements</h2>
<ul>
<li><a href="/platforms/android-java/">Tealium for Android</a> (5.6.0+)</li>
<li>Google Play Services <a href="https://developer.android.com/training/location">Location</a> (11.0.0+)</li>
</ul>
<p>This module supports Firebase Cloud Messaging.</p>
<h2 id="sample-app">Sample App</h2>
<p>Explore the <a href="https://github.com/Tealium/tealium-android/tree/master/Modules/Location">Android Location module sample app</a> to familiarize yourself with our library, tracking methods, and best practice implementation.</p>
<h2 id="install">Install</h2>
<p>Install the module with Maven (recommended) or manually. After you install, add the following import statement:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span><span style="color:#f92672">import</span> com.tealium.location.TealiumLocation<span style="color:#f92672">;</span>
</span></span></code></pre></div><h3 id="maven">Maven</h3>
<p>To install the module using Maven:</p>
<ol>
<li>In your project&rsquo;s top-level <code>build.gradle</code> file, add the following Maven repository:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span>maven <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      url <span style="color:#e6db74">&#34;https://maven.tealiumiq.com/android/releases/&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div></li>
<li>In your project module&rsquo;s <code>build.gradle</code> file, add the Maven dependencies for the Tealium library, Location module, and Google Play Services Location API:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span>dependencies <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      implementation <span style="color:#e6db74">&#39;com.tealium:library:5.8.0&#39;</span>
</span></span><span style="display:flex;"><span>      implementation <span style="color:#e6db74">&#39;com.tealium:location:1.0.0&#39;</span>
</span></span><span style="display:flex;"><span>      runtimeOnly <span style="color:#e6db74">&#39;com.google.android.gms:play-services-location:17.0.0&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div></li>
</ol>
<h3 id="manual">Manual</h3>
<p>To install the Location module manually:</p>
<ol>
<li>
<p>Download the <a href="https://github.com/Tealium/tealium-android/tree/master/Modules/Location">Location module</a></p>
</li>
<li>
<p>In your top-level <code>build.gradle</code> file, verify the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span>allprojects <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      repositories <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>      google<span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span>      flatDir <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            dirs <span style="color:#e6db74">&#39;libs&#39;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div></li>
<li>
<p>Copy the file <code>tealium.location-1.0.0.aar</code> into your project&rsquo;s <code>&lt;PROJECT_ROOT&gt;/&lt;MODULE&gt;/libs</code> directory.</p>
</li>
<li>
<p>Add the Tealium library dependency to your project module’s <code>build.gradle</code> file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span>dependencies <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// only required if you do not already have this reference
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      implementation<span style="color:#f92672">(</span>name:<span style="color:#e6db74">&#39;tealium-5.6.0&#39;</span><span style="color:#f92672">,</span> ext:<span style="color:#e6db74">&#39;aar&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// location module reference
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      implementation<span style="color:#f92672">(</span>name:<span style="color:#e6db74">&#39;tealium.location-1.0.0&#39;</span><span style="color:#f92672">,</span> ext:<span style="color:#e6db74">&#39;aar&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Google&#39;s Location Services API reference
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      runtimeOnly <span style="color:#e6db74">&#39;com.google.android.gms:play-services-location:17.0.0&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div></li>
</ol>
<h2 id="initialize">Initialize</h2>
<p>Initialize the Location module by passing a Tealium instance name to <a href="/platforms/android-java/api/tealium-location/#setupinstance"><code>TealiumLocation.setupInstance()</code></a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Set<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> tealiumInstances <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashSet<span style="color:#f92672">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>tealiumInstances<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>TealiumHelper<span style="color:#f92672">.</span><span style="color:#a6e22e">TEALIUM_MAIN</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mInstance <span style="color:#f92672">=</span> TealiumLocation<span style="color:#f92672">.</span><span style="color:#a6e22e">setupInstance</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">,</span> tealiumInstances<span style="color:#f92672">);</span>
</span></span></code></pre></div><h2 id="location-tracking">Location Tracking</h2>
<p>The Location module performs continuous location tracking automatically when it is enabled and <a href="#location-permissions">location permissions</a> are granted. Location updates are based on two settings: accuracy and time interval.</p>
<p>Accuracy may be set to high or low. High accuracy corresponds to the Android setting <code>PRIORITY_HIGH_ACCURACY</code> and low accuracy corresponds to the Android setting <code>PRIORITY_BALANCED_POWER_ACCURACY</code>.</p>
<p>Learn more about <a href="https://developer.android.com/guide/topics/location/battery#accuracy">Android location accuracy settings</a>.</p>
<p>The time interval between location updates is set with a value in milliseconds. Use the highest possible value that is still useful to your app. The interval value is passed to the Android methods <code>setInterval()</code> and <code>setFastestInterval()</code>.</p>
<p>Learn more about <a href="https://developer.android.com/guide/topics/location/battery#frequency">Android location interval settings</a>.</p>
<p>Start location tracking by calling <a href="/platforms/android-java/api/tealium-location/#startlocationupdates"><code>TealiumLocation.startLocationUpdates()</code></a>. Set the first parameter to <code>true</code> for high accuracy and <code>false</code> for lower accuracy tracking.</p>
<p>The following example uses high accuracy and a time interval of 60000 milliseconds (60 seconds):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>TealiumLocation<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">().</span><span style="color:#a6e22e">startLocationUpdates</span><span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">,</span> 60000<span style="color:#f92672">);</span>
</span></span></code></pre></div><p>Disable continuous tracking by calling the methods <code>TealiumLocation.destroyInstance()</code> or <a href="/platforms/android-java/api/tealium-location/#stoplocationupdates"><code>TealiumLocation.stopLocationUpdates()</code></a>.</p>
<h3 id="location-permissions">Location Permissions</h3>
<p>To grant location permissions in your app:</p>
<ol>
<li>
<p>Set the constant variable for the location request code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> LOCATION_REQUEST_CODE <span style="color:#f92672">=</span> 101<span style="color:#f92672">;</span>
</span></span></code></pre></div></li>
<li>
<p>Add the following method in your app&rsquo;s <code>MainActivity</code> class:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">requestLocationPermission</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>ContextCompat<span style="color:#f92672">.</span><span style="color:#a6e22e">checkSelfPermission</span><span style="color:#f92672">(</span>getApplicationContext<span style="color:#f92672">(),</span>
</span></span><span style="display:flex;"><span>      Manifest<span style="color:#f92672">.</span><span style="color:#a6e22e">permission</span><span style="color:#f92672">.</span><span style="color:#a6e22e">ACCESS_FINE_LOCATION</span><span style="color:#f92672">)</span> <span style="color:#f92672">!=</span> PackageManager<span style="color:#f92672">.</span><span style="color:#a6e22e">PERMISSION_GRANTED</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            ActivityCompat<span style="color:#f92672">.</span><span style="color:#a6e22e">requestPermissions</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> String<span style="color:#f92672">[]{</span>
</span></span><span style="display:flex;"><span>                  Manifest<span style="color:#f92672">.</span><span style="color:#a6e22e">permission</span><span style="color:#f92672">.</span><span style="color:#a6e22e">ACCESS_FINE_LOCATION</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>                  Manifest<span style="color:#f92672">.</span><span style="color:#a6e22e">permission</span><span style="color:#f92672">.</span><span style="color:#a6e22e">ACCESS_COARSE_LOCATION</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">},</span> LOCATION_REQUEST_CODE<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div></li>
<li>
<p>Call the <code>requestLocationPermission()</code> method within the <code>onCreate()</code> method of the <code>MainActivity</code> class:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">((</span>ContextCompat<span style="color:#f92672">.</span><span style="color:#a6e22e">checkSelfPermission</span><span style="color:#f92672">(</span>getApplicationContext<span style="color:#f92672">(),</span>
</span></span><span style="display:flex;"><span>      Manifest<span style="color:#f92672">.</span><span style="color:#a6e22e">permission</span><span style="color:#f92672">.</span><span style="color:#a6e22e">ACCESS_FINE_LOCATION</span><span style="color:#f92672">)</span> <span style="color:#f92672">!=</span> PackageManager<span style="color:#f92672">.</span><span style="color:#a6e22e">PERMISSION_GRANTED</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&amp;&amp;</span> ContextCompat<span style="color:#f92672">.</span><span style="color:#a6e22e">checkSelfPermission</span><span style="color:#f92672">(</span>getApplicationContext<span style="color:#f92672">(),</span>
</span></span><span style="display:flex;"><span>      Manifest<span style="color:#f92672">.</span><span style="color:#a6e22e">permission</span><span style="color:#f92672">.</span><span style="color:#a6e22e">ACCESS_COARSE_LOCATION</span><span style="color:#f92672">)</span> <span style="color:#f92672">!=</span> PackageManager<span style="color:#f92672">.</span><span style="color:#a6e22e">PERMISSION_GRANTED</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      requestLocationPermission<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div></li>
<li>
<p>Optionally, to verify that location permissions are granted, override the <code>onRequestPermissionsResult</code>() method:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onRequestPermissionsResult</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> requestCode<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>      String<span style="color:#f92672">[]</span> permissions<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> grantResults<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      String message<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>requestCode <span style="color:#f92672">==</span> LOCATION_REQUEST_CODE<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// If request is cancelled, the result arrays are empty.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span> <span style="color:#f92672">((</span>grantResults<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">(</span>grantResults<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">==</span> PackageManager<span style="color:#f92672">.</span><span style="color:#a6e22e">PERMISSION_GRANTED</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Location Permission Granted&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Location Permission Not Granted&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Location Permission Not Granted&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>      showToast<span style="color:#f92672">(</span>message<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">showToast</span><span style="color:#f92672">(</span>String message<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      Toast<span style="color:#f92672">.</span><span style="color:#a6e22e">makeText</span><span style="color:#f92672">(</span>getApplicationContext<span style="color:#f92672">(),</span>
</span></span><span style="display:flex;"><span>      message<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>      Toast<span style="color:#f92672">.</span><span style="color:#a6e22e">LENGTH_LONG</span><span style="color:#f92672">).</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div></li>
</ol>
<h3 id="last-known-location">Last Known Location</h3>
<p>When continuous tracking is disabled, request the last known location with the method <a href="/platforms/android-java/api/tealium-location/#requestdevicelastlocation"><code>TealiumLocation.requestDeviceLastLocation()</code></a>. This method relies on the location client being used by other apps on the device for accuracy. If no other apps are receiving location updates, then the method returns the last known location (or <code>null</code> if the location is not available).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>TealiumLocation<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">().</span><span style="color:#a6e22e">requestDeviceLastLocation</span><span style="color:#f92672">();</span>
</span></span></code></pre></div><h2 id="geofencing">Geofencing</h2>
<p>To initialize with geofencing enabled, use one of the following methods to provide your <a href="/platforms/getting-started-mobile/location/#json-file">geofence JSON file</a> to the setup method:</p>
<ul>
<li><strong>Hosted URL</strong><br>
Use your own hosted geofences file provided as a URL to the method <a href="/platforms/android-java/api/tealium-location/#setupinstancewithurl"><code>TealiumLocation.setupInstanceWithUrl()</code></a>.<br>
This option is recommended if you have overridden the publish settings URL or want to use <a href="/iq-tag-management/data-layer/hosted-data-layer/use-case-supplementing-product-data/">Hosted Data Layer</a>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>TealiumLocation<span style="color:#f92672">.</span><span style="color:#a6e22e">setupInstanceWithUrl</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">,</span> tealiumInstances<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;https://example.com/geofences.json&#34;</span><span style="color:#f92672">);</span>
</span></span></code></pre></div><ul>
<li><strong>Local File</strong><br>
Use a geofences file stored in the Assets directory of your app with <a href="/platforms/android-java/api/tealium-location/#setupinstancewithfile"><code>TealiumLocation.setupInstanceWithFile()</code></a>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>TealiumLocation<span style="color:#f92672">.</span><span style="color:#a6e22e">setupInstanceWithFile</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">,</span> tealiumInstances<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;geofences.json&#34;</span><span style="color:#f92672">);</span>
</span></span></code></pre></div><h2 id="additional-considerations">Additional Considerations</h2>
<p><strong>Battery Optimization Features</strong><br>
Android devices that implement battery optimization features may interfere with geofence monitoring, leading to events not firing.</p>
<p><strong>BroadcastReceiver</strong><br>
A <code>GEOFENCE_EVENT</code> broadcast is sent when a geofence transition type is triggered. Android only calls the <em>first</em> <code>BroadcastReceiver</code> for this particular broadcast, even if multiple are defined. For third party SDKs that handle the <code>GEOFENCE_EVENT</code> broadcast, implement a &ldquo;proxy&rdquo; <code>BroadcastReceiver</code> that calls the <code>onReceive()</code> method of each individual receiver for the <code>GEOFENCE_EVENT</code> broadcast.</p>
<p><strong>Initializing Geofences</strong><br>
If a user is within a geofence at the time of creation, the <code>&quot;enter&quot;</code> transition event does not fire. This is because <code>&quot;exit&quot;</code> and <code>&quot;enter&quot;</code> transition events are fired when crossing the perimeter and not when materializing inside.</p>
<p><strong>Latency:</strong><br>
When using the geofencing capabilities, take the following into account:</p>
<ul>
<li>The geofence service does not continuously query for location, so latency is expected when receiving alerts. The latency is typically less than 2 minutes, but if background location limits are set or if the device has been stationary for a while, the latency increases.</li>
<li>The geofence service depends on the network location provider and a data connection. If there is no reliable network connectivity inside the geofence, alerts may not be triggered.</li>
<li>If Wi-Fi is turned off on the device, your application might never receive geofence alerts depending on several settings including the radius of the geofence, the device model, or the Android version. In Android 4.3+ provides the capability of &ldquo;Wi-Fi scan only mode&rdquo; which allows users to disable Wi-Fi and still receive a reliable network location. It is recommended to prompt the user to enable this setting.</li>
</ul>
<p><strong>Number of Active Geofences</strong><br>
Geofences are added and removed dynamically, using as few resources as possible. There is no limit to the number of geofences defined, but the number of active geofences is limited to 100 per device user across <em>all</em> running applications.</p>
<h2 id="data-layer">Data Layer</h2>
<p>The following variables are populated by the Location module as part of the mobile data layer. These variables are included automatically in each tracking call from the library.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Variable Name</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
<th style="text-align:left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>latitude</code></td>
<td style="text-align:left"><code>String</code></td>
<td style="text-align:left">The latitude of the user&rsquo;s most recently recorded location</td>
<td style="text-align:left"><code>&quot;32.906119&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><code>longitude</code></td>
<td style="text-align:left"><code>String</code></td>
<td style="text-align:left">The longitude of the user&rsquo;s most recently recorded location</td>
<td style="text-align:left"><code>&quot;-117.2367&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><code>location_accuracy</code></td>
<td style="text-align:left"><code>String</code></td>
<td style="text-align:left">The accuracy setting for the location module, such as <code>&quot;high&quot;</code> or <code>&quot;low&quot;</code></td>
<td style="text-align:left"><code>&quot;high&quot;</code></td>
</tr>
</tbody>
</table>
<p>During geofencing, a tracking call containing location data is sent when the transition state of the user changes. Transition state changes include a user entering, exiting, or dwelling within a geofence for a specified duration of time. You must set the duration of loitering before the dwelling alert is sent using the Android method <a href="https://developers.google.com/android/reference/com/google/android/gms/location/Geofence.Builder#setLoiteringDelay(int)">setLoiteringDelay()</a>.</p>
<p>The following variables are sent to the data layer:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Variable Name</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
<th style="text-align:left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>tealium_event</code></td>
<td style="text-align:left"><code>String</code></td>
<td style="text-align:left">The Tealium tracked geofence event</td>
<td style="text-align:left"><code>&quot;geofence_entered&quot;</code>, <code>&quot;geofence_exited&quot;</code>, or <code>&quot;geofence_dwell&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><code>geofence_name</code></td>
<td style="text-align:left"><code>String</code></td>
<td style="text-align:left">The name of the geofence region</td>
<td style="text-align:left"><code>&quot;Tealium_San_Diego&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><code>geofence_transition_type</code></td>
<td style="text-align:left"><code>String</code></td>
<td style="text-align:left">The type of geofence transition event</td>
<td style="text-align:left"><code>&quot;geofence_entered&quot;</code>, <code>&quot;geofence_exited&quot;</code>, or <code>&quot;geofence_dwell&quot;</code></td>
</tr>
</tbody>
</table>
<h2 id="api-reference">API Reference</h2>
<p>For the reference of methods used in the Location module, see the <a href="/platforms/android-java/api/tealium-location/#class-tealiumlocation"><code>TealiumLocation</code></a> class in the Tealium SDK for Android API.</p>

</div>

<div class="mv30 nested-links overflow-hidden dpn"><div class="fr">

  
  <a href="/platforms/android-java/module-list/optimizely-x-tracking/"
    class="inline-flex items-center-ns ba b--black-10 br3 pa3">
    <section class="tl pr3">
      <div>Optimizely X Tracking Module</div>
    </section>
    <svg class="w1" data-icon="chevronRight" viewBox="0 0 32 32" style="fill:currentcolor;height:100%">
      <title>"Optimizely X Tracking Module"</title>
      <path d="M12 1 L26 16 L12 31 L8 27 L18 16 L8 5 z"></path>
    </svg>
  </a>
  
  
</div><div class="di">
  
  
  <a href="/platforms/android-java/module-list/lifecycle-tracking/"
    class="inline-flex items-center-ns ba b--black-10 br3 pa3">
    <svg class="w1" data-icon="chevronLeft" viewBox="0 0 32 32" style="fill:currentcolor;height:100%">
      <title>"Lifecycle Tracking Module "</title>
      <path d="M20 1 L24 5 L14 16 L24 27 L20 31 L6 16 z"></path>
    </svg>
   <section class="tr pl3">
      <div>Lifecycle Tracking Module</div>
    </section>
  </a>
  

</div></div>



        <div class="bt-l b--moon-gray pv3 cb">
          <div id="feedback_form" class="dpn">
  <div id="feedback_buttons">
	  <p class="di f5 pr2">Was this page helpful?</p>
		<button enabled id="feedback_yes" class="ba b--white bg-primary-color-light f5 ph2 pv2 br2 dib tc mv3 link primary-color-dark"><svg width="12" height="12" viewBox="0 0 12 12" fill="white" xmlns="http://www.w3.org/2000/svg">
<path d="M11.9593 5.91859C12.0445 6.23734 11.6882 6.55684 11.6882 6.55684C11.6882 6.55684 11.9552 7.05934 11.9293 7.53747C11.9061 7.97172 11.59 8.38572 11.59 8.38572C11.59 8.38572 11.7272 9.00709 11.5933 9.43197C11.4355 9.93184 11.0023 10.2476 11.0023 10.2476C11.0023 10.2476 10.9858 10.8026 10.7083 11.1618C10.4308 11.5211 9.89197 11.6846 9.89197 11.6846C9.89197 11.6846 9.11984 11.9996 8.25847 12.0225C7.26734 12.0487 6.16897 11.7825 6.16897 11.7825C6.16897 11.7825 5.66384 11.5338 5.04997 11.4063C4.33297 11.2578 3.49109 11.2275 3.49109 11.2275V6.55722C3.49109 6.55722 3.92309 6.50247 4.20472 6.10609C4.48934 5.70559 4.61197 5.07897 4.87709 4.57272C5.20484 3.94759 5.64659 3.47209 5.64659 3.42184C5.64659 3.36109 6.36209 2.81772 6.77797 2.04372C7.25572 1.15497 7.34497 0.0577174 7.34497 0.0577174C7.34497 0.0577174 7.89284 -0.0562825 8.27309 0.279342C8.72009 0.673842 8.81459 1.52734 8.81459 1.52734C8.81459 1.52734 8.70734 2.43784 8.39459 3.29284C8.16472 3.92134 7.89997 4.56484 7.89997 4.56484C7.89997 4.56484 8.01734 4.94434 8.54909 4.97059C8.97434 4.99159 9.63022 4.81759 10.1245 4.76172C10.7638 4.68972 11.1985 4.72797 11.1985 4.72797C11.1985 4.72797 11.8157 5.38234 11.9593 5.91859ZM-0.00390625 6.23022L2.73959 6.09972L2.80484 11.5867L0.387969 11.5541L-0.00390625 6.23022Z" fill="currentColor"/>
</svg>
Yes</button>
	  <button enabled id="feedback_no" class="ba b--white bg-primary-color-light f5 ph2 pv2 br2 dib tc mv3 link primary-color-dark"><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.84642 0.22244C5.84642 0.22244 6.35117 0.471065 6.96467 0.59819C7.68129 0.74669 8.52242 0.77669 8.52242 0.77669V5.44394C8.52242 5.44394 8.09079 5.49832 7.80917 5.89469C7.52492 6.29482 7.40229 6.92144 7.13717 7.42694C6.80979 8.05132 6.36804 8.52682 6.36804 8.57669C6.36804 8.63744 5.65329 9.18044 5.23742 9.95369C4.76004 10.8421 4.67079 11.9382 4.67079 11.9382C4.67079 11.9382 4.12329 12.0522 3.74304 11.7166C3.29642 11.3224 3.20192 10.4693 3.20192 10.4693C3.20192 10.4693 3.30917 9.55919 3.62154 8.70494C3.85104 8.07682 4.11579 7.43369 4.11579 7.43369C4.11579 7.43369 3.99842 7.05457 3.46704 7.02832C3.04217 7.00732 2.38667 7.18132 1.89279 7.23682C1.25379 7.30882 0.819541 7.27057 0.819541 7.27057C0.819541 7.27057 0.202666 6.61694 0.0590409 6.08069C-0.0260841 5.76232 0.330166 5.44282 0.330166 5.44282C0.330166 5.44282 0.0635409 4.94069 0.0890409 4.46294C0.112291 4.02907 0.428041 3.61507 0.428041 3.61507C0.428041 3.61507 0.290791 2.99407 0.424666 2.56994C0.582541 2.07044 1.01529 1.75507 1.01529 1.75507C1.01529 1.75507 1.03179 1.20044 1.30892 0.84119C1.58642 0.482315 2.12492 0.318815 2.12492 0.318815C2.12492 0.318815 2.89667 0.00381546 3.75729 -0.0186845C4.74767 -0.0449345 5.84529 0.22094 5.84529 0.22094L5.84642 0.22244ZM11.6229 0.450815L12.0148 5.77057L9.27354 5.90107L9.20829 0.41819L11.6229 0.450815Z" fill="currentColor"/>
</svg>
No</button>
  </div>
	<div id="feedback_comment" style="display: none;">
		<textarea id="feedback_textarea" class="ba b--light-gray bg-primary-color-light pa2 br3" type="text" placeholder="Tell us how we can make this article better." rows="4" cols="60"></textarea><button id="feedback_submit" class="db ba b--light-gray bg-primary-color-light f5 ph3 pv2 br2 dib tc mv3 link primary-color-dark">Send Feedback</button>
  </div>
  <div id="feedback_thank_you" style="display: none;">
     <p class="i">Thank you for your feedback!</p>
  </div>
</div>

        </div>
        <div class="bt-l b--moon-gray pt3 f6">
          <p>This page was last updated:  February 6, 2020 
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </p>
        </div>
      </div>
    </article>

    <nav id="toc" class="order-2 w-20 pl4 mv4 sticky-r dn db-ns">
      



  <aside class="fixed-lTK mw5 right-0 f6 bl b--light-gray pv4 pv0-ns ph3 nested-copy-line-height">
      <p class="b ttu">On this page</p>
      <nav id="TableOfContents"><ul class="toc-h2"><li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#supported-platforms">Supported Platforms</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#requirements">Requirements</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#sample-app">Sample App</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#install">Install</a></li>
              <ul class="toc-h3"><li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#maven">Maven</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#manual">Manual</a></li>
              </ul><li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#initialize">Initialize</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#location-tracking">Location Tracking</a></li>
              <ul class="toc-h3"><li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#location-permissions">Location Permissions</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#last-known-location">Last Known Location</a></li>
              </ul><li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#geofencing">Geofencing</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#additional-considerations">Additional Considerations</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#data-layer">Data Layer</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" href="#api-reference">API Reference</a></li>
              </nav>
  </aside></nav>

</div>
</div>
    

    </main>

    <footer class="bg-primary-color-dark ph1-ns relative w-100" role="contentinfo">
    <div class="center flex-ns flex-wrap justify-between mw9 w-90">
    </div>

    <div class="bg-primary-color-dark bottom-0 left-0 right-0 dn-ns db fixed pb3 ph3 w-100">
<div class="globalmenu mobilemenu dn">
    

<ul class="list hidden dib ph0 ma0 scrolling-touch tc">
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Home
        </a>
    </li>
  
  
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/iq-tag-management/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          iQ Tag Management
        </a>
    </li>
  
  
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/server-side/getting-started/eventstream-api-hub/introduction/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          EventStream API Hub
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/server-side/getting-started/audiencestream-cdp/introduction/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          AudienceStream CDP
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/server-side/functions/about/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Functions
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/server-side/data-connect/about/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Data Connect
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/predict/getting-started/about-predict/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Predict ML
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/server-side/data-storage/about/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          DataAccess
        </a>
    </li>
  
  
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/client-side-tags/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Client-Side Tags
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/server-side-connectors/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Server-Side Connectors
        </a>
    </li>
  
  
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/platforms/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Platforms
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/api/getting-started/auth/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          API
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/industries/tealium-for-pharma/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Tealium for Pharma
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/industries/tealium-identity-partners/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Tealium Identity Partners
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/tech-partners/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Technology Partners
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/glossary/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Glossary
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/early-access/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Early Access
        </a>
    </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
</ul>

</div>


<div class="docsmenu mobilemenu dn" style="overflow-y:scroll;">
    <ul class="list dib ph0 ma0 scrolling-touch tc">
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/android-java/install/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Install
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/android-java/track/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Track
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/android-java/data-layer/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Data Layer
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/android-java/data-management/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Data Management
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/android-java/consent-management/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Consent Management
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/android-java/module-list/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4 bg-primary-color">
          Module List
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/android-java/tv/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Android TV
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/android-java/wear/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Android Wear
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/android-java/api/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          API Reference
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/platforms/android-java/release-notes/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Release Notes
      </a>
      </li>
      
      
  

</ul>

</div>




<div class="flex dn-l justify-between">
  <button class="js-toggle flex-auto dib dn-l f6 tc db mt3 ph3 pv2 link mr2 white bg-primary-color-dark hover-bg-primary-color ba b--white-40 w-auto" data-target=".globalmenu">Site</button>

  <button class="js-toggle flex-auto dib dn-l f6 tc db mt3 ph3 pv2 link white bg-primary-color-dark hover-bg-primary-color ba b--white-40 w-auto" data-target=".docsmenu">Section</button>

</div>
</div>
</footer>

    <script src="/dist/js/app.js"></script>

<script async defer src="https://buttons.github.io/buttons.js"></script>
<script src="https://kit.fontawesome.com/59194dc628.js" crossorigin="anonymous"></script>


    
      
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
<script type="text/javascript">
const translations = {
  button: {
    buttonText: 'Search',
    buttonAriaLabel: 'Search',
  },
  modal: {
    searchBox: {
      resetButtonTitle: 'Clear the query',
      resetButtonAriaLabel: 'Clear the query',
      cancelButtonText: 'Cancel',
      cancelButtonAriaLabel: 'Cancel',
    },
    startScreen: {
      recentSearchesTitle: 'Recent',
      noRecentSearchesText: 'No recent searches',
      saveRecentSearchButtonTitle: 'Save this search',
      removeRecentSearchButtonTitle: 'Remove this search from history',
      favoriteSearchesTitle: 'Favorite',
      removeFavoriteSearchButtonTitle: 'Remove this search from favorites',
    },
    errorScreen: {
      titleText: 'Unable to fetch results',
      helpText: 'You might want to check your network connection.',
    },
    footer: {
      selectText: 'to select',
      selectKeyAriaLabel: 'Enter key',
      navigateText: 'to navigate',
      navigateUpKeyAriaLabel: 'Arrow up',
      navigateDownKeyAriaLabel: 'Arrow down',
      closeText: 'to close',
      closeKeyAriaLabel: 'Escape key',
      searchByText: 'Search by',
    },
    noResultsScreen: {
      noResultsText: 'No results for',
      suggestedQueryText: 'Try searching for',
      reportMissingResultsText: 'Believe this query should return results?',
      reportMissingResultsLinkText: 'Let us know.',
    },
  },
};
var default_sections = [
  "Platforms > JavaScript (Web)",
  "Platforms > Getting Started for Websites",
  "Platforms > Android (Kotlin)",
  "Platforms > iOS (Swift)",
  "Platforms > Getting Started for Mobile"
];
var ls_sections = JSON.parse(localStorage.getItem("tealdocs_sections") || "[]");
if(ls_sections.indexOf("JAVASCRIPT") != -1) {
  ls_sections = [];
  localStorage.setItem("tealdocs_sections", JSON.stringify(default_sections));
}
var local_sections = new Set(ls_sections);
var cur_section = $('#breadcrumb ul li:nth-child(n+2)');
if(cur_section && cur_section.length) {
  var sect = cur_section.text().trim();
  if(local_sections.has(sect)) {
    
    local_sections.delete(sect);
    local_sections.add(sect);
  }
  else {
    
    local_sections.add(sect);
    if(local_sections.size > 10) {
      local_sections.delete(ls_sections[0]);
    }
  }
  localStorage.setItem("tealdocs_sections", JSON.stringify(Array.from(local_sections)));
}
var filt_pre = "hierarchy.lvl0:";
var hier_filters = local_sections.size ? Array.from(local_sections).map(s => filt_pre+s)
  : default_sections.map(s => filt_pre+s);
var opt_filters = [];
if(hier_filters.length) {
  opt_filters.push(hier_filters);
}
docsearch({
  container: '#docsearch',
  appId: '01G44CJWZ0',
  apiKey: 'cb21a38c7ac4f7dddf727fa23008d220',
  indexName: 'tealium',
  placeholder: 'Search',
  translations: translations,
  searchParameters: {
    "hitsPerPage": 50,
    optionalFilters: opt_filters
  },
  debug: "false"
});
</script>

    

  </body>
</html>
