<!DOCTYPE html>
<html class="no-js" lang="ja">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://use.typekit.net/ilp4lxb.css">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     
    <title>Moments APIの実装ガイド | モーメンツ API | Tealium開発者ドキュメント</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.111.3">

      
        <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
      

    
    
      
        <link rel="alternate" hreflang="en" href="https://docs.tealium.com/early-access/moments-api/implementation/">
      
    
      
    
    

     <link href='/dist/css/app.css' rel='stylesheet' type="text/css" />
    <script>
      history.scrollRestoration = "manual";
      if (location.hash) {
        window.scrollTo(0, 0);
        setTimeout(function() {
          window.scrollTo(0, 0);
        }, 10);
      }
    </script>
  </head>
  <body class="sidebar ma0 sans-serif text-color-primary  hg-page">
      
        
<script>
var utag_data = {
    site_section  : "early-access",
    reading_time  : "2",
    site_language : "ja",
    tealium_event : "page_view"
}
</script>

<script>
 (function(a,b,c,d){
    a="//tags.tiqcdn.com/utag/tealium/docs/prod/utag.js";
    b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
    a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
  })();
</script>

      

    
<nav class="w-100 sticky-t bg-primary-color-light bb b--light-gray dpn" role="navigation">

  <div class="flex-ns flex-wrap items-center justify-start mw9">

    <div class="lh-solid ml0-ns mr0 mr4-l mv3 pl15 dib db-ns">
      <a href="/ja/"><img src="/images/icons/tealium-documentation-logo-color.svg" class="v-mid dib" width="186" height="31"></a>
    </div>
    
    <div class="dib ml3 mr4 mv3 pl15"><div id="docsearch">
</div>
</div><ul class="list ma0 pa0 dn dib-ns">
      <li class="f5 dib">
         <i class="fa fa-globe" style="color: rgba(255, 255, 255, .6)" aria-hidden="true"></i>
      </li>
        
      <li class="f5 dib mr4">
      
        
          <a href="/early-access/moments-api/implementation/" class="dim link mid-gray">English</a>
        
      
        
      
      </li>
            
    </ul>

  </div>
  
</nav>
    
    <main role="main" class="content-with-sidebar pb0-ns">
      

<div class="w-100 pr4">
<div class="flex">

    
      <div id="menu" class="order-0 w-auto max-vh-100 overflow-hidden overflow-y-scroll dn db-ns sticky-l pt3 pl125" style="width:280px;">
<nav class="side-nav f6" role="navigation">
  <ul class="list pa0 mt0 mb1">
  
    <li class="w-100 fw4 f5 text-color-primary pv1 pl2"><a href="/ja/" class="w-100 link text-color-primary hover-primary-color pv2 pl0 pr2"><img src="/images/icons/icon-arrow.svg" height="10" width="16" class="di v-mid pr1"/>家</a></li>
  
  </ul>
  <ul class="list pa0" data-nav-section="early-access"><li data-level="1" class="relative w-100 fw8 f4 mv2 text-color-primary pv1 ind2"><a href="/ja/early-access/" class="dib w-100 link text-color-primary hover-primary-color"><span class="pb2">早期アクセス</span></a>
        <ul data-level="1" class="early-access desktopmenu animated fadeIn list pl0 mt2"><li data-level="2" class="relative w-100 hover-accent-color-light fw4 f5  ">
        <a href="/ja/early-access/about/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".">アーリーアクセスについて</a></li><li data-level="2" class="relative w-100 hover-accent-color-light fw4 f5  ">
        <a href="/ja/server-side-connectors/linkedin-conversions-connector/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".linkedin-conversions-connector">LinkedIn Conversions</a></li><li data-level="2" class="relative w-100 hover-accent-color-light fw4 f5  ">
        <a href="/ja/early-access/snowflake-streaming-connector/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".snowflake-streaming-connector">Snowflakeストリーミングコネクタ</a></li><li data-level="2" class="relative w-100 hover-accent-color-light fw4 f5  ">
        <a href="/ja/early-access/spotify-conversions-connector-alpha/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".spotify-conversions-connector-alpha">Spotify Conversionsコネクタ</a></li><li class="relative w-100 fw8 f5 ">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link text-color-primary hover-primary-color pv2 ind2 pr2  " data-target=".api-v3">Tealium API v3</a>
        <ul class="pl2  api-v3 desktopmenu animated fadeIn list  dn"><li class="relative w-100 fw8 f5 ">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link text-color-primary hover-primary-color pv2 ind2 pr2  " data-target=".iq-profiles-api">iQプロファイル</a>
        <ul class="pl2  iq-profiles-api desktopmenu animated fadeIn list  dn"><li data-level="4" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/api-v3/iq-profiles/about/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".early-access-iq-profiles-v3-api">iQプロファイルについて</a></li><li data-level="4" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/api-v3/iq-profiles/iq-profiles-api-objects/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".early-access-iq-profiles-api-objects">iQ Profiles APIオブジェクト</a></li><li data-level="4" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/api-v3/iq-profiles/iq-get-profile-api/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".iq-get-profile-api">iQ GETプロファイルAPI</a></li><li data-level="4" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/api-v3/iq-profiles/iq-javascript-extension-api/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".early-access-iq-javascript-extension-api">iQ JavaScript拡張API</a></li><li data-level="4" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/api-v3/iq-profiles/iq-events-api/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".early-access-iq-events-api">iQ イベント API</a></li><li data-level="4" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/api-v3/iq-profiles/iq-variables-api/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".early-access-iq-variables-api">iQ変数API</a></li><li data-level="4" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/api-v3/iq-profiles/iq-load-rules-api/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".early-access-iq-load-rules-api">iQロードルールAPI</a></li><li data-level="4" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/api-v3/iq-profiles/iq-tags-api/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".early-access-iq-tags-api">iQ タグ API</a></li></ul>
      </li><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/api-v3/tealium-collect-http-api-v3-early-access/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".tealium-collect-http-api-v3-early-access">Tealium Collect HTTP API</a></li><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/api-v3/tealium-api-v3-visitor-privacy-api-formerly-visitor-lookup-api/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".tealium-api-v3-visitor-privacy-api-formerly-visitor-lookup-api">Visitor Privacy API</a></li><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/api-v3/tealium-api-visitor-profile-api-early-access/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".tealium-api-v3-visitor-profile-api-early-access">Visitor Profile API</a></li><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/api-v3/tealium-api-v3-getting-started-early-access/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".tealium-api-v3-getting-started-early-access">認証とリクエスト形式</a></li></ul>
      </li><li data-level="2" class="relative w-100 hover-accent-color-light fw4 f5  ">
        <a href="/ja/early-access/visitor-deletion-jobs/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".visitor-deletion-jobs">ビジター削除ジョブ</a></li><li class="relative w-100 fw8 f5 ">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link text-color-primary hover-primary-color pv2 ind2 pr2  " data-target=".platform-permissions">プラットフォームの権限</a>
        <ul class="pl2  platform-permissions desktopmenu animated fadeIn list  dn"><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/platform-permissions/ea/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".">早期アクセスリリース</a></li><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/platform-permissions/pii-account-roles/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".">PIIとアカウントレベルのロール</a></li></ul>
      </li><li class="relative w-100 fw8 f5  active">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link text-color-primary hover-primary-color pv2 ind2 pr2 primary-color expanded " data-target=".moments-api">モーメンツ API</a>
        <ul class="pl2 bl b--primary bw1 moments-api desktopmenu animated fadeIn list "><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/moments-api/about/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".early-access-about-moments-api">について</a></li><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/moments-api/manage/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".early-access-moments-api-manage-engines">エンジンの管理</a></li><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/moments-api/endpoint/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".early-access-moments-api-endpoint">エンドポイント</a></li><li data-level="3" class="selected relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/moments-api/implementation/" class="db link pr2 pv2  bg-secondary primary-color " data-target=".early-access-moments-api-implementation">実装</a></li></ul>
      </li><li class="relative w-100 fw8 f5 ">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link text-color-primary hover-primary-color pv2 ind2 pr2  " data-target=".moments-iq">モーメンツiQ</a>
        <ul class="pl2  moments-iq desktopmenu animated fadeIn list  dn"><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/moments-iq/about/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".">Moments iQについて</a></li><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/moments-iq/manage/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".">Moments iQの管理</a></li><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/moments-iq/example/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".">専門知識の例</a></li><li data-level="3" class="relative w-100 hover-accent-color-light fw4 f5  ind2">
        <a href="/ja/early-access/moments-iq/audiencestream-example/" class="db link pr2 pv2  text-color-primary hover-primary-color " data-target=".">AudienceStreamの例</a></li></ul>
      </li></ul></li></ul>
</nav>
</div>
    

    <article id="main-content" class="order-1 overflow-auto max-vh-100 pt4 ph4 mid-gray mt0-ns w-100" style="flex:1;scroll-padding-top:96px;">
      <div class="documentation-copy ph4">
        <header class="flex-none w-100"><nav id="breadcrumb">
<ul class="nav">

    
    
    
  
  <li class="mr1 f7 lvl0"><a class="f6 mb0 link mid-gray dim mr1" href="/ja/">ホーム</a>&nbsp;>&nbsp;</li>
  

  
  
  <li class="mr1 f7 lvl1"><a class="f6 mb0 link mid-gray dim mr1" href="/ja/early-access/">アーリーアクセス</a>&nbsp;>&nbsp;</li>
  

  
  
  <li class="mr1 f7 lvl2"><a class="f6 mb0 link mid-gray dim mr1" href="/ja/early-access/moments-api/">モーメンツ API</a></li>
  

  
  

</ul>
</nav>

<h1 class="lh-title mt30 mb3">Moments APIの実装ガイド</h1>
</header>

<div class="mv2 mid-gray fn w-100">
  

  
    <p class="f4 fw3 lh-copy">
      この記事では、Moments APIをTealium iQタグ管理ワークフローに実装する方法について説明します。
    </p>
  
</div>

<div class="prose nested-links" id="prose">
  <h2 id="仕組み">仕組み</h2>
<p>Moments APIは、あなたのウェブサイトやアプリケーションに統合できるユニークなエンドポイントを作成します。</p>
<p>以下の手順を完了して、<a href="/ja/iq-tag-management/extensions/extensions-list/advanced-javascript-code-extension/">Tealium iQ Advanced JavaScript Code Extension</a>を使用してTealiumワークフローにMoments APIを実装します。次の例では、Fetch APIを使用してMoments APIから訪問者のデータをリクエストしますが、<code>XMLHttpRequest</code>などの他のJavaScriptオプションもサポートされています。</p>
<h2 id="ステップ1-訪問者idを取得する">ステップ1: 訪問者IDを取得する</h2>
<p>Tealiumの<code>utag_main</code>クッキーから<code>v_id</code>を解析します。</p>
<p>以下のコードを、<code>utag.js</code>のバージョンに応じて拡張機能にコピーします。</p>
<p class="note"><i class="fa fa-exclamation-triangle"></i><code>ignoreTapid</code>が<code>false</code>に設定されている場合は、このステップをスキップします。</p>
<ul>
<li><strong>タイトル</strong>: utag.jsクッキーから識別子を解析 [Moments API]</li>
<li><strong>スコープ</strong>: プレローダー</li>
<li><strong>タイプ</strong>: Advanced JavaScript</li>
</ul>
<h3 id="utagjs-450"><code>utag.js</code> 4.50+</h3>
<p class="note"><i class="fa fa-exclamation-triangle"></i><code>split_cookie=false</code>オプションを使用している場合は、<a href="#utag-js-4-49-and-below"><code>utag.js</code> 4.49以下</a>のコード例を使用してください。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">read_utag_cookies</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>document.<span style="color:#a6e22e">cookie</span> <span style="color:#f92672">||</span> document.<span style="color:#a6e22e">cookie</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;&#34;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {};
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">cookies</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">cookie</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;; &#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">cookies</span>.<span style="color:#a6e22e">reduce</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">result</span>, <span style="color:#a6e22e">cookie</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">kv</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">cookie</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;=&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">kv</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">startsWith</span>(<span style="color:#e6db74">&#34;utag_&#34;</span>)) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">cookie_name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">kv</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;_&#34;</span>)[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">cookie_name_with_tag</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;utag_&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">cookie_name</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">name_trimmed</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">kv</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">replace</span>(<span style="color:#a6e22e">cookie_name_with_tag</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;_&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">result</span>[<span style="color:#a6e22e">name_trimmed</span>] <span style="color:#f92672">=</span> String(<span style="color:#a6e22e">kv</span>[<span style="color:#ae81ff">1</span>]).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/%3b/g</span>, <span style="color:#e6db74">&#39;;&#39;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">result</span>;
</span></span><span style="display:flex;"><span>  }, {});
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">utag_cookies</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">read_utag_cookies</span>();
</span></span><span style="display:flex;"><span><span style="color:#75715e">//Tealium Visitor IDをメモリに保存
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">moments_identifier</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">utag</span>.<span style="color:#a6e22e">cookies</span>[<span style="color:#960050;background-color:#1e0010">‘</span><span style="color:#a6e22e">v_id</span><span style="color:#960050;background-color:#1e0010">’</span>] <span style="color:#f92672">||</span> <span style="color:#66d9ef">null</span>
</span></span></code></pre></div><h3 id="utag-js-4-49-and-below"><code>utag.js</code> 4.49以下</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getCookie</span>(<span style="color:#a6e22e">cname</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">cname</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;=&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">decodedCookie</span> <span style="color:#f92672">=</span> decodeURIComponent(document.<span style="color:#a6e22e">cookie</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">ca</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">decodedCookie</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39;;&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">ca</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">c</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ca</span>[<span style="color:#a6e22e">i</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">charAt</span>(<span style="color:#ae81ff">0</span>) <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39; &#39;</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">c</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">substring</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#a6e22e">name</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">substring</span>(<span style="color:#a6e22e">name</span>.<span style="color:#a6e22e">length</span>, <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">length</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// utag_mainクッキーから訪問者IDを抽出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">utag_cookie</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getCookie</span>(<span style="color:#e6db74">&#34;utag_main&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//Tealium Visitor IDをメモリに保存
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">moments_identifer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">utag_cookie</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;v_id:&#34;</span>)[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;$&#34;</span>)[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">||</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span></code></pre></div><h2 id="ステップ2-moments-apiを呼び出す">ステップ2: Moments APIを呼び出す</h2>
<p>Moments APIエンドポイントをリクエストし、レスポンスデータをローカルストレージに保存して、オンサイトマーケティング活動やパーソナライゼーションに使用します。</p>
<p>以下のテンプレートコードを別のAdvanced JavaScript拡張機能に追加し、あなたのアカウントとターゲットエンジンに合わせて更新します。このコードは、前の拡張機能で割り当てられた<code>moments_identifier</code>変数をAPIのURLエンドポイントの識別子パラメータにマッピングします。</p>
<p class="note"><i class="fa fa-exclamation-triangle"></i>このコードが前のJavaScript拡張機能の後にロードされるように、<a href="/ja/iq-tag-management/getting-started/order-of-operations/">Order of Operations</a>に従ってください。</p>
<ul>
<li><strong>タイトル</strong>: [Moments API]</li>
<li><strong>スコープ</strong>: プレローダー</li>
<li><strong>タイプ</strong>: Advanced JavaScript</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">region</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;your_region&#34;</span>; <span style="color:#75715e">// 例: &#34;us&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">account</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;your_account&#34;</span>; <span style="color:#75715e">// Tealiumアカウントの名前
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">profile</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;your_profile&#34;</span>; <span style="color:#75715e">// あなたのTealiumプロファイルの名前 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">engine_id</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;your_engine_id&#34;</span>; <span style="color:#75715e">// リクエストするエンジンID 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Tealiumの実装にファーストパーティドメインを使用している場合はtrueに設定 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ignoreTapid</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span> ; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 訪問者が見つからない場合のHTTP 404をfalseに設定 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">suppressNotFound</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// API URLを構築
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">apiUrl</span> <span style="color:#f92672">=</span><span style="color:#e6db74">`https://personalization-api.</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">region</span><span style="color:#e6db74">}</span><span style="color:#e6db74">.prod.tealiumapis.com/personalization/accounts/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">account</span><span style="color:#e6db74">}</span><span style="color:#e6db74">/profiles/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">profile</span><span style="color:#e6db74">}</span><span style="color:#e6db74">/engines/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">engine_id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">/visitors/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">moments_identifer</span><span style="color:#e6db74">}</span><span style="color:#e6db74">?ignoreTapid=</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">ignoreTapid</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&amp;suppressNotFound=</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">suppressNotFound</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Moments APIのレスポンスをlocalStorageに書き込む関数を追加
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">writeToLocalStorage</span>(<span style="color:#a6e22e">obj</span>, <span style="color:#a6e22e">engineId</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// localStorageのキーのプレフィックス
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">prefix</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`moments_</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">engineId</span><span style="color:#e6db74">}</span><span style="color:#e6db74">_`</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// オブジェクトのプロパティをlocalStorageに保存する関数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">saveToLocalStorage</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">value</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#a6e22e">prefix</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">value</span>));
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// オブジェクトの各トップレベルのプロパティをループ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">key</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">obj</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">hasOwnProperty</span>(<span style="color:#a6e22e">key</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">writeToLocalStorage</span>(<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">obj</span>[<span style="color:#a6e22e">key</span>]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// APIをフェッチ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fetch</span>(<span style="color:#a6e22e">apiUrl</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">response</span> =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">ok</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;Network response was not ok&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">json</span>();
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">data</span> =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// レスポンスデータを処理
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">data</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">length</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 例: データをlocalStorageに保存
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">saveToLocalStorage</span>(<span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">engine_id</span>) 
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>    .<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">error</span> =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;There has been a problem with your fetch operation:&#39;</span>, <span style="color:#a6e22e">error</span>));
</span></span><span style="display:flex;"><span><span style="color:#75715e">//
</span></span></span></code></pre></div><h2 id="ステップ3-ワークフローに統合する">ステップ3: ワークフローに統合する</h2>
<p>データを、あなたのユースケースに応じたオンサイトパフォーマンスまたはパーソナライゼーションベンダーと統合します。</p>
<p class="tip"><i class="fa fa-info-circle"></i>DNSリクエストプロセスを最適化するために、DNSプリフェッチを検討してみてください。詳細については、<a href="https://www.chromium.org/developers/design-documents/dns-prefetching/">The Chromium Projects &gt; DNS Prefetching</a>を参照してください。</p>

</div>

<div class="mv30 nested-links overflow-hidden dpn flex justify-between flex-row-reverse"><div class="di mr3">
  
  
  <a href="/ja/early-access/moments-api/endpoint/"
    class="inline-flex items-center-ns ba b--black-10 br3 pa3">
    <svg class="w1" data-icon="chevronLeft" viewBox="0 0 32 32" style="fill:currentcolor;height:100%">
      <title>"エンドポイント "</title>
      <path d="M20 1 L24 5 L14 16 L24 27 L20 31 L6 16 z"></path>
    </svg>
   <section class="tr pl3">
      <div>エンドポイント</div>
    </section>
  </a>
  

</div></div>



        <div class="bt-l b--moon-gray pv3 cb">
          <div id="feedback_form" class="dpn">
  <div id="feedback_buttons">
	  <p class="di f5 pr2">このページはお役にたちましたでしょうか？</p>
		<button enabled id="feedback_yes" class="ba b--white bg-primary-color-light f5 ph2 pv2 br2 dib tc mv3 link primary-color-dark"><svg width="12" height="12" viewBox="0 0 12 12" fill="white" xmlns="http://www.w3.org/2000/svg">
<path d="M11.9593 5.91859C12.0445 6.23734 11.6882 6.55684 11.6882 6.55684C11.6882 6.55684 11.9552 7.05934 11.9293 7.53747C11.9061 7.97172 11.59 8.38572 11.59 8.38572C11.59 8.38572 11.7272 9.00709 11.5933 9.43197C11.4355 9.93184 11.0023 10.2476 11.0023 10.2476C11.0023 10.2476 10.9858 10.8026 10.7083 11.1618C10.4308 11.5211 9.89197 11.6846 9.89197 11.6846C9.89197 11.6846 9.11984 11.9996 8.25847 12.0225C7.26734 12.0487 6.16897 11.7825 6.16897 11.7825C6.16897 11.7825 5.66384 11.5338 5.04997 11.4063C4.33297 11.2578 3.49109 11.2275 3.49109 11.2275V6.55722C3.49109 6.55722 3.92309 6.50247 4.20472 6.10609C4.48934 5.70559 4.61197 5.07897 4.87709 4.57272C5.20484 3.94759 5.64659 3.47209 5.64659 3.42184C5.64659 3.36109 6.36209 2.81772 6.77797 2.04372C7.25572 1.15497 7.34497 0.0577174 7.34497 0.0577174C7.34497 0.0577174 7.89284 -0.0562825 8.27309 0.279342C8.72009 0.673842 8.81459 1.52734 8.81459 1.52734C8.81459 1.52734 8.70734 2.43784 8.39459 3.29284C8.16472 3.92134 7.89997 4.56484 7.89997 4.56484C7.89997 4.56484 8.01734 4.94434 8.54909 4.97059C8.97434 4.99159 9.63022 4.81759 10.1245 4.76172C10.7638 4.68972 11.1985 4.72797 11.1985 4.72797C11.1985 4.72797 11.8157 5.38234 11.9593 5.91859ZM-0.00390625 6.23022L2.73959 6.09972L2.80484 11.5867L0.387969 11.5541L-0.00390625 6.23022Z" fill="currentColor"/>
</svg>
はい</button>
	  <button enabled id="feedback_no" class="ba b--white bg-primary-color-light f5 ph2 pv2 br2 dib tc mv3 link primary-color-dark"><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.84642 0.22244C5.84642 0.22244 6.35117 0.471065 6.96467 0.59819C7.68129 0.74669 8.52242 0.77669 8.52242 0.77669V5.44394C8.52242 5.44394 8.09079 5.49832 7.80917 5.89469C7.52492 6.29482 7.40229 6.92144 7.13717 7.42694C6.80979 8.05132 6.36804 8.52682 6.36804 8.57669C6.36804 8.63744 5.65329 9.18044 5.23742 9.95369C4.76004 10.8421 4.67079 11.9382 4.67079 11.9382C4.67079 11.9382 4.12329 12.0522 3.74304 11.7166C3.29642 11.3224 3.20192 10.4693 3.20192 10.4693C3.20192 10.4693 3.30917 9.55919 3.62154 8.70494C3.85104 8.07682 4.11579 7.43369 4.11579 7.43369C4.11579 7.43369 3.99842 7.05457 3.46704 7.02832C3.04217 7.00732 2.38667 7.18132 1.89279 7.23682C1.25379 7.30882 0.819541 7.27057 0.819541 7.27057C0.819541 7.27057 0.202666 6.61694 0.0590409 6.08069C-0.0260841 5.76232 0.330166 5.44282 0.330166 5.44282C0.330166 5.44282 0.0635409 4.94069 0.0890409 4.46294C0.112291 4.02907 0.428041 3.61507 0.428041 3.61507C0.428041 3.61507 0.290791 2.99407 0.424666 2.56994C0.582541 2.07044 1.01529 1.75507 1.01529 1.75507C1.01529 1.75507 1.03179 1.20044 1.30892 0.84119C1.58642 0.482315 2.12492 0.318815 2.12492 0.318815C2.12492 0.318815 2.89667 0.00381546 3.75729 -0.0186845C4.74767 -0.0449345 5.84529 0.22094 5.84529 0.22094L5.84642 0.22244ZM11.6229 0.450815L12.0148 5.77057L9.27354 5.90107L9.20829 0.41819L11.6229 0.450815Z" fill="currentColor"/>
</svg>
いいえ</button>
  </div>
	<div id="feedback_comment" style="display: none;">
		<textarea id="feedback_textarea" class="ba b--light-gray bg-primary-color-light pa2 br3" type="text" placeholder="ページの改善にご協力ください。" rows="4" cols="60"></textarea><button id="feedback_submit" class="db ba b--light-gray bg-primary-color-light f5 ph3 pv2 br2 dib tc mv3 link primary-color-dark">フィードバックを送信</button>
  </div>
  <div id="feedback_thank_you" style="display: none;">
     <p class="i">ご意見有難うございます。</p>
  </div>
</div>

        </div>
        <div class="bt-l b--moon-gray pt3 f6">
          <p>最終更新日 ::  2024年April月25日
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </p>
        </div>
      </div>
    </article>

    <nav id="toc" class="order-2 w-20 pl4 mv4 sticky-r dn db-ns max-vh-100 overflow-y-auto">
      



  <aside class="fixed-lTK mw5 right-0 f6 bl b--light-gray pv4 pv0-ns ph3 nested-copy-line-height">
      <p class="b ttu">このページで</p>
      <nav id="TableOfContents"><ul class="toc-h2"><li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" data-id="#%E4%BB%95%E7%B5%84%E3%81%BF" href="javascript:void(0)">仕組み</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" data-id="#%E3%82%B9%E3%83%86%E3%83%83%E3%83%971-%E8%A8%AA%E5%95%8F%E8%80%85id%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B" href="javascript:void(0)">ステップ1: 訪問者IDを取得する</a></li>
              <ul class="toc-h3"><li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" data-id="#utagjs-450" href="javascript:void(0)">utag.js 4.50&#43;</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" data-id="#utagjs-449%E4%BB%A5%E4%B8%8B" href="javascript:void(0)">utag.js 4.49以下</a></li>
              </ul><li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" data-id="#%E3%82%B9%E3%83%86%E3%83%83%E3%83%972-moments-api%E3%82%92%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%99" href="javascript:void(0)">ステップ2: Moments APIを呼び出す</a></li>
              <li class="mv2 f6"><a class="w-100 text-color-primary hover-primary-color link" data-id="#%E3%82%B9%E3%83%86%E3%83%83%E3%83%973-%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AB%E7%B5%B1%E5%90%88%E3%81%99%E3%82%8B" href="javascript:void(0)">ステップ3: ワークフローに統合する</a></li>
              </nav>
  </aside></nav>

</div>
</div>
    

    </main>

    <footer class="bg-secondary ph1-ns relative w-100 pv4 bt b--light-gray" role="contentinfo">
  <div class="center flex-ns flex-wrap justify-between mw9 w-90 dn db-ns">

    <div class="flex nested-links w-33">
      <ul class="list v-top mt0 pt0">
        <li class="nav-list footer-heading-title">
          <div class="footer-logo-wrapper">
            <img class="logo" src="https://tealium.com/wp-content/uploads/2015/12/tealium_footer_logo_01-206x49.png" alt="tealium_footer_logo_01">
          </div>
        </li>
      </ul>
    </div>
    
    <div class="flex nested-links w-33">
      <ul class="list v-top mt0 pt0">
        <li class="fw5 f5 mb3 ttu o-50">Support</li>
<li class="mb2"><a class="link" href="https://university.tealium.com/">Tealium University</a></li>
<li class="mb2"><a class="link" href="https://support.tealiumiq.com/en/support/solutions">Knowledge Base</a></li>
<li class="mb2"><a class="link" href="https://support.tealiumiq.com/" target="">Support Desk</a></li>
      </ul>
    </div>
    
    <div class="flex nested-links w-33">
      <ul class="list v-top mt0 pt0">
        <li class="fw5 f5 mb3 ttu o-50">Company</li>
        <li class="mb2">
          <a class="link" href="http://tealium.com/">Tealium.com</a>
        </li>
        <li class="mb2">
          <a class="link" href="http://tealium.com/blog/">Blog</a>
        </li>
        <li class="mb2">
          <a class="link" href="https://tealium.com/careers/">Careers</a>
        </li>
      </ul>
    </div>

  </div>
</div>

  <div class="dpn bg-primary-color-dark bottom-0 left-0 right-0 dn-ns db fixed pb3 ph3 w-100">
<div class="globalmenu mobilemenu dn">
    

<ul class="list hidden dib ph0 ma0 scrolling-touch tc">
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          ホーム
        </a>
    </li>
  
  
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/iq-tag-management/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          iQ Tag Management
        </a>
    </li>
  
  
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/server-side/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          EventStream API Hub
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/server-side/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          AudienceStream CDP
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/server-side/functions/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          機能
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/server-side/data-connect/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          データコネクト
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/predict/getting-started/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          Predict ML
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/server-side/data-storage/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          DataAccess
        </a>
    </li>
  
  
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/client-side-tags/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          クライアントサイド タグ
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/server-side-connectors/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          サーバーサイド コネクタ
        </a>
    </li>
  
  
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/platforms/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          プラットフォーム
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/api/getting-started/auth/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          API
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/administration/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          管理
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/industries/tealium-for-pharma/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          ファーマ向けティーリアム
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/industries/tealium-identity-partners/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          ティーリアムアイデンティティパートナー
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/tech-partners/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          テクノロジーパートナー
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/partners/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          パートナー統合
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/glossary/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          用語集
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/early-access/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          早期アクセス
        </a>
    </li>
  
  
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="https://docs.tealium.com/ja/release-notes/" class="f5 link primary-color-light overflow hover-white db ma0 w-100 pv3 ph4">
          リリースノート
        </a>
    </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
</ul>

</div>


<div class="docsmenu mobilemenu dn" style="overflow-y:scroll;">
    <ul class="list dib ph0 ma0 scrolling-touch tc">
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/ja/early-access/about/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          アーリーアクセスについて
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/ja/server-side-connectors/linkedin-conversions-connector/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          LinkedIn Conversions
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/ja/early-access/snowflake-streaming-connector/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Snowflakeストリーミングコネクタ
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/ja/early-access/spotify-conversions-connector-alpha/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Spotify Conversionsコネクタ
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/ja/early-access/api-v3/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          Tealium API v3
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/ja/early-access/visitor-deletion-jobs/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          ビジター削除ジョブ
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/ja/early-access/platform-permissions/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          プラットフォームの権限
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/ja/early-access/moments-api/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4 bg-primary-color">
          モーメンツ API
      </a>
      </li>
      
      <li  class="tl dib ma0 hover-bg-primary w-100">
      <a href="https://docs.tealium.com/ja/early-access/moments-iq/" class="f5 link primary-color-light  hover-white db ma0 w-100 pv2 ph4">
          モーメンツiQ
      </a>
      </li>
      
      
  

</ul>

</div>




<div class="flex dn-l justify-between">
  <button class="js-toggle flex-auto dib dn-l f6 tc db mt3 ph3 pv2 link mr2 white bg-primary-color-dark hover-bg-primary-color ba b--white-40 w-auto" data-target=".globalmenu">Site</button>

  <button class="js-toggle flex-auto dib dn-l f6 tc db mt3 ph3 pv2 link white bg-primary-color-dark hover-bg-primary-color ba b--white-40 w-auto" data-target=".docsmenu">Section</button>

</div>
</div>

</footer>

    <script src="/dist/js/app.js"></script>

<script async defer src="https://buttons.github.io/buttons.js"></script>
<script src="https://kit.fontawesome.com/59194dc628.js" crossorigin="anonymous"></script>


    
      
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
<script type="text/javascript">
const translations = {
  button: {
    buttonText: 'ドキュメントの検索',
    buttonAriaLabel: 'ドキュメントの検索',
  },
  modal: {
    searchBox: {
      resetButtonTitle: 'クエリを消去',
      resetButtonAriaLabel: 'クエリを消去',
      cancelButtonText: 'キャンセル',
      cancelButtonAriaLabel: 'キャンセル',
    },
    startScreen: {
      recentSearchesTitle: '最近',
      noRecentSearchesText: '最近の検索はありません',
      saveRecentSearchButtonTitle: 'この検索を保存',
      removeRecentSearchButtonTitle: 'この検索を履歴から削除',
      favoriteSearchesTitle: 'お気に入り',
      removeFavoriteSearchButtonTitle: 'このクエリをお気に入りから削除',
    },
    errorScreen: {
      titleText: '結果を取得できません',
      helpText: 'ネットワーク接続を確認してください',
    },
    footer: {
      selectText: '選択する',
      selectKeyAriaLabel: 'キーを入力してください',
      navigateText: 'ナビゲートする',
      navigateUpKeyAriaLabel: '上',
      navigateDownKeyAriaLabel: '下',
      closeText: '閉じる',
      closeKeyAriaLabel: 'エスケープキー',
      searchByText: '次で検索：',
    },
    noResultsScreen: {
      noResultsText: '次の結果はありません：',
      suggestedQueryText: '次で検索してみてください：',
      reportMissingResultsText: 'このクエリで結果が返ってくるはずですか?',
      reportMissingResultsLinkText: '連絡願います',
    },
  },
};
var default_sections = [
];
var ls_sections = JSON.parse(localStorage.getItem("tealdocs_sections") || "[]");
if(ls_sections.indexOf("JAVASCRIPT") != -1) {
  ls_sections = [];
  localStorage.setItem("tealdocs_sections", JSON.stringify(default_sections));
}
var local_sections = new Set(ls_sections);
var cur_section = $('#breadcrumb ul li:nth-child(n+2)');
if(cur_section && cur_section.length) {
  var sect = cur_section.text().trim();
  if(local_sections.has(sect)) {
    
    local_sections.delete(sect);
    local_sections.add(sect);
  }
  else {
    
    local_sections.add(sect);
    if(local_sections.size > 10) {
      local_sections.delete(ls_sections[0]);
    }
  }
  localStorage.setItem("tealdocs_sections", JSON.stringify(Array.from(local_sections)));
}
var filt_pre = "hierarchy.lvl0:";
var hier_filters = local_sections.size ? Array.from(local_sections).map(s => filt_pre+s)
  : default_sections.map(s => filt_pre+s);
var opt_filters = [];
if(hier_filters.length) {
  opt_filters.push(hier_filters);
}
const transformItems = function(hits) {
  hits.map(hit => {
    if (hit.url.indexOf('#breadcrumb') > 0) {
      hit.url = hit.url.replace('#breadcrumb', '');
    }
  });
  return hits;
};
docsearch({
  container: '#docsearch',
  appId: '2V5C0M31GH',
  apiKey: '32b47c4ec1ccc76fbe18808c48f9d8b6',
  indexName: 'tealium_jp',
  placeholder: 'ドキュメントの検索',
  translations: translations,
  searchParameters: {
    "hitsPerPage": 50,
    "analytics": true ,
    "analyticsTags": ["site"]
  },
  insights: true,
  debug: false ,
  transformItems
});
</script>

    

  </body>
</html>
