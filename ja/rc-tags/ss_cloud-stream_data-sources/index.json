
{
    "kind": "term",
    "name": "ss_cloud-stream_data-sources",
    "count": 4,
    "items": [

    
        {
            "weight": "10",
            "url": "https://docs.tealium.com/ja/server-side/cloudstream/about/",
            "title": "CloudStreamについて",
            "body": "<p>CloudStreamは、Tealiumにデータを保存またはロードすることなく、データクラウドから直接顧客データを活用するセグメントビルダーです。主にバッチマーケティングリストとウェアハウスの活用を目的として設計されており、データクラウドからセグメントを作成・管理し、サポートされているコネクタを使用してそれらを活用することができます。</p>\n<p>これにより、以下の方法でオーバーヘッドが削減されます：</p>\n<ul>\n<li>データの複製または同期にかかるコストがない。</li>\n<li>データ複製および同期からのエラーを排除。</li>\n<li>よりシンプルなデータガバナンス。</li>\n<li>データ管理の負担を軽減。</li>\n</ul>\n<h2 id=\"要件\">要件</h2>\n<ul>\n<li>データソースへのアクセス（アカウントおよびテーブル権限が必要）。</li>\n<li>活用先の認証情報（メール、SMS、広告プラットフォームなど）。</li>\n<li>データ移動およびコンプライアンスポリシーの確認。\n<ul>\n<li>データ転送、処理、保護に関する規制ガイドラインの遵守を確認します。DatabricksやSnowflakeのようなプラットフォームを通じてデータを活用する際に、プライバシーとセキュリティを維持するためのポリシーを確認してください。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"動作原理\">動作原理</h2>\n<p>CloudStreamはデータクラウドに直接接続し、Tealiumにデータを移動または保存することなく顧客データを活用します。</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_workflow.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_workflow.png\"\n         alt=\"CloudStreamワークフロー図\"\n         title=\"CloudStreamワークフロー図\"/>\n    </a>\n</figure>\n<p>専用のサーバーサイドプロファイルで、データクラウド内のテーブルまたはビューに接続するデータソースを定義し、その列をクラウド属性にマッピングします。データの属性をさらに処理するためにエンリッチメントを追加することができます。また、平均値やその他の計算で追加のクラウド属性をエンリッチすることもできます。これらの属性を使用して、特定の基準を満たすユーザーやエンティティのグループであるセグメントを構築します。最後に、コネクタを通じて選択した宛先にこれらのセグメントを送信して活用します。</p>\n<p>CloudStreamは専用のCloudStreamプロファイルを使用し、ワークフローを整理し、他のTealium製品とは別に保持します。</p>\n<h3 id=\"専用プロファイル\">専用プロファイル</h3>\n<p>CloudStreamは、他のプラットフォームプロファイルとは別の専用のサーバーサイドプロファイルを使用します。この分離により、大規模なデータセットや複雑なセグメントの属性、セグメント、ルール、コネクタを管理することができ、AudienceStreamやEventStreamのワークフローに影響を与えることなく操作できます。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>専用のCloudStreamプロファイルを作成するには、Tealiumサポートに連絡してください。</p>\n<h3 id=\"データサプライチェーンダッシュボード\">データサプライチェーンダッシュボード</h3>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_profile_dashboard.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_profile_dashboard.png\"\n         alt=\"CloudStreamプロファイルダッシュボード\"\n         title=\"CloudStreamプロファイルダッシュボード\"/>\n    </a>\n</figure>\n<p>CloudStreamデータサプライチェーンダッシュボードには、以下の情報が表示されます：</p>\n<ul>\n<li>構成されたクラウドデータソースの数。</li>\n<li>受信したデータレコードの数。</li>\n<li>適用されたエンリッチメントの数。</li>\n<li>アクティブなセグメントの数。</li>\n<li>トリガーされた関数およびコネクタアクションの数。</li>\n<li>構成されたコネクタの数。</li>\n</ul>\n<p>テーブルには、プロファイルで構成されたクラウドデータソース、セグメント、および宛先（コネクタおよび関数）がリストされています。</p>\n<h3 id=\"データソース\">データソース</h3>\n<p>データソースは、SnowflakeやDatabricksなどのデータクラウドへの定義済み接続です。CloudStreamはこれらのデータソースに接続してセグメントを取得および活用し、Tealiumにデータを保存することなく操作します。これにより、既存のデータインフラストラクチャの力を活用して、クラウドから直接大規模なデータセットを扱うことができます。</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_datasource_summary.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_datasource_summary.png\"\n         alt=\"CloudStreamデータソースの概要\"\n         title=\"CloudStreamデータソースの概要\"/>\n    </a>\n</figure>\n<p class=\"tip\"><i class=\"fa fa-info-circle\"></i>プロファイルで最大10個のデータソースに接続できます。</p>\n<p>CloudStreamデータソースは、データクラウドに保存されているデータと直接連携するように設計されています。データはデータクラウドに残り、コネクタを通じて活用するために一時的にインポートされるだけで、Tealiumには保存されません。</p>\n<p>各データソースは一度に1つのビューまたはテーブルに接続できます。データクラウドから複数のテーブルまたはビューに接続する必要がある場合は、各テーブルまたはビューに対して別のデータソースを構成します。</p>\n<p>複数のテーブルのデータをCloudStreamがセグメントで読み取れるデータレコードに結合したい場合は、データクラウド内でテーブルまたはビューを単一のテーブルまたはビューに結合し、その結合されたテーブルをセグメントデータソースとして使用する必要があります。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>CloudStreamはクラウドデータソースのみをサポートしています。</p>\n<p>詳細については、<a href=\"/ja/server-side/cloudstream/datasources/\">CloudStreamデータソースの管理</a>を参照してください。</p>\n<h3 id=\"クラウド属性\">クラウド属性</h3>\n<p>クラウド属性は、CloudStreamでデータソースを作成する際に定義されます。データクラウドのテーブルに接続すると、CloudStreamはそのテーブルの列を分析し、データタイプを決定して対応するクラウド属性を生成します。データソースの構成プロセス中にこれらの属性マッピングを確認および調整して、活用ニーズに合わせて調整することができます。</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloud_attributes.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloud_attributes.png\"\n         alt=\"クラウド属性\"\n         title=\"クラウド属性\"/>\n    </a>\n</figure>\n<p>クラウド属性は構造と動作がイベント属性と同一ですが、<a href=\"/ja/server-side/attributes/restricted-data/\">制限データ</a>としてマークすることはできず、CloudStreamには<a href=\"/ja/server-side/attributes/preloaded/\">プリロードされた属性</a>が含まれていません。</p>\n<p class=\"tip\"><i class=\"fa fa-info-circle\"></i>プロファイルで500以上の属性が必要な場合は、カスタマーサクセスマネージャーに連絡してください。</p>\n<p>詳細については、<a href=\"/ja/server-side/cloudstream/attributes/\">クラウド属性</a>を参照してください。</p>\n<h3 id=\"セグメント\">セグメント</h3>\n<p>セグメントは、データソースで定義されたクラウド属性に基づいて一連の条件を満たすユーザーやエンティティのグループです。CloudStreamのセグメントはシステムに永続化されず、データがデータクラウドからインポートされ、コネクタを通じて活用される際にリアルタイムで動的に評価されます。</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_segment_details.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_segment_details.png\"\n         alt=\"CloudStreamセグメントの詳細\"\n         title=\"CloudStreamセグメントの詳細\"/>\n    </a>\n</figure>\n<p>詳細については、<a href=\"/ja/server-side/cloudstream/segments/\">CloudStreamセグメントの管理</a>を参照してください。</p>\n<h4 id=\"複数のデータソースを持つセグメント\">複数のデータソースを持つセグメント</h4>\n<p>CloudStream内で複数のデータソースを直接結合することはできません。しかし、高価値の顧客や高い潜在顧客を特定するなど、共有目的を持つセグメントに複数のデータソースを組み合わせたい場合があります。</p>\n<p>たとえば、見込み客のテーブルと試乗をした人々のテーブルから車の購入の高い潜在顧客を見つけるための単一のセグメントを作成したい場合、まずこれらのデータソースを含むセグメントを作成します。次に、見込み客に対してフィルターを構成し、OR条件を使用し、試乗参加者に別のフィルターを構成します。</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_combined_segment_details.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_combined_segment_details.png\"\n         alt=\"CloudStream組み合わせセグメントの詳細\"\n         title=\"CloudStream組み合わせセグメントの詳細\"/>\n    </a>\n</figure>\n<h3 id=\"アクティベーション\">アクティベーション</h3>\n<p>アクティベーションは、セグメントをマーケティング、分析、広告プラットフォームに配信するプロセスです。アクティベーションはコネクタアクションまたは関数を通じて構成できます。詳細については、<a href=\"/ja/server-side/connectors/add/\">コネクタを追加する</a>および<a href=\"/ja/server-side/functions/data-record-functions/data-record-functions/\">データレコード機能について</a>を参照してください。</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_segment_path.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_segment_path.png\"\n         alt=\"CloudStreamセグメントパス\"\n         title=\"CloudStreamセグメントパス\"/>\n    </a>\n</figure>\n<p>セグメントを複数のコネクタアクションまたは関数に出力することができます。ただし、構成された各アクティベーションは選択されたデータソースからのデータのみを使用できます。追加のデータソースからデータをアクティベーションを通じて活用したい場合は、各データソースに対して別のアクションまたは関数を構成します。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>CloudStreamコネクタと関数を有効にするには、<strong>管理メニュー</strong> &gt; <strong>サーバーサイド構成</strong> &gt; <strong>CloudStreamコネクタ</strong>に移動し、<strong>CloudStreamコネクタを有効にする</strong>を<code>On</code>に構成し、<strong>保存</strong>をクリックします。</p>\n<h2 id=\"比較\">比較</h2>\n<p>CloudStream、EventStream、AudienceStreamの主な違いは以下の通りです：</p>\n<table>\n<thead>\n<tr>\n<th>特徴</th>\n<th>CloudStream</th>\n<th>EventStream / AudienceStream</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>データソース</td>\n<td>データクラウド（Snowflake、Databricks）</td>\n<td>データクラウド、ウェブ、モバイル、サーバー、APIイベント</td>\n</tr>\n<tr>\n<td>データ保存</td>\n<td>Tealiumにデータは保存されない</td>\n<td>Tealiumにデータがロードおよび保存される（訪問プロファイルおよびDataAccess）</td>\n</tr>\n<tr>\n<td>セグメントの持続性</td>\n<td>動的、持続されない</td>\n<td>訪問プロファイルに持続される</td>\n</tr>\n<tr>\n<td>アクティベーション</td>\n<td>AudienceStreamコネクタと機能</td>\n<td>AudienceStreamおよびEventStreamコネクタと機能</td>\n</tr>\n<tr>\n<td>コネクタアクション</td>\n<td>各データソースごとに別々</td>\n<td>アクションごとに複数のデータソース</td>\n</tr>\n<tr>\n<td>主な使用事例</td>\n<td>バッチ/ウェアハウスアクティベーション</td>\n<td>リアルタイム処理およびアクティベーション</td>\n</tr>\n</tbody>\n</table>\n"
        }  

    , 
        {
            "weight": "20",
            "url": "https://docs.tealium.com/ja/server-side/cloudstream/datasources/",
            "title": "CloudStreamデータソースの管理",
            "body": "<h2 id=\"動作原理\">動作原理</h2>\n<p>データソースは、SnowflakeやDatabricksなどのデータクラウドへの定義済み接続です。CloudStreamはこれらのデータソースに接続してセグメントを取得し、Tealiumにデータを保存することなくアクティベーションします。これにより、既存のデータインフラの力を活用しながら、クラウドから直接大規模なデータセットを扱うことができます。</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_datasource_summary.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_datasource_summary.png\"\n         alt=\"CloudStreamデータソースの概要\"\n         title=\"CloudStreamデータソースの概要\"/>\n    </a>\n</figure>\n<p class=\"tip\"><i class=\"fa fa-info-circle\"></i>プロファイルで最大10個のデータソースに接続できます。</p>\n<p>CloudStreamデータソースは、データクラウドに保存されているデータと直接連携して動作します。データはデータクラウドに残り、コネクタを通じて一時的にインポートされるだけで、Tealiumには保存されません。</p>\n<p>各データソースは一度に1つのビューまたはテーブルに接続できます。データクラウドから複数のテーブルやビューに接続する必要がある場合は、テーブルやビューごとに別のデータソースを構成してください。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>CloudStreamはクラウドデータソースのみをサポートしています。</p>\n<p>クラウドデータソースについての詳細は、<a href=\"/ja/server-side/data-sources/cloud-data/about/\">クラウドデータソースについて</a>を参照してください。</p>\n<h2 id=\"構成のテスト\">構成のテスト</h2>\n<p>データソース、セグメント、またはアクティベーションを有効にする前に、データソースとクエリをテストすることをお勧めします。ただし、テストを実行すると、セグメントがアクティブ化されたり、有効なアクションがトリガーされたり、下流システムに影響を与える可能性があります。意図しない結果を防ぐために、コネクタと機能を無効にし、テストレコードを制限し、受信者と調整してください。</p>\n<p>データソース構成をテストするには、次の手順を使用します：</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_test_configuration.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_test_configuration.png\"\n         alt=\"クラウドテスト構成\"\n         title=\"クラウドテスト構成\"/>\n    </a>\n</figure>\n<ol>\n<li>データソースウィンドウの右上隅にあるアクションボタンをクリックし、<strong>エンドツーエンドテスト</strong>をクリックします。</li>\n<li>出力を受け取る方法を選択します\n<ul>\n<li><strong>新しいトレースセッション</strong>：出力は最大10レコードの新しいトレースセッションで表示されます。このオプションは、エンドツーエンドの検証とログの詳細を確認するのに最適です。</li>\n<li><strong>既存のトレースセッション</strong>：出力はすでに開始しているトレースセッションで表示されます。<strong>トレースID</strong>を入力し、<strong>トレースに参加</strong>をクリックします。</li>\n<li><strong>ダイレクト出力</strong>：出力の生の結果が画面に表示されます。データレコードにトレースIDは追加されず、トレースは利用できません。このオプションは、クエリと属性マッピングをすばやく確認するのに最適です。</li>\n</ul>\n</li>\n<li>テストのために処理する行数を選択します。最大行数は10です。</li>\n<li><strong>テストクエリ</strong>の下で、テストに含めるテーブルのカラムを選択します。リストからカラムを削除するには、カラムの<strong>X</strong>をクリックします。少なくとも1つのカラムを選択する必要があります。</li>\n<li><strong>From Table</strong>の下で、クエリを実行するテーブルを選択します。<strong>Select Columns</strong>ボックスは、テーブルのカラムで更新されます。</li>\n<li><strong>Where</strong>の下で、テーブルに対して実行するSQLクエリを入力します。</li>\n<li><strong>Check Query</strong>をクリックしてSQLを検証し、必要なフィールドが構成されていることを確認します。</li>\n<li>結果は<strong>Query Result Preview</strong>タブの下のテーブルに表示されます：<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_test_check_query.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_test_check_query.png\"\n         alt=\"クラウドテストチェッククエリ\"\n         title=\"クラウドテストチェッククエリ\"/>\n    </a>\n</figure></li>\n<li><strong>Start Test</strong>をクリックして構成テストを開始します。</li>\n</ol>\n<p>右サイドバーには、テストの完了までの時間と、テストがエラーに遭遇した場合のステータスメッセージを表示する進行状況バーが表示されます。</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_test_output.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_test_output.png\"\n         alt=\"クラウドテスト出力\"\n         title=\"クラウドテスト出力\"/>\n    </a>\n</figure>\n<p>テストが完了すると、結果が表示されます：</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_test_results.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_test_results.png\"\n         alt=\"クラウドテスト結果\"\n         title=\"クラウドテスト結果\"/>\n    </a>\n</figure>\n<ul>\n<li>テストの実行をトレースで見たい場合は、<strong>トレースに参加</strong>をクリックします。</li>\n<li>テストが失敗した場合、次のことができます：\n<ul>\n<li><strong>テスト構成の編集</strong>をクリックして構成を変更します。</li>\n<li><strong>テストの再試行</strong>をクリックして現在の構成を再度実行します。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"オフセットの管理\">オフセットの管理</h2>\n<p>データソースは、クエリが開始される日付または増分値の位置を追跡します。オフセットを使用すると、クエリを開始するビューまたはテーブルの位置をリセットまたは手動で構成して制御できます。</p>\n<p>たとえば、最近のメーリングリストのアクティベーションにエラーが含まれており、100レコードが処理された場合、現在の増分オフセットは342です。メールアクティベーションを修正した後、これらのレコードを再処理するには、オフセットを242に構成します。データソースを再起動すると、その位置からレコードのクエリが開始され、修正されたメールが送信されます。</p>\n<p>次の条件が真の場合にのみ、オフセットを管理できます：</p>\n<ul>\n<li>現在のプロファイルが公開されています。</li>\n<li>クエリモードが<strong>タイムスタンプ + 増分（推奨）</strong>、<strong>タイムスタンプ</strong>、または<strong>増分</strong>です。<strong>完全な再同期</strong>クエリモードでは、オフセットを管理できません。</li>\n<li>データソースが停止しています。\n<ul>\n<li>データソースの状態が実行中、スケジュールされている、または失敗している場合、オフセットを編集することはできません。現在のオフセットに関する情報のみが利用可能です。</li>\n<li>状態が初期化中、非アクティブ、または接続エラーがある場合、オフセットは利用できません。</li>\n</ul>\n</li>\n</ul>\n<p>データソースのオフセットを管理するには、次の手順を使用します：</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/manage_offset.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/manage_offset.png\"\n         alt=\"オフセットの管理\"\n         title=\"オフセットの管理\"/>\n    </a>\n</figure>\n<ol>\n<li>データソースの詳細ウィンドウの右上隅にあるアクションボタンをクリックし、<strong>オフセットの管理</strong>をクリックします。</li>\n<li>利用可能なオフセット方法は<strong>タイムスタンプ</strong>と<strong>増分列</strong>です。クエリモードによって利用可能なオフセットが決まります。</li>\n<li><strong>タイムスタンプ列</strong>の下で、タイムスタンプを表すテーブルのカラムを選択します。</li>\n<li><strong>新しいタイムスタンプ</strong>の下で、データをインポートする際にタイムスタンプからオフセットする日付と時間を選択します。\n<ul>\n<li>新しいタイムスタンプは過去の日時でなければなりません。未来の日時は使用できません。</li>\n<li>現在のタイムスタンプフィールドには、現在使用されているオフセットが表示されます。</li>\n</ul>\n</li>\n<li><strong>増分列</strong>の下で、テーブルに追加される各行の増分値を表すカラムを選択します。</li>\n<li><strong>新しい増分</strong>の下で、データをインポートする際にIDからオフセットする数値を入力します。\n<ul>\n<li>新しいオフセットIDは正の整数でなければなりません。</li>\n<li>現在のオフセットIDフィールドには、オフセットとして使用される現在の数値が表示されます。</li>\n</ul>\n</li>\n</ol>\n<p><strong>オフセット変更の検証</strong>をクリックして、新しいオフセット位置からインポートされるデータのプレビューを表示します。テーブルにはサンプル行が表示され、オフセットを調整した後に処理される行数の見積もりも提供されます。</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/validate_offset.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/validate_offset.png\"\n         alt=\"オフセットの検証\"\n         title=\"オフセットの検証\"/>\n    </a>\n</figure>\n<p><strong>完了</strong>をクリックして新しいオフセット構成を確認します。<strong>キャンセル</strong>をクリックして変更を破棄します。</p>\n<p>オフセットを変更した後、データソースを再起動します。</p>\n"
        }  

    , 
        {
            "weight": "30",
            "url": "https://docs.tealium.com/ja/server-side/cloudstream/attributes/",
            "title": "クラウド属性",
            "body": "<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloud_attributes.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloud_attributes.png\"\n         alt=\"Cloud attributes\"\n         title=\"Cloud attributes\"/>\n    </a>\n</figure>\n<p>クラウド属性は、CloudStream内で使用される基本的なデータ要素です。データソースをCloudStreamで作成するときに定義されます。データクラウドのテーブルに接続すると、CloudStreamはテーブルの列を分析し、そのデータタイプを決定し、対応するクラウド属性を生成します。</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/datasource_cloud_attribute_mapping.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/datasource_cloud_attribute_mapping.png\"\n         alt=\"Cloud attribute mapping\"\n         title=\"Cloud attribute mapping\"/>\n    </a>\n</figure>\n<p>クラウドデータソースはすべてのデータタイプをサポートします。データソースの構成プロセス中に属性マッピングを確認し、調整して、各属性のデータタイプが正しく、データ活性化の要件（例えばセグメンテーションやオーディエンスターゲティング）に合致していることを確認してください。</p>\n<p>一般的に、以下のデータタイプマッピングを使用して、データが正しくインポートされるようにします：</p>\n<table>\n<thead>\n<tr>\n<th>クラウドデータ</th>\n<th>Tealium</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>数値</td>\n<td>数値属性</td>\n</tr>\n<tr>\n<td>文字列</td>\n<td>文字列属性</td>\n</tr>\n<tr>\n<td>論理</td>\n<td>ブール属性</td>\n</tr>\n<tr>\n<td>日付と時刻</td>\n<td>日付属性</td>\n</tr>\n<tr>\n<td>配列</td>\n<td>文字列の配列、数値の配列、またはブールの配列</td>\n</tr>\n<tr>\n<td>その他</td>\n<td>文字列属性</td>\n</tr>\n</tbody>\n</table>\n<p>データタイプについての詳細は、<a href=\"/ja/server-side/data-sources/cloud-data/about/#data-types\">クラウドデータソースについて &gt; データタイプ</a>を参照してください。</p>\n<p>また、マッピングで既存のクラウド属性を選択して、異なるデータソースやセグメント間で再利用することもできます。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>現在のクラウド属性の合計は、<strong>属性</strong>画面で確認できます。プロファイルで500以上の属性が必要な場合は、カスタマーサクセスマネージャーに連絡してください。</p>\n<p>クラウド属性は構造と振る舞いにおいてイベント属性と同一ですが、制限されたデータとしてマークすることはできず、CloudStreamにはプリロードされた属性が含まれていません。</p>\n<p>詳細については、<a href=\"/ja/server-side/attributes/about/\">属性について</a>を参照してください。</p>\n"
        }  

    , 
        {
            "weight": "100",
            "url": "https://docs.tealium.com/ja/server-side/functions/data-record-functions/data-record-functions/",
            "title": "データレコード機能について",
            "body": "<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>CloudStream機能を有効にするには、<strong>管理メニュー</strong> &gt; <strong>サーバーサイド構成</strong> &gt; <strong>CloudStreamコネクタ</strong>に移動し、<strong>CloudStreamコネクタを有効にする</strong>を<code>On</code>に構成し、<strong>保存</strong>をクリックします。</p>\n<h2 id=\"動作原理\">動作原理</h2>\n<p>CloudStreamの機能はCloudStreamデータパイプライン内で動作し、クラウドデータソースから照会されたデータレコードにアクセスできます。CloudStreamプロファイル内の機能を使用して、他のシステムからデータを取得したり、データを増強したり、他のエンドポイントにデータを送信したりします。</p>\n<p>CloudStream機能の追加と管理は、次の例外を除いて他の機能の管理と同じです：</p>\n<ul>\n<li>機能を作成する際に、対象者やイベントを選択する代わりに、<a href=\"/ja/server-side/cloudstream/datasources/\">クラウドデータソース</a>と<a href=\"/ja/server-side/cloudstream/segments/\">セグメント</a>を選択します。</li>\n<li>各CloudStream機能は、一つのデータソースからのデータのみを使用できます。追加のデータソースからデータをアクティブにする場合は、それぞれに対して別の機能を構成します。</li>\n<li>セグメントに複数のデータソースからマッピングされた属性が含まれている場合、選択したデータソースの属性のみが機能で利用可能です。</li>\n</ul>\n<p>機能についての詳細は、<a href=\"/ja/server-side/functions/about/\">関数について</a>を参照してください。</p>\n<h2 id=\"トリガー\">トリガー</h2>\n<p>CloudStreamデータレコード機能は、データレコードが処理された後にトリガーされます。以下のCloudStreamデータパイプライン図に示されています：</p>\n<figure><a class=\"slb\" href=\"/images/server-side/functions-data-record-pipeline.png\"><img src=\"https://docs.tealium.com/images/server-side/functions-data-record-pipeline.png\"/>\n    </a>\n</figure>\n<p>このパイプラインの時点で機能を使用して、データレコードを他のシステムに送信します。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>この時点でのCloudStreamデータパイプラインでは、<code>dataRecord</code>オブジェクトの変更はシステムの他の部分には影響しません。</p>\n<h2 id=\"ランタイムバージョン\">ランタイムバージョン</h2>\n<p>現在のランタイムバージョンは<a href=\"/ja/server-side/functions/event-visitor-functions/event-visitor-v3/\">event and visitor functions V3</a>と同じですが、以下の変更が含まれています：</p>\n<ul>\n<li><code>track</code>ライブラリが削除されました。</li>\n<li>データレコードは新しいイベントとしてTealiumに送り返すことはできません。</li>\n</ul>\n<h2 id=\"activate関数\">activate()関数</h2>\n<p>データレコード機能を作成すると、関数コードエディタの<strong>コード</strong>タブにデフォルトコードが表示されます：</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_function_details.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_function_details.png\"/>\n    </a>\n</figure>\n<p>このコードには<code>activate()</code>関数とその入力パラメータが含まれています。</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-js\" data-lang=\"js\"><span style=\"display:flex;\"><span><span style=\"color:#a6e22e\">activate</span>(<span style=\"color:#66d9ef\">async</span> ({ <span style=\"color:#a6e22e\">dataRecord</span>, <span style=\"color:#a6e22e\">helper</span> }) =&gt; {\n</span></span><span style=\"display:flex;\"><span>  ...\n</span></span><span style=\"display:flex;\"><span>});\n</span></span></code></pre></div><p>データレコード機能には<a href=\"#data-record-object\"><code>dataRecord object</code></a>と<code>helper</code>オブジェクトがあります。</p>\n<p><code>helper</code>パラメータは<code>helper.getAuth()</code>と<code>helper.getGlobalVariable()</code>を提供して、認証を取得し、グローバル変数を取得します。詳細については、<a href=\"/ja/server-side/functions/event-visitor-functions/event-visitor-v3/\">イベントと訪問関数 V3</a>を参照してください。</p>\n<h3 id=\"データレコードオブジェクト\">データレコードオブジェクト</h3>\n<p><code>dataRecord</code>オブジェクトはCloudStream機能で利用可能で、次のプロパティを含んでいます：</p>\n<table>\n<thead>\n<tr>\n<th>プロパティ</th>\n<th>データタイプ</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>account</code></td>\n<td>string</td>\n<td>Tealiumアカウント名。</td>\n</tr>\n<tr>\n<td><code>data</code></td>\n<td>object</td>\n<td>クラウドデータソースから照会されたデータレコード、<code>dataRecord.data.udo</code>で参照されます。</td>\n</tr>\n<tr>\n<td><code>event_id</code></td>\n<td>string</td>\n<td>TealiumイベントID。</td>\n</tr>\n<tr>\n<td><code>post_time</code></td>\n<td>number</td>\n<td>データレコードが照会された時のタイムスタンプ。</td>\n</tr>\n<tr>\n<td><code>profile</code></td>\n<td>string</td>\n<td>Tealiumプロファイル名。</td>\n</tr>\n<tr>\n<td><code>dataSourceId</code></td>\n<td>string</td>\n<td>データソースのID。</td>\n</tr>\n</tbody>\n</table>\n<p>データレコードオブジェクトの例：</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-json\" data-lang=\"json\"><span style=\"display:flex;\"><span>{\n</span></span><span style=\"display:flex;\"><span>  <span style=\"color:#f92672\">&#34;account&#34;</span>: <span style=\"color:#e6db74\">&#34;your-account&#34;</span>,\n</span></span><span style=\"display:flex;\"><span>  <span style=\"color:#f92672\">&#34;profile&#34;</span>: <span style=\"color:#e6db74\">&#34;your-profile&#34;</span>,\n</span></span><span style=\"display:flex;\"><span>  <span style=\"color:#f92672\">&#34;data&#34;</span>: {\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#f92672\">&#34;udo&#34;</span>: {\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;CDW_Column1_Timestamp&#34;</span>: <span style=\"color:#ae81ff\">1753077016157</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;CDW_Column2_Id&#34;</span>: <span style=\"color:#ae81ff\">10</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;CDW_Column3_EmailAddress&#34;</span>: <span style=\"color:#e6db74\">&#34;user@example.com&#34;</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;_dc_ttl_&#34;</span>: <span style=\"color:#ae81ff\">60000</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;tealium_datasource&#34;</span>: <span style=\"color:#e6db74\">&#34;abcdefg&#34;</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;tealium_event&#34;</span>: <span style=\"color:#e6db74\">&#34;data_ingestion&#34;</span>\n</span></span><span style=\"display:flex;\"><span>    }\n</span></span><span style=\"display:flex;\"><span>  },\n</span></span><span style=\"display:flex;\"><span>  <span style=\"color:#f92672\">&#34;dataSourceId&#34;</span>: <span style=\"color:#e6db74\">&#34;abcdefg&#34;</span>,\n</span></span><span style=\"display:flex;\"><span>  <span style=\"color:#f92672\">&#34;event_id&#34;</span>: <span style=\"color:#e6db74\">&#34;cf8bd406-787b-4fe9-8b45-7782e6663708&#34;</span>,\n</span></span><span style=\"display:flex;\"><span>  <span style=\"color:#f92672\">&#34;post_time&#34;</span>: <span style=\"color:#ae81ff\">1753774131897</span>,\n</span></span><span style=\"display:flex;\"><span>}\n</span></span></code></pre></div><h3 id=\"例\">例</h3>\n<p>これは、データレコードからメールアドレス属性（<code>CDW_Column3_EmailAddress</code>）をハッシュ化し、その後データレコードをウェブフックに送信するCloudStream機能の例です。</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-javascript\" data-lang=\"javascript\"><span style=\"display:flex;\"><span><span style=\"color:#66d9ef\">import</span> <span style=\"color:#a6e22e\">C</span> <span style=\"color:#a6e22e\">from</span> <span style=\"color:#e6db74\">&#34;tealium/crypto&#34;</span>;\n</span></span><span style=\"display:flex;\"><span>\n</span></span><span style=\"display:flex;\"><span><span style=\"color:#66d9ef\">const</span> <span style=\"color:#a6e22e\">send</span> <span style=\"color:#f92672\">=</span> <span style=\"color:#66d9ef\">async</span> (<span style=\"color:#a6e22e\">data</span>) =&gt; {\n</span></span><span style=\"display:flex;\"><span>        <span style=\"color:#a6e22e\">console</span>.<span style=\"color:#a6e22e\">log</span>(<span style=\"color:#e6db74\">&#34;Sending: &#34;</span> <span style=\"color:#f92672\">+</span> <span style=\"color:#a6e22e\">JSON</span>.<span style=\"color:#a6e22e\">stringify</span>(<span style=\"color:#a6e22e\">data</span>, <span style=\"color:#66d9ef\">null</span>, <span style=\"color:#ae81ff\">2</span>));\n</span></span><span style=\"display:flex;\"><span>\n</span></span><span style=\"display:flex;\"><span>        <span style=\"color:#66d9ef\">return</span> <span style=\"color:#a6e22e\">fetch</span>(<span style=\"color:#e6db74\">&#34;https://example.com/example-webhook/&#34;</span>, {\n</span></span><span style=\"display:flex;\"><span>        <span style=\"color:#a6e22e\">method</span><span style=\"color:#f92672\">:</span> <span style=\"color:#e6db74\">&#39;POST&#39;</span>,\n</span></span><span style=\"display:flex;\"><span>        <span style=\"color:#a6e22e\">headers</span><span style=\"color:#f92672\">:</span> {\n</span></span><span style=\"display:flex;\"><span>            <span style=\"color:#e6db74\">&#39;Accept&#39;</span><span style=\"color:#f92672\">:</span> <span style=\"color:#e6db74\">&#39;application/json&#39;</span>,\n</span></span><span style=\"display:flex;\"><span>            <span style=\"color:#e6db74\">&#39;Content-Type&#39;</span><span style=\"color:#f92672\">:</span> <span style=\"color:#e6db74\">&#39;application/json&#39;</span>\n</span></span><span style=\"display:flex;\"><span>        },\n</span></span><span style=\"display:flex;\"><span>        <span style=\"color:#a6e22e\">body</span><span style=\"color:#f92672\">:</span> <span style=\"color:#a6e22e\">JSON</span>.<span style=\"color:#a6e22e\">stringify</span>(<span style=\"color:#a6e22e\">data</span>)\n</span></span><span style=\"display:flex;\"><span>});\n</span></span><span style=\"display:flex;\"><span>}\n</span></span><span style=\"display:flex;\"><span>\n</span></span><span style=\"display:flex;\"><span><span style=\"color:#a6e22e\">activate</span>(<span style=\"color:#66d9ef\">async</span> ({ <span style=\"color:#a6e22e\">dataRecord</span> }) =&gt; {\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#66d9ef\">const</span> <span style=\"color:#a6e22e\">data</span> <span style=\"color:#f92672\">=</span> { ...<span style=\"color:#a6e22e\">dataRecord</span>.<span style=\"color:#a6e22e\">data</span>.<span style=\"color:#a6e22e\">udo</span>  };\n</span></span><span style=\"display:flex;\"><span>\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#a6e22e\">data</span>.<span style=\"color:#a6e22e\">tc_email</span> <span style=\"color:#f92672\">=</span> <span style=\"color:#a6e22e\">C</span>.<span style=\"color:#a6e22e\">SHA3</span>(<span style=\"color:#a6e22e\">dataRecord</span>.<span style=\"color:#a6e22e\">data</span>.<span style=\"color:#a6e22e\">udo</span>.<span style=\"color:#a6e22e\">CDW_Column3_EmailAddress</span>).<span style=\"color:#a6e22e\">toString</span>(<span style=\"color:#a6e22e\">C</span>.<span style=\"color:#a6e22e\">enc</span>.<span style=\"color:#a6e22e\">Hex</span>);\n</span></span><span style=\"display:flex;\"><span>\n</span></span><span style=\"display:flex;\"><span><span style=\"color:#66d9ef\">try</span> {\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#66d9ef\">await</span> <span style=\"color:#a6e22e\">send</span>(<span style=\"color:#a6e22e\">data</span>);\n</span></span><span style=\"display:flex;\"><span>    } <span style=\"color:#66d9ef\">catch</span> (<span style=\"color:#a6e22e\">e</span>) {\n</span></span><span style=\"display:flex;\"><span>        <span style=\"color:#a6e22e\">console</span>.<span style=\"color:#a6e22e\">error</span>(<span style=\"color:#e6db74\">&#34;Failed to send the data. &#34;</span> <span style=\"color:#f92672\">+</span> <span style=\"color:#a6e22e\">e</span>);\n</span></span><span style=\"display:flex;\"><span>    }\n</span></span><span style=\"display:flex;\"><span>});\n</span></span></code></pre></div>"
        }  

    ]
}
