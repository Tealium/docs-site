
{
    "kind": "term",
    "name": "as_attributes",
    "count": 17,
    "items": [

    
        {
            "weight": "10",
            "url": "https://docs.tealium.com/ja/server-side/attributes/about/",
            "title": "属性について",
            "body": "<p>属性は実装の基盤であり、お客様の行動やブランドとのやり取りを定義するために使用されます。属性は訪問のプロパティ、訪問のセッション、収集されたイベントを定義します。属性の一般的な例としては、メールアドレス、会員ID、製品カテゴリ、最終訪問日、アクティブブラウザなどがあります。</p>\n<p>各プロファイルには、訪問と訪問の属性を最大500まで含めることができます。現在の属性の合計は<strong>訪問/訪問の属性</strong>画面で確認できます：</p>\n<figure><a class=\"slb\" href=\"/images/server-side/attributes/count-of-attributes.png\"><img src=\"https://docs.tealium.com/images/server-side/attributes/count-of-attributes.png\"\n         alt=\"属性の数の位置\"\n         title=\"属性の数の位置\"/>\n    </a>\n</figure>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>プロファイルに500以上の属性が必要な場合は、カスタマーサクセスマネージャーに連絡してください。</p>\n<h2 id=\"スコープ\">スコープ</h2>\n<p>スコープとは、属性がリアルタイムでどの程度持続するかを指します。</p>\n<p>以下の表は、サポートされているスコープを一覧にしたものです：</p>\n<table>\n<thead>\n<tr>\n<th>スコープ</th>\n<th>説明 / 例</th>\n<th>用途</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>イベント</td>\n<td>ページ、コンテンツ、お客様が行っているリアルタイムのアクションを説明する個々のイベントに関連する属性。例：ページ名、製品価格、イベント名、注文合計など。</td>\n<td><strong>属性ソース</strong><br> イベント属性は以下の値から取得されます：<br> <ul><li><strong>ユニバーサル変数</strong> <a href=\"/ja/platforms/javascript/universal-data-object/\">ユニバーサルデータオブジェクト</a></li><li><strong>Javascriptページ変数</strong> グローバルJavaScript変数（ブラウザ）</li><li><strong>HTMLメタデータ</strong> メタデータタグ（ブラウザ）</li><li><strong>ファーストパーティクッキー</strong> ブラウザのクッキー</li><li><strong>クエリストリングパラメータ</strong> 現在のページのURLクエリストリング（ブラウザ）</li></ul></td>\n</tr>\n<tr>\n<td>訪問</td>\n<td>特定の訪問（またはセッション）についての属性。データは訪問の期間中に持続します。例：訪問の長さ、使用ブラウザ、参照URL、カートに入れた製品。</td>\n<td>これらの属性は、単一のデバイス上での現在のセッションからの訪問の活動を表します。訪問属性はセッションの長さに持続します。詳細は<a href=\"#session-length\">セッションの長さ</a>を参照してください。</td>\n</tr>\n<tr>\n<td>訪問</td>\n<td>全ての訪問を通じて特定の訪問についての属性。例：メールアドレス、会員ID、生涯の注文合計、カテゴリビュー。</td>\n<td>このデータは訪問をセッションからセッションへ、そして異なるデバイス間で追跡します。訪問のデータは現在の訪問が終了した後も持続します。</td>\n</tr>\n<tr>\n<td>オムニチャネル</td>\n<td>オムニチャネルサービスを通じてオフラインデータをインポートするためのもの。このスコープではデータタイプは必要ありません。</td>\n<td><a href=\"/ja/server-side/data-sources/file-import/about/\">オムニチャネル</a>属性は、ファイルインポートを定義するときに定義されます。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"セッションの長さ\">セッションの長さ</h3>\n<p>セッションの長さは、AudienceStreamが訪問を終了するタイミングを決定します。新しいイベントがない状態でセッションの長さに達すると、訪問は終了し、AudienceStreamは訪問終了時の処理を行います。訪問からの次のイベントは新しい訪問を開始します。AudienceStreamの最大訪問時間は、イベントの活動に関係なく24時間です。</p>\n<p>AudienceStreamでは、イベントを送信するプラットフォームに基づいてデフォルトのセッションの長さが構成されます：</p>\n<ul>\n<li><strong>Web</strong>: 30分（1つのイベントで追加のイベントがない場合は10分）</li>\n<li><strong>モバイルアプリ</strong>: 2分</li>\n<li><strong>オムニチャネル</strong>: 1分</li>\n<li><strong>ファイルインポート</strong>: 1分</li>\n<li><strong>Collect API</strong>: 30分</li>\n</ul>\n<p>プラットフォームは、以下の値に従って予約属性の<code>platform</code>に基づいています：</p>\n<ul>\n<li><strong>Web</strong> - <code>platform</code>は<code>web</code>に構成されているか、構成されていません。</li>\n<li><strong>モバイル</strong> - <code>platform</code>は<code>android</code>,<code>ios</code>,<code>win</code>,<code>bb10</code>,<code>native_mobile</code>のいずれかに構成されています。</li>\n</ul>\n<p>セッションの長さをカスタマイズするには、セッションの最初のイベントでデータレイヤー変数<code>_dc_ttl_</code>をミリ秒単位の値に構成します。例えば、セッションの長さを5分に構成するには、イベントに以下のように追加します：<code>&quot;_dc_ttl_&quot;: 300000</code>。セッションの長さは構成した後に変更することはできません。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>カスタムの長さを構成するには、<code>platform</code>変数を省略する必要があります。<code>platform</code>にカスタム値を構成すると、セッションの長さはデフォルトの30分になります。</p>\n<h2 id=\"データタイプ\">データタイプ</h2>\n<p>属性には基本的な数値から、より強力な集計とバッジまで、さまざまなタイプがあります。データタイプは、属性値が格納される形式を決定します。</p>\n<p>以下のデータタイプがサポートされています：</p>\n<table>\n<thead>\n<tr>\n<th>データタイプ</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"/ja/server-side/attributes/data-types/number/\">Number</a></td>\n<td>注文合計、生涯イベント数、最終訪問からの日数などの数値を格納します。</td>\n</tr>\n<tr>\n<td><a href=\"/ja/server-side/attributes/data-types/string/\">String</a></td>\n<td>名前/姓、住所、お気に入りの製品、ページ名などのテキスト値を格納します。</td>\n</tr>\n<tr>\n<td><a href=\"/ja/server-side/attributes/data-types/boolean/\">Boolean</a></td>\n<td>&rsquo;true&rsquo;と&rsquo;false&rsquo;の2つの値のうちの1つだけを格納します。<a href=\"/ja/server-side/attributes/data-types/boolean/\">Boolean</a>は、訪問のアクションや訪問のステータスを示すために使用できます。</td>\n</tr>\n<tr>\n<td><a href=\"/ja/server-side/attributes/data-types/arrays/array-of-numbers/\">Array of Numbers</a></td>\n<td>複数の数値を<a href=\"/ja/server-side/attributes/data-types/arrays/array-of-numbers/\">array</a>として格納します。配列には一意または重複した数値が含まれることがあります。</td>\n</tr>\n<tr>\n<td><a href=\"/ja/server-side/attributes/data-types/arrays/arrays/\">Array of Strings</a></td>\n<td>複数の文字列値を配列として格納します。配列には一意または重複した文字列が含まれることがあります。</td>\n</tr>\n<tr>\n<td><a href=\"/ja/server-side/attributes/data-types/arrays/array-of-booleans/\">Array of Booleans</a></td>\n<td>複数のブール値を配列として格納します。配列には一意または重複したブール値が含まれることがあります。</td>\n</tr>\n<tr>\n<td><a href=\"/ja/server-side/attributes/data-types/tally/\">Tally</a></td>\n<td>1つ以上のキー-値のペアを格納します。</td>\n</tr>\n<tr>\n<td><a href=\"/ja/server-side/attributes/data-types/set-of-strings/\">Set of Strings</a></td>\n<td>一意の文字列値のコレクションをセットとして格納します。</td>\n</tr>\n<tr>\n<td><a href=\"/ja/server-side/attributes/data-types/date/\">Date</a></td>\n<td>イベントの日付、訪問のイベント、特定の訪問の日付を格納します。</td>\n</tr>\n<tr>\n<td><a href=\"/ja/server-side/attributes/data-types/funnel/\">Funnel</a></td>\n<td>支払いファネルや登録などのマルチステップイベントの各ステップのステータスを追跡します。</td>\n</tr>\n<tr>\n<td><a href=\"/ja/server-side/attributes/data-types/timeline/\">Timeline</a></td>\n<td>時間範囲内の訪問のアクションの全ての発生を記録します。</td>\n</tr>\n<tr>\n<td><a href=\"/ja/server-side/attributes/data-types/badge/\">Badge</a></td>\n<td>特定の基準やブラウジング行動を満たす訪問に視覚的なマークやシンボルを割り当てます。</td>\n</tr>\n<tr>\n<td><a href=\"/ja/server-side/visitor-stitching/visitor-id-attribute/\">Visitor ID</a></td>\n<td>訪問のユニークな特性をその二次識別子として格納します。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"スコープとデータタイプのマトリックス\">スコープとデータタイプのマトリックス</h3>\n<p>このマトリックスは、各スコープで利用可能なデータタイプを示しています。</p>\n<table>\n<thead>\n<tr>\n<th>データタイプ</th>\n<th>訪問スコープ</th>\n<th>訪問スコープ</th>\n<th>イベントスコープ</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Number</td>\n<td>✔</td>\n<td>✔</td>\n<td>✔</td>\n</tr>\n<tr>\n<td>String</td>\n<td>✔</td>\n<td>✔</td>\n<td>✔</td>\n</tr>\n<tr>\n<td>Boolean</td>\n<td>✔</td>\n<td>✔</td>\n<td>✔</td>\n</tr>\n<tr>\n<td>Array of Numbers</td>\n<td>✔</td>\n<td>✔</td>\n<td>✔</td>\n</tr>\n<tr>\n<td>Array of Strings</td>\n<td>✔</td>\n<td>✔</td>\n<td>✔</td>\n</tr>\n<tr>\n<td>Array of Booleans</td>\n<td>✔</td>\n<td>✔</td>\n<td>✔</td>\n</tr>\n<tr>\n<td>Tally</td>\n<td>✔</td>\n<td>✔</td>\n<td></td>\n</tr>\n<tr>\n<td>Set of Strings</td>\n<td>✔</td>\n<td>✔</td>\n<td></td>\n</tr>\n<tr>\n<td>Date</td>\n<td>✔</td>\n<td>✔</td>\n<td>✔</td>\n</tr>\n<tr>\n<td>Funnel</td>\n<td>✔</td>\n<td>✔</td>\n<td></td>\n</tr>\n<tr>\n<td>Timeline</td>\n<td>✔</td>\n<td>✔</td>\n<td></td>\n</tr>\n<tr>\n<td>Badge</td>\n<td>✔</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>Visitor ID</td>\n<td>✔</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"属性id\">属性ID</h2>\n<p>すべてのイベント、訪問、訪問の属性には一意の属性識別子があります。このIDの値は、エンリッチメントが実行される順序に影響を与える可能性があり、より複雑なデータソースや訪問のスティッチング構成に必要となる場合があります。</p>\n<p>属性IDは、属性リストの属性名の隣や、詳細を展開した中にあります。</p>\n<p><strong>イベント属性</strong>\n<figure><a class=\"slb\" href=\"/images/server-side/event-attribute-id.png\"><img src=\"https://docs.tealium.com/images/server-side/event-attribute-id.png\"\n         alt=\"イベント属性IDの位置\"\n         title=\"イベント属性IDの位置\"/>\n    </a>\n</figure></p>\n<p><strong>訪問属性</strong>\n<figure><a class=\"slb\" href=\"/images/server-side/visitor-attribute-id.png\"><img src=\"https://docs.tealium.com/images/server-side/visitor-attribute-id.png\"\n         alt=\"訪問属性IDの位置\"\n         title=\"訪問属性IDの位置\"/>\n    </a>\n</figure></p>\n<h2 id=\"サイズ制限\">サイズ制限</h2>\n<p>EventStreamとAudienceStreamのほとんどの属性には、保存容量の制限があり、その制限を超えた場合の特定の動作があります。訪問プロファイル全体には、圧縮および暗号化した場合の制限が400KBです。</p>\n<h2 id=\"イベント制限\">イベント制限</h2>\n<p>Tealiumプラットフォームと個々の顧客アカウントを保護するため、AudienceStreamは訪問あたり10,000イベントの制限を設けています。</p>\n<p>訪問が単一の訪問で10,000イベントに達すると、訪問は永久に禁止されます。訪問が禁止されると、訪問プロファイルは削除され、訪問IDまたはそれにスティッチする任意のIDのすべての将来のイベントは、AudienceStreamとEventStreamの両方で無視されます。また、アカウント、プロファイル、訪問ID、禁止が発生したことを示す指標を含むログメッセージが書き込まれます。\n禁止は永久的であるか、Tealium Operationsチームが禁止された訪問コレクションをパージするまで続きます。訪問が誤って禁止されたと思われる場合や、禁止リストから削除する必要がある訪問がいる場合は、Tealiumサポートに連絡してください。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>永久的な訪問の禁止が解除され、訪問が再度1訪問あたり10,000イベントの制限を超えると、再度禁止が発生します。</p>\n<h2 id=\"イベント属性\">イベント属性</h2>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>保存容量制限</th>\n<th>制限超過時の挙動</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>文字列</strong></td>\n<td>1,500文字</td>\n<td>制限を超える場合、文字列は1,500文字に切り詰められます。</td>\n</tr>\n<tr>\n<td><strong>任意のタイプの配列</strong></td>\n<td>30,000エントリ</td>\n<td>属性が制限を超えて構成または更新された場合、属性は30,000エントリに切り詰められて構成されます。</td>\n</tr>\n<tr>\n<td><strong>日付</strong></td>\n<td>最小: &ldquo;-292275055-05-16T16:47:04.192Z&rdquo; 最大: &ldquo;+292278994-08-17T07:12:55.807Z&rdquo;</td>\n<td></td>\n</tr>\n<tr>\n<td><strong>数値</strong></td>\n<td><code>java.lang.Number</code>で表現され、精度は動的です。</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"訪問訪問属性\">訪問/訪問属性</h2>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>保存容量制限</th>\n<th>制限超過時の挙動</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>文字列</strong></td>\n<td>1,000文字</td>\n<td>エンリッチメントが1,000文字を超える文字列を生成した場合、その値は保存されません。</td>\n</tr>\n<tr>\n<td><strong>タイムライン</strong></td>\n<td>100エントリ</td>\n<td>制限に達したときに最初のエントリが破棄されます（先入れ先出し）。例えば、タイムラインに100エントリが含まれていて、新しいエントリが追加された場合、最初のエントリが削除されます。</td>\n</tr>\n<tr>\n<td><strong>集計</strong></td>\n<td>30,000エントリ。</td>\n<td>属性が制限を超えて構成または更新された場合、属性は30,000エントリに切り詰められて構成されます。</td>\n</tr>\n<tr>\n<td><strong>任意のタイプの配列</strong></td>\n<td>30,000エントリ。</td>\n<td>属性が制限を超えて構成または更新された場合、属性は30,000エントリに切り詰められて構成されます。</td>\n</tr>\n<tr>\n<td><strong>文字列のセット</strong></td>\n<td>30,000エントリ。</td>\n<td>属性が制限を超えて構成または更新された場合、属性は30,000エントリに切り詰められて構成されます。</td>\n</tr>\n<tr>\n<td><strong>日付</strong></td>\n<td>最小: &ldquo;-292275055-05-16T16:47:04.192Z&rdquo; 最大: &ldquo;+292278994-08-17T07:12:55.807Z&rdquo;</td>\n<td></td>\n</tr>\n<tr>\n<td><strong>数値</strong></td>\n<td><code>java.lang.Number</code>で表現され、精度は動的です。</td>\n<td></td>\n</tr>\n<tr>\n<td><strong>訪問ID</strong></td>\n<td>2 KB</td>\n<td>訪問IDが2 KBを超える場合、レコードは保存されません。</td>\n</tr>\n<tr>\n<td><strong>ファネル</strong></td>\n<td>制限なし*</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>*制限はありませんが、属性はプロファイルの最大サイズ（暗号化と圧縮後の400 KB）によって制限されます。</p>\n<h2 id=\"iqタグ管理からインポートされた属性\">iQタグ管理からインポートされた属性</h2>\n<p>インポートされた属性とは、元々対応するTealium iQプロファイルで作成された変数です。Tealium iQの変数は、同名のサーバーサイドプロファイルで利用可能で、イベントスコープの属性としてインポートされます。Tealium iQで変数を変更（および公開）すると、変更は即座にEventStreamの対応する属性に適用されます。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>インポートされた属性は編集できません。それらを管理するにはTealium iQを使用する必要があります。</p>\n<p>Tealium iQの変数がEventStreamに表示されない場合は、Tealium iQの変数がサーバーサイドプロファイルに対応するTealium iQプロファイルに存在し、変数が保存および公開されていることを確認してください。変数の変更を公開した後は、ブラウザでEventStreamのページを更新してください。サーバーサイドでTealium iQの変数を利用可能にするための支援が必要な場合は、Tealiumサポートに連絡してください。</p>\n<h3 id=\"制限されたデータ\">制限されたデータ</h3>\n<p>このプロパティは、システムから送信されるべきでないデータを含む属性を識別するために使用されます。例えば、サードパーティの<a href=\"/ja/server-side/connectors/about/\">Connectors</a>や<a href=\"/ja/server-side/data-storage/about/\">DataAccess</a>などです。<a href=\"/ja/server-side/attributes/restricted-data/\">Restricted Data</a>について詳しく学びましょう。</p>\n<h3 id=\"ルール\">ルール</h3>\n<p>ルールは、エンリッチメントをトリガーするための追加のロジックを提供します。</p>\n<ul>\n<li>\n<p>事前定義されたルールを適用するには、ドロップダウンリストから選択し、<strong>ルールを追加</strong>をクリックします。<br>\n<p class=\"tip\"><i class=\"fa fa-info-circle\"></i>エンリッチメントダイアログボックスを通じて新しいルールを作成すると、それが自動的にエンリッチメントに適用されます。</p></p>\n</li>\n<li>\n<p>新しいルールを適用するには、<strong>ルールを作成</strong>をクリックします。<br>\n<figure><a class=\"slb\" href=\"/images/server-side/whiteui-using-attributes-rules.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-using-attributes-rules.png\"/>\n          </a>\n      </figure></p>\n</li>\n</ul>\n<h2 id=\"事前読み込みされた属性\">事前読み込みされた属性</h2>\n<p>AudienceStreamとEventStreamには、訪問や訪問について有用な情報を決定するのに役立つ統計情報で事前に構成された訪問と訪問の属性のセットが含まれています。</p>\n<p>これらの属性についての詳細は、<a href=\"/ja/server-side/attributes/preloaded/\">Preloaded attributes</a>を参照してください。</p>\n"
        }  

    , 
        {
            "weight": "13",
            "url": "https://docs.tealium.com/ja/server-side/attributes/preloaded/",
            "title": "プリロードされた属性",
            "body": "<h2 id=\"仕組み\">仕組み</h2>\n<p>便宜上、AudienceStreamとEventStreamには、プリロードされたイベント、訪問、訪問の属性のセットが含まれています。各属性は、訪問や訪問について有用な情報を決定するのに役立つ統計情報を収集するように構成されています。これらの属性は、<a href=\"/ja/client-side-tags/tealium-collect-tag/\">Tealium Collect tag</a>からの標準的なイベントデータを超えて追加の属性を必要としません。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>プリロードされた属性は変更できませんが、それらを複製してコピーを変更することができます。複製は、オリジナルのすべてのエンリッチメント物とルールを含んでいます。</p>\n<h2 id=\"訪問の属性\">訪問の属性</h2>\n<table>\n<thead>\n<tr>\n<th>訪問の属性</th>\n<th>ID</th>\n<th>タイプ</th>\n<th>説明</th>\n<th>エンリッチメント物</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>平均訪問時間（分）</td>\n<td>26</td>\n<td>数値</td>\n<td>訪問の平均時間（分）</td>\n<td>訪問が終了したときに、<code>サイトで過ごした合計時間（分）</code>を<code>ライフタイム訪問数</code>で割ったものを<code>平均訪問時間（分）</code>の比率に構成します。</td>\n</tr>\n<tr>\n<td>週平均訪問数</td>\n<td>29</td>\n<td>数値</td>\n<td>週平均訪問数</td>\n<td><code>初回訪問からの週数</code>が<code>1</code>以上の場合、新規訪問時に<code>ライフタイム訪問数</code>を<code>初回訪問からの週数</code>で割ったものを<code>週平均訪問数</code>の比率に構成します。</td>\n</tr>\n<tr>\n<td>ファン</td>\n<td>30</td>\n<td>バッジ</td>\n<td>訪問は2回以上訪問し、直接訪問が紹介よりも多い。</td>\n<td><code>合計直接訪問数</code>が<code>合計紹介訪問数</code>よりも多い場合、新規訪問時に訪問に<code>ファン</code>バッジを割り当てます。</td>\n</tr>\n<tr>\n<td>初回訪問</td>\n<td>23</td>\n<td>日付</td>\n<td>初回訪問の日付</td>\n<td>新規訪問の場合、<code>最後のイベントのタイムスタンプ</code>を<code>初回訪問_コピー</code>に構成します。</td>\n</tr>\n<tr>\n<td>頻繁な訪問</td>\n<td>31</td>\n<td>バッジ</td>\n<td>訪問は平均して週に2回以上訪問しています。</td>\n<td><code>週平均訪問数</code>が<code>2</code>未満の場合、新規訪問時に訪問から<code>頻繁な訪問</code>バッジを削除し、<code>週平均訪問数</code>が<code>2</code>以上の場合、新規訪問時に訪問に<code>頻繁な訪問</code>バッジを割り当てます。</td>\n</tr>\n<tr>\n<td>最後のイベントURL</td>\n<td>17</td>\n<td>文字列</td>\n<td>訪問の最後のイベントURL</td>\n<td>任意のイベント時に<code>現在のURL</code>を<code>最後のイベントURL</code>の文字列に構成します。</td>\n</tr>\n<tr>\n<td>最後の訪問</td>\n<td>24</td>\n<td>日付</td>\n<td>最後の訪問の日付</td>\n<td>訪問が終了したときに、最後のイベントのタイムスタンプを<code>最後の訪問</code>に構成します。</td>\n</tr>\n<tr>\n<td>使用したブラウザの種類（ライフタイム）</td>\n<td>57</td>\n<td>集計</td>\n<td>使用された各種類のブラウザの回数を集計します</td>\n<td>訪問が終了したときに、<code>アクティブなブラウザの種類</code>で見つかった場合、<code>使用したブラウザの種類（ライフタイム）</code>のすべての値を<code>1</code>増やします。</td>\n</tr>\n<tr>\n<td>使用したブラウザの種類（お気に入り）</td>\n<td>56</td>\n<td>文字列</td>\n<td>使用したブラウザの種類属性からのお気に入りのアイテム</td>\n<td>使用したブラウザの種類から自動生成されます。</td>\n</tr>\n<tr>\n<td>使用したブラウザのバージョン（ライフタイム）</td>\n<td>63</td>\n<td>集計</td>\n<td>使用されたブラウザのバージョンを集計します</td>\n<td>訪問が終了したときに、<code>アクティブなブラウザのバージョン</code>で見つかった場合、<code>使用したブラウザのバージョン（ライフタイム）</code>のすべての値を<code>1</code>増やします。</td>\n</tr>\n<tr>\n<td>使用したブラウザのバージョン（お気に入り）</td>\n<td>62</td>\n<td>文字列</td>\n<td>使用したブラウザのバージョン属性からのお気に入り</td>\n<td>使用したブラウザのバージョンから自動生成されます。</td>\n</tr>\n<tr>\n<td>使用したデバイス（ライフタイム）</td>\n<td>55</td>\n<td>集計</td>\n<td>使用されたデバイスを集計します</td>\n<td>訪問が終了したときに、<code>アクティブなデバイス</code>で見つかった場合、<code>使用したデバイス（ライフタイム）</code>のすべての値を<code>1</code>増やします。</td>\n</tr>\n<tr>\n<td>使用したデバイス（お気に入り）</td>\n<td>54</td>\n<td>文字列</td>\n<td>使用したデバイス属性からのお気に入りのアイテム</td>\n<td>使用したデバイスから自動生成されます。</td>\n</tr>\n<tr>\n<td>イベント数（ライフタイム）</td>\n<td>22</td>\n<td>数値</td>\n<td>ユーザーがトリガーしたイベントの合計数</td>\n<td>任意のイベント時に<code>イベント数（ライフタイム）</code>の数値を<code>1</code>増やします。</td>\n</tr>\n<tr>\n<td>使用したオペレーティングシステム（ライフタイム）</td>\n<td>59</td>\n<td>集計</td>\n<td>使用されたオペレーティングシステムを集計します</td>\n<td>訪問が終了したときに、<code>アクティブなオペレーティングシステム</code>で見つかった場合、<code>使用したオペレーティングシステム（ライフタイム）</code>のすべての値を<code>1</code>増やします</td>\n</tr>\n<tr>\n<td>使用したオペレーティングシステム（お気に入り）</td>\n<td>58</td>\n<td>文字列</td>\n<td>使用したオペレーティングシステム属性からのお気に入りのアイテム</td>\n<td>使用したオペレーティングシステムから自動生成されます。</td>\n</tr>\n<tr>\n<td>使用したプラットフォーム（ライフタイム）</td>\n<td>61</td>\n<td>集計</td>\n<td>使用されたプラットフォームを集計します</td>\n<td>訪問が終了したときに、<code>アクティブなプラットフォーム</code>で見つかった場合、<code>使用したプラットフォーム（ライフタイム）</code>のすべての値を<code>1</code>増やします。</td>\n</tr>\n<tr>\n<td>使用したプラットフォーム（お気に入り）</td>\n<td>60</td>\n<td>文字列</td>\n<td>使用したプラットフォーム属性からのお気に入りのアイテム</td>\n<td>使用したプラットフォームから自動生成されます。</td>\n</tr>\n<tr>\n<td>訪問数（ライフタイム）</td>\n<td>21</td>\n<td>数値</td>\n<td>ユーザーがサイトを訪問した合計回数</td>\n<td><ul><li>訪問が終了したときに、<code>サイトで過ごした合計時間（分）</code>を<code>ライフタイム訪問数</code>で割ったものを<code>平均訪問時間（分）</code>の比率に構成します。</li><li><code>初回訪問からの週数</code>が<code>1</code>以上の場合、新規訪問時に<code>ライフタイム訪問数</code>を<code>初回訪問からの週数</code>で割ったものを<code>週平均訪問数</code>の比率に構成します。</li></ul></td>\n</tr>\n<tr>\n<td>リターニングビジター</td>\n<td>27</td>\n<td>ブール値</td>\n<td>訪問はリターニングビジターです。</td>\n<td><code>ライフタイム訪問数</code>が<code>1</code>より大きい場合、新規訪問時に<code>リターニングビジター</code>を<code>true</code>に構成します。</td>\n</tr>\n<tr>\n<td>直接訪問の合計</td>\n<td>15</td>\n<td>数値</td>\n<td>直接訪問の合計数</td>\n<td><code>紹介URL</code>が空であるか、<code>紹介URL</code>が<code>現在のURL</code>と等しい場合、新規訪問時に<code>直接訪問の合計</code>の数値を<code>1</code>増やします。</td>\n</tr>\n<tr>\n<td>紹介訪問の合計</td>\n<td>16</td>\n<td>数値</td>\n<td>紹介訪問の合計数</td>\n<td><code>紹介URL</code>が空でなく、<code>紹介URL</code>が<code>現在のURL</code>と等しくない場合、新規訪問時に<code>紹介訪問の合計</code>の数値を<code>1</code>増やします。</td>\n</tr>\n<tr>\n<td>サイトで過ごした合計時間（分）</td>\n<td>25</td>\n<td>数値</td>\n<td>ユーザーのすべての訪問の持続時間の合計</td>\n<td>訪問が終了したときに、<code>訪問の持続時間</code>を<code>サイトで過ごした合計時間（分）</code>の数値に増やします。</td>\n</tr>\n<tr>\n<td>バッジなし</td>\n<td>32</td>\n<td>バッジ</td>\n<td>訪問にはバッジが割り当てられていません。</td>\n<td>新規訪問の場合、訪問に<code>バッジなし</code>バッジを割り当てます。</td>\n</tr>\n<tr>\n<td>初回訪問からの週数</td>\n<td>28</td>\n<td>数値</td>\n<td>初回訪問から経過した週数</td>\n<td><code>初回訪問からの週数</code>が<code>1</code>以上の場合、新規訪問時に<code>ライフタイム訪問数</code>を<code>初回訪問からの週数</code>で割ったものを<code>週平均訪問数</code>の比率に構成します。</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"訪問の属性-1\">訪問の属性</h2>\n<table>\n<thead>\n<tr>\n<th>訪問の属性</th>\n<th>ID</th>\n<th>タイプ</th>\n<th>説明</th>\n<th>エンリッチメント物</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>アクティブなブラウザの種類</td>\n<td>44</td>\n<td>文字列</td>\n<td>訪問が現在使用しているブラウザ</td>\n<td><ul><li><code>User Agent</code>が<code>Firefox</code>、<code>Safari</code>、<code>MSIE</code>、<code>Edg</code>、Operaを含まない場合、任意のイベント時に<code>アクティブなブラウザのバージョン</code>を<code>アクティブなブラウザの種類</code>に構成します。</li><li><code>User Agent</code>が<code>Chrome</code>の場合、任意のイベント時に<code>アクティブなブラウザのバージョン</code>を<code>アクティブなブラウザの種類</code>に構成します。</li><li><code>User Agent</code>が<code>Firefox</code>の場合、任意のイベント時に<code>アクティブなブラウザのバージョン</code>を<code>アクティブなブラウザの種類</code>に構成します。</li><li><code>User Agent</code>が<code>Opera</code>の場合、任意のイベント時に<code>アクティブなブラウザのバージョン</code>を<code>アクティブなブラウザの種類</code>に構成します。</li><li>任意のイベント時に<code>アクティブなブラウザの種類</code>を<code>アクティブなブラウザの種類のセット</code>に追加します。</li></ul></td>\n</tr>\n<tr>\n<td>アクティブなブラウザの種類</td>\n<td>49</td>\n<td>文字列のセット</td>\n<td>この訪問で使用されたブラウザの種類の重複を除いたリスト</td>\n<td>訪問が終了したときに、<code>アクティブなブラウザの種類</code>で見つかった場合、<code>使用したブラウザの種類（ライフタイム）</code>のすべての値を<code>1</code>増やします。</td>\n</tr>\n<tr>\n<td>アクティブなブラウザのバージョン</td>\n<td>48</td>\n<td>文字列</td>\n<td>訪問が現在使用しているブラウザのバージョン</td>\n<td>任意のイベント時に<code>アクティブなブラウザのバージョン</code>を<code>アクティブなブラウザのバージョンのセット</code>に追加します。</td>\n</tr>\n<tr>\n<td>アクティブなブラウザのバージョン</td>\n<td>53</td>\n<td>文字列のセット</td>\n<td>この訪問で使用されたブラウザのバージョンの重複を除いたリスト</td>\n<td>訪問が終了したときに、<code>アクティブなブラウザのバージョン</code>で見つかった場合、<code>使用したブラウザのバージョン（ライフタイム）</code>のすべての値を<code>1</code>増やします。</td>\n</tr>\n<tr>\n<td>アクティブなデバイス</td>\n<td>46</td>\n<td>文字列</td>\n<td>訪問が現在使用しているデバイス</td>\n<td>任意の訪問時に<code>アクティブなデバイス</code>を<code>アクティブなデバイスのセット</code>に追加します。</td>\n</tr>\n<tr>\n<td>アクティブなデバイス</td>\n<td>51</td>\n<td>文字列のセット</td>\n<td>この訪問で使用されたデバイスの重複を除いたリスト</td>\n<td>訪問が終了したときに、<code>アクティブなデバイス</code>で見つかった場合、<code>使用したデバイス（ライフタイム）</code>のすべての値を<code>1</code>増やします。</td>\n</tr>\n<tr>\n<td>アクティブなオペレーティングシステム</td>\n<td>45</td>\n<td>文字列</td>\n<td>訪問が現在使用しているオペレーティングシステム</td>\n<td>任意のイベント時に<code>アクティブなオペレーティングシステム</code>を<code>アクティブなオペレーティングシステムのセット</code>に追加します。</td>\n</tr>\n<tr>\n<td>アクティブなオペレーティングシステム</td>\n<td>50</td>\n<td>文字列のセット</td>\n<td>重複を排除したオペレーティングシステムのリスト</td>\n<td><code>訪問終了時に</code>Active operating systems<code>に存在する場合、すべての値を</code>1<code>増加させる</code>Lifetime operating systems used`の集計。</td>\n</tr>\n<tr>\n<td>アクティブなプラットフォーム</td>\n<td>47</td>\n<td>文字列</td>\n<td>訪問が現在使用しているプラットフォーム</td>\n<td>任意のイベント時に<code>Active platforms</code>の文字列セットに<code>Active platform</code>を追加。</td>\n</tr>\n<tr>\n<td>アクティブなプラットフォーム</td>\n<td>52</td>\n<td>文字列のセット</td>\n<td>重複を排除したアクティブなプラットフォームのリスト</td>\n<td><code>訪問終了時に</code>Active platforms<code>に存在する場合、すべての値を</code>1<code>増加させる</code>Lifetime platforms used`の集計。</td>\n</tr>\n<tr>\n<td>直接訪問</td>\n<td>14</td>\n<td>ブール値</td>\n<td>ユーザーが直接サイトにアクセスした。</td>\n<td><code>新規訪問時に</code>Referring URL<code>が空または</code>Referring URL<code>が</code>Current URL<code>と等しい場合、ブール値</code>Direct visit<code>を</code>true`に構成。</td>\n</tr>\n<tr>\n<td>エントリーURL</td>\n<td>5</td>\n<td>文字列</td>\n<td>最初に訪れたページのURL</td>\n<td>新規訪問時に文字列<code>Entry URL</code>を<code>Current URL</code>に構成。</td>\n</tr>\n<tr>\n<td>イベント数</td>\n<td>7</td>\n<td>数値</td>\n<td>この訪問でのイベントの総数</td>\n<td>任意のイベント時に数値<code>Event count</code>を<code>1</code>増加。</td>\n</tr>\n<tr>\n<td>終了URL</td>\n<td>6</td>\n<td>文字列</td>\n<td>最後に訪れたページのURL</td>\n<td>訪問終了時に文字列<code>Exit URL</code>を<code>Current URL</code>に構成。</td>\n</tr>\n<tr>\n<td>リファード訪問</td>\n<td>13</td>\n<td>ブール値</td>\n<td>ユーザーが他のサイトから紹介された。</td>\n<td><code>新規訪問時に</code>Referring URL<code>が空でなく、</code>Referring URL<code>が</code>Current URL<code>と等しくない場合、ブール値</code>Referred visit<code>を</code>true`に構成。</td>\n</tr>\n<tr>\n<td>訪問時間</td>\n<td>12</td>\n<td>数値</td>\n<td>この訪問の期間</td>\n<td>訪問終了時に<code>Total time spent on site in minutes</code>の数値を<code>Visit duration</code>で増加。</td>\n</tr>\n<tr>\n<td>訪問終了</td>\n<td>11</td>\n<td>日付</td>\n<td>この訪問の終了日</td>\n<td>任意のイベント時に、<code>Visit duration</code>の数値を<code>Visit end</code>と<code>Visit start</code>の差（分）に構成。</td>\n</tr>\n<tr>\n<td>訪問開始</td>\n<td>10</td>\n<td>日付</td>\n<td>この訪問の開始日</td>\n<td>任意のイベント時に、<code>Visit duration</code>の数値を<code>Visit end</code>と<code>Visit start</code>の差（分）に構成。</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"イベント属性\">イベント属性</h2>\n<table>\n<thead>\n<tr>\n<th>イベント属性</th>\n<th>ID</th>\n<th>タイプ</th>\n<th>説明</th>\n<th>機能追加</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>クライアントIP</td>\n<td>74</td>\n<td>文字列</td>\n<td>クライアントのIPアドレス</td>\n<td></td>\n</tr>\n<tr>\n<td>クライアントIPv6</td>\n<td>83</td>\n<td>文字列</td>\n<td>クライアントのIPv6アドレス</td>\n<td></td>\n</tr>\n<tr>\n<td>現在のURL</td>\n<td>4</td>\n<td>文字列</td>\n<td>現在のページのURL</td>\n<td><ul><li>新規訪問時に文字列<code>Entry URL</code>を<code>Current URL</code>に構成。</li><li>訪問終了時に文字列<code>Exit URL</code>を<code>Current URL</code>に構成。</li><li>任意のイベント時に文字列<code>Last event URL</code>を<code>Current URL</code>に構成。</li></ul></td>\n</tr>\n<tr>\n<td>ドメイン</td>\n<td>35</td>\n<td>文字列</td>\n<td>現在のページのドメイン</td>\n<td></td>\n</tr>\n<tr>\n<td>event_name</td>\n<td>64</td>\n<td>文字列</td>\n<td>この属性は廃止されました。代わりに<code>tealium_event</code>を使用してください。</td>\n<td></td>\n</tr>\n<tr>\n<td>最後のイベントのタイムスタンプ</td>\n<td>8</td>\n<td>文字列</td>\n<td>最後のイベントのタイムスタンプ</td>\n<td><ul><li>新規訪問時に日付<code>Visit start</code>を<code>Last event timestamp</code>に構成。</li><li>任意のイベント時に日付<code>Visit end</code>を<code>Last event timestamp</code>に構成。</li><li>新規訪問時に日付<code>First visit</code>を<code>Last event timestamp</code>に構成。</li><li>訪問終了時に日付<code>Last visit</code>を<code>Last event timestamp</code>に構成。</li></ul></td>\n</tr>\n<tr>\n<td>ページタイトル</td>\n<td>38</td>\n<td>文字列</td>\n<td>現在のページのタイトル</td>\n<td></td>\n</tr>\n<tr>\n<td>パス名</td>\n<td>36</td>\n<td>文字列</td>\n<td>現在のページのパス名</td>\n<td></td>\n</tr>\n<tr>\n<td>プラットフォーム</td>\n<td>40</td>\n<td>文字列</td>\n<td>クライアントのプラットフォーム</td>\n<td></td>\n</tr>\n<tr>\n<td>クエリストリング</td>\n<td>37</td>\n<td>文字列</td>\n<td>現在のページのクエリストリング</td>\n<td></td>\n</tr>\n<tr>\n<td>リファリングURL</td>\n<td>3</td>\n<td>文字列</td>\n<td>前のページのURL</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_account</td>\n<td>66</td>\n<td>文字列</td>\n<td>アカウント名</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_datasource</td>\n<td>70</td>\n<td>文字列</td>\n<td>データソースキー</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_environment</td>\n<td>67</td>\n<td>文字列</td>\n<td>公開環境</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_event</td>\n<td>75</td>\n<td>文字列</td>\n<td>Tealiumのイベント名（<code>view</code>または<code>link</code>）</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_event_type</td>\n<td>78</td>\n<td>文字列</td>\n<td>発行されるTealiumイベントのタイプ（<code>view</code>または<code>event</code>）</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_firstparty_visitor_id</td>\n<td>76</td>\n<td>文字列</td>\n<td>ファーストパーティクッキーによって提供される訪問ID</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_library_name</td>\n<td>68</td>\n<td>文字列</td>\n<td>ライブラリ名</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_library_version</td>\n<td>69</td>\n<td>文字列</td>\n<td>ライブラリのバージョン</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_profile</td>\n<td>79</td>\n<td>文字列</td>\n<td>アカウントプロファイル</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_random</td>\n<td>65</td>\n<td>数値</td>\n<td>この値は、プラットフォームが各イベントに対して生成したランダムな数値です。期待される値は16桁の数値です。この値は16桁未満の場合、ゼロで前置されます。</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_session_id</td>\n<td>71</td>\n<td>数値</td>\n<td>この値は、最初のページビュー、イベント、またはライブラリの起動が完了したときのエポックタイムスタンプ（ミリ秒）。この値は、ウェブ上で30分間活動がない場合にリセットされます。</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_thirdparty_visitor_id</td>\n<td>77</td>\n<td>文字列</td>\n<td>サードパーティクッキーによって提供される訪問ID</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_timestamp_epoch</td>\n<td>73</td>\n<td>数値</td>\n<td>この値は、イベントが発生したときの時間（秒）。イベントがキューに入れられた場合、この値はイベントが元々発生した時間です。</td>\n<td></td>\n</tr>\n<tr>\n<td>tealium_visitor_id</td>\n<td>72</td>\n<td>文字列</td>\n<td>この値は生成されたUUIDで、AudienceStreamでは大文字と小文字が区別されます。この値は以前<code>tealium_vid</code>として<code>vdata</code>呼び出しに使用されていました。</td>\n<td></td>\n</tr>\n<tr>\n<td>ユーザーエージェント</td>\n<td>2</td>\n<td>文字列</td>\n<td>ユーザーエージェント文字列</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"例\">例</h2>\n<p>以下の例は、事前にロードされた属性をどのように使用できるかを示しています：</p>\n<ul>\n<li><strong>頻繁な訪問</strong>バッジを使用してオーディエンスを作成し、そのオーディエンスにコネクタをアクションして、&ldquo;定期的な訪問であることに感謝します&quot;というメールをその訪問に送信します。</li>\n<li>**使用したオペレーティングシステムのライフタイム（お気に入り）**属性を使用して、ページ上の特定のダウンロードの配置を変更し、より関連性の高いアプリを最初に表示します。</li>\n<li><strong>Total Direct Visits</strong>と<strong>Total Referred Visits</strong>を使用して、訪問がサイトとどのように関わるかを判断するために、直接訪問と紹介訪問の比率を計算します。</li>\n</ul>\n"
        }  

    , 
        {
            "weight": "30",
            "url": "https://docs.tealium.com/ja/server-side/attributes/enrichments/",
            "title": "エンリッチメントについて",
            "body": "<p>エンリッチメントとは、属性を静的な値から動的な値に変換するためのカスタムロジックの使用を指します。これは新しいデータ値を作成したり、受信データを変更したりするために使用されます。各データタイプには事前に構築されたエンリッチメントが用意されています。例えば、数値属性には数値を増減する機能が用意されています。</p>\n<h2 id=\"リンクされたエンリッチメント\">リンクされたエンリッチメント</h2>\n<p>2つ以上のエンリッチメントが同じ属性に依存している場合、それらは_リンクされたエンリッチメント_となります。以下の例は、訪問の開始と終了に適用されたエンリッチメントを示しています。<code>Visit Start</code>属性のエンリッチメントは<code>Visit End</code>属性を使用し、その逆も同様です。各エンリッチメントが属性によって他方にリンクされているため、それらはリンクされたエンリッチメントと見なされます。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/whiteui-usingenrichments-visitstart-and-visitend-linked-enrichments-combined-screens.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-usingenrichments-visitstart-and-visitend-linked-enrichments-combined-screens.png\"\n         alt=\"UsingEnrichments_VisitStart and VisitEnd Linked Enrichments_Combined Screens\"\n         title=\"UsingEnrichments_VisitStart and VisitEnd Linked Enrichments_Combined Screens\"/>\n    </a>\n</figure>\n"
        }  

    , 
        {
            "weight": "30",
            "url": "https://docs.tealium.com/ja/server-side/visitor-stitching/visitor-id-attribute/",
            "title": "ビジターID属性",
            "body": "<p>始める前に、以下を理解しておいてください：</p>\n<ul>\n<li><a href=\"/ja/server-side/attributes/about/\">属性の使用</a></li>\n<li><a href=\"/ja/server-side/attributes/enrichments/\">エンリッチメントの使用</a></li>\n<li><a href=\"/ja/server-side/visitor-stitching/about/\">ビジタースティッチングについて</a></li>\n</ul>\n<p>ビジターID属性は、AudienceStreamでビジターを一意に識別するために構成されます。ビジターID属性を作成するとき、エンリッチメントを追加して値をユーザー識別子（<code>email_address_hash</code>や<code>customer_id</code>などのイベント属性）に構成します。ビジタースティッチングを正しく機能させるためには、一意のユーザー識別子を選択し、ビジターを識別するタイミングを決定するルールを作成し、選択した属性が各ビジターに対して一意であることを確認する必要があります。ユーザー識別子の選択についての詳細は、<a href=\"/ja/guides/user-identifier-guide/\">ユーザー識別子の選択におけるベストプラクティス</a>を参照してください。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>ビジタースティッチングはデフォルトでは無効になっています。有効にするにはアカウントマネージャーに連絡してください。</p>\n<p>ビジターID属性はビジタースコープで利用可能です。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/screenshot-2019-11-11-at-1.27.27-pm.png\"><img src=\"https://docs.tealium.com/images/server-side/screenshot-2019-11-11-at-1.27.27-pm.png\"\n         alt=\"Screenshot 2019-11-11 at 1.27.27 PM.png\"\n         title=\"Screenshot 2019-11-11 at 1.27.27 PM.png\"/>\n    </a>\n</figure>\n<h2 id=\"ビジターid属性のシステム要件\">ビジターID属性のシステム要件</h2>\n<p>ビジターID属性は以下のシステム要件を満たす必要があります：</p>\n<ul>\n<li><strong>長さ</strong> – 値は6から255文字の間でなければなりません。</li>\n<li><strong>非繰り返し</strong> – 値は少なくとも3つの異なる文字を含む必要があります。2つの異なる文字だけで構成された10文字の識別子（ <code>&quot;a1a1a1a1a1&quot;</code> ）は無効です。</li>\n<li><strong>エンリッチメント</strong> – データタイプがNumberの属性は、ビジターID属性をエンリッチするために使用することはできません。</li>\n<li><strong>サイズ</strong> – ビジターIDの最大サイズは2 KBです。</li>\n</ul>\n<p>UTF-8文字セットがサポートされています。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>システムはこれらの要件を自動的に検証します。ビジターID属性の構成にこれらのルール条件は必要ありません。</p>\n<h2 id=\"ベストプラクティス\">ベストプラクティス</h2>\n<p>ビジターID属性は以下のベストプラクティスに従うべきです：</p>\n<ul>\n<li>\n<p><strong>一意性</strong> - 各ビジターID属性の値は各ビジターに対して一意であるべきです。</p>\n<ul>\n<li><strong>強い識別子</strong> - ハッシュ化されたメールアドレスや顧客IDのように、一人のビジターに関連付けられ、変更される可能性が低い値のみを使用してください。</li>\n<li><strong>弱い識別子</strong> - 各ビジターに対して一意であることが保証できない値や、時間とともに変更される可能性が高い値（名前やユーザー名、電話番号など）は避けてください。</li>\n</ul>\n</li>\n<li>\n<p><strong>大文字小文字の区別</strong> - 値は大文字小文字を区別するので、小文字に変換してください。例えば、<code>FirstLast@example.com</code>と<code>firstlast@example.com</code>のように、一つのメールアドレスが大文字小文字のバリエーションで書かれると、AudienceStreamでは2つの異なるIDとして扱われます。</p>\n</li>\n<li>\n<p><strong>値の確認</strong> - メールアドレスを使用している場合、アドレスに<code>@</code>記号が含まれていることを確認することが望ましいかもしれません。また、<code>undefined</code>、<code>unknown</code>、<code>not set</code>などの文字列や、ビジターID属性の有効な値とならないテキストをチェックすることも考慮に入れてください。</p>\n</li>\n</ul>\n<p class=\"tip\"><i class=\"fa fa-info-circle\"></i>最も正確なビジターID属性を作成するためのガイドは、<a href=\"/ja/server-side/visitor-stitching/create-a-visitor-id-attribute/\">ビジターID属性の作成</a>を参照してください。</p>\n<h2 id=\"ビジターid属性に値を構成するタイミング\">ビジターID属性に値を構成するタイミング</h2>\n<p>ビジターID属性の値は、顧客が信頼性のある一意の識別手段を提供するイベント（アカウントの登録や購入の完了など）が発生したときに構成します。</p>\n<p>ビジターID属性はマーケティング活動ID（gidなど）であってはなりません。これらのサードパーティ識別子はコネクタで使用するためのビジター属性として保存できますが、ビジターID属性としては推奨されません。</p>\n<h2 id=\"ビジターid属性をエンリッチする\">ビジターID属性をエンリッチする</h2>\n<p>エンリッチメントを使用して、ビジターID属性にビジターのユーザー識別子を保存します。例えば、ユーザーが登録またはサインアップすると、システムは内部IDを生成してデータレイヤーに<code>customer_id</code>として追加するかもしれません。この場合、<code>user_register</code>イベントが発生したときにビジターID属性を<code>customer_id</code>に構成するためにエンリッチメントを使用します。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>ビジターID属性が構成されると、それは更新できません。</p>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/boolean/",
            "title": "ブール属性",
            "body": "<h2 id=\"仕組み\">仕組み</h2>\n<p>ブール属性は、条件の真偽値を格納するために使用されます。例えば、訪問がカートにアイテムを追加したかどうか、特定のサイトのセクションを訪れたかどうかをブール値で格納することができます。</p>\n<p>ブール属性は次のスコープで利用可能です：イベント、訪問、訪問。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/attribute-scopes-table-all.png\"><img src=\"https://docs.tealium.com/images/server-side/attribute-scopes-table-all.png\" width=\"400\" height=\"110\"/>\n    </a>\n</figure>\n<h3 id=\"サイズ制限\">サイズ制限</h3>\n<p>各ブールのサイズには制限はありませんが、これらの属性は暗号化と圧縮後のプロファイルの最大サイズ（400 KB）によって制限されます。</p>\n<h2 id=\"エンリッチメント\">エンリッチメント</h2>\n<h3 id=\"ブールの構成\">ブールの構成</h3>\n<p>このエンリッチメントを使用して、ブール属性を真または偽に構成します。</p>\n<p>この例では、訪問がカートにアイテムを追加したかどうかを「カートに追加したか」のブール属性で知る方法を示しています。訪問の開始時に属性を偽に構成し、<code>cart_add</code>イベントが発生するたびに真に構成します。</p>\n<p>これを達成するためには、2つのエンリッチメントを作成します：</p>\n<pre tabindex=\"0\"><code>構成値：偽\n条件：新規訪問\n</code></pre><pre tabindex=\"0\"><code>構成値：真\n条件：任意のイベント\nルール：tealium_event が &#34;cart_add&#34;と等しい\n</code></pre><p><strong>属性名:</strong> カートに追加したか</p>\n<ul>\n<li><strong>初期値</strong>: <code>&quot;&quot;</code></li>\n<li><strong>エンリッチメント</strong>: <code>真</code></li>\n<li><strong>結果の値</strong> <code>真</code></li>\n</ul>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/arrays/array-of-booleans/",
            "title": "ブール値の配列",
            "body": "<p>ブール値の配列属性は、真偽値のリストを保存します。</p>\n<p>ブール値の配列は、次の範囲で利用可能です：イベント、訪問、訪問。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/screenshot-2019-11-11-at-1.24.29-pm.png\"><img src=\"https://docs.tealium.com/images/server-side/screenshot-2019-11-11-at-1.24.29-pm.png\"\n         alt=\"ブール値の配列\"\n         title=\"ブール値の配列\"/>\n    </a>\n</figure>\n<p class=\"tip\"><i class=\"fa fa-info-circle\"></i>&ldquo;true&quot;と&quot;false&quot;の文字列（大文字/小文字の混在）はそれぞれのブール値に変換されます。それ以外の非ブール値は無視されます。</p>\n<h2 id=\"エンリッチメント\">エンリッチメント</h2>\n<h3 id=\"ブール値の追加\">ブール値の追加</h3>\n<p>このエンリッチメントは、配列に値を追加します。追加される属性は、ブール値、iQ変数、またはオムニチャネル属性のみです。例えば、顧客が最後の訪問で購入したことを表すブール値を配列に追加することができます。</p>\n<p><strong>属性名</strong>：<code>did_purchase_on_visit</code></p>\n<ul>\n<li><strong>開始値</strong>：<code>[true]</code></li>\n<li><strong>エンリッチメント</strong>：<code>false</code></li>\n<li><strong>結果の値</strong>：<code>[true, false]</code></li>\n</ul>\n<h3 id=\"ブール値の配列の追加\">ブール値の配列の追加</h3>\n<p>このエンリッチメントは、別の配列からすべての値を配列に追加します。追加される属性のタイプは、ブール値の配列またはiQ変数のみです。</p>\n<p><strong>属性名</strong>：<code>my_booleans</code></p>\n<ul>\n<li><strong>開始値</strong>：<code>[true]</code></li>\n<li><strong>エンリッチメント</strong>：<code>[false, true]</code></li>\n<li><strong>結果の値</strong>：<code>[true, false, true]</code></li>\n</ul>\n<h3 id=\"リセット\">リセット</h3>\n<p>このエンリッチメントは、ブール値の配列からすべての値を削除します。</p>\n<p><strong>属性名</strong>：<code>did_purchase_on_visit</code></p>\n<ul>\n<li><strong>開始値</strong>：<code>[true, false, true]</code></li>\n<li><strong>結果の値</strong>：（削除）</li>\n</ul>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/timeline/",
            "title": "タイムライン属性",
            "body": "<h2 id=\"仕組み\">仕組み</h2>\n<p>タイムライン属性は、指定された期間にわたるイベントのリストを記録します。キャプチャされたイベントは、キャプチャされた属性値とタイムスタンプを含むタイムライン内のエントリを生成します。タイムスタンプは、イベントの時間または他の属性によって提供される日付/時間にすることができます。タイムスタンプはUnix/Epoch形式で記録されます。</p>\n<h3 id=\"サイズ制限\">サイズ制限</h3>\n<p>タイムライン属性は最大100エントリに制限されています。タイムラインがこの制限に達すると、最初のエントリが破棄されます（先入れ先出し）。例えば、タイムラインに100エントリが含まれていて、新しいエントリが追加された場合、最初のエントリが削除されます。</p>\n<p>タイムライン属性はまた、暗号化と圧縮後のプロファイルの最大サイズ（400 KB）によって制限されます。</p>\n<h2 id=\"属性データのキャプチャ\">属性データのキャプチャ</h2>\n<p>イベントのタイムスタンプに加えて、イベントが発生したときの1つ以上の属性の値もキャプチャすることができます。キャプチャされた属性値は、イベントが発生したときの詳細情報を提供します。数値と集計のみがキャプチャに有用な属性タイプであり、これらの属性タイプのみがエンリッチメントを使用して集計することができます。</p>\n<p>例えば、各購入の注文合計を追跡するためには、購入タイムラインで属性<code>order_total</code>をキャプチャします。</p>\n<p class=\"tip\"><i class=\"fa fa-info-circle\"></i>タイムラインを<a href=\"/ja/server-side/trace/about/\">Trace</a>で最新の訪問プロファイルを表示して確認します。</p>\n<h2 id=\"エントリの有効期限\">エントリの有効期限</h2>\n<p>タイムライン内のエントリは、構成された日数後に有効期限が切れるように構成することができます。この有効期限は、タイムライン内のエントリにのみ適用され、タイムライン属性自体には適用されません。有効期限は、各訪問の開始時に評価されます。エントリが有効期限より古い場合、タイムラインから削除されます。</p>\n<p>タイムラインは数値と相性が良いです。なぜなら、数値のエントリはタイムラインのエントリに基づいてローリング合計やローリング平均値を作成するのに容易に使用できるからです。</p>\n<h2 id=\"スコープ\">スコープ</h2>\n<p>タイムライン属性は、訪問と訪問のスコープで利用可能です。</p>\n<table>\n<thead>\n<tr>\n<th><strong>イベント</strong></th>\n<th><strong>訪問</strong></th>\n<th><strong>訪問</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>✗</td>\n<td>✓</td>\n<td>✓</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"ベストプラクティス\">ベストプラクティス</h2>\n<p>タイムラインは100エントリに制限されています。他の属性と同様に、<a href=\"/ja/server-side/attributes/about/#storage-capacity-limits\">400KB圧縮</a>の最大訪問プロファイルサイズに寄与します。</p>\n<p>タイムライン属性を効率的に使用するために、以下を推奨します：</p>\n<ul>\n<li>\n<p>必要以上にタイムラインに情報を保存しないでください。タイムラインエントリの有効期限を構成します。</p>\n</li>\n<li>\n<p>特別な使用ケースがない限り、タイムラインに他の属性を保存しないでください。例えば、AudienceStoreや他のコネクタにタイムラインエントリを送信するなどのケースです。タイムラインにはほとんどの属性タイプを保存できますが、数値と集計のみがタイムラインから他のAudienceStream属性にエンリッチできます。例えば、タイムラインのエントリから数値の合計を取得したり、タイムラインのエントリから集計を集計したりすることができます。他の属性タイプを保存することもできますが、保存した値を集計するエンリッチメントはありません。<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>タイムラインエントリに他の属性を保存すると、訪問プロファイルのサイズが増えます。</p></p>\n</li>\n<li>\n<p>戦略的に使用することで、タイムライン内のエントリ数とタイムラインの総数を最小限に抑えることができます。</p>\n<ul>\n<li>タイムライン属性を使用してイベントを効率的にカウントするには、ターゲットイベントが発生したときに訪問数を増やし、訪問の終了時に訪問数をタイムラインに保存します。</li>\n<li>訪問の開始時に全体のカウントを取得するには、合計エンリッチメントを使用してタイムライン属性内の訪問を加算し、それらを数値属性に保存します。これにより、訪問中にこの数値を増やすことで、完全に最新の状態を保つことができます。</li>\n<li>同じ期間に複数の数値を保存する場合は、すべてを1つのタイムラインに保存します。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"エンリッチメント\">エンリッチメント</h2>\n<h3 id=\"タイムラインの更新\">タイムラインの更新</h3>\n<p>このエンリッチメントを使用して、タイムラインにエントリを記録します。このエンリッチメントを追加するには、<strong>エントリを作成</strong>をクリックし、<strong>タイムラインを更新</strong>を選択します。</p>\n<p>エントリのタイムスタンプを記録するための以下のオプションから一つを選択します：</p>\n<ul>\n<li><strong>イベント受信時の時間（デフォルト）</strong><br>\nエントリのタイムスタンプは、イベントが発生したときに自動的に構成されます。</li>\n<li><strong>日付に基づく</strong><br>\nエントリのタイムスタンプは、別の属性の値に構成されます。文字列属性を選択した場合、<a href=\"/ja/server-side/attributes/data-types/date/\">日付フォーマッター</a>を使用して、期待される値に一致する日付/時間パターンを作成する必要があります。</li>\n</ul>\n<p>エントリに属性値をキャプチャするには、ドロップダウンリストから属性を選択し、<strong>属性を追加</strong>をクリックします。追加された属性はキャプチャされた属性として表示されます。エントリにキャプチャする各属性について、この手順を繰り返します。</p>\n<h4 id=\"例\">例</h4>\n<p><strong>属性名</strong>: 過去60日間の注文<br>\n<strong>キャプチャされた属性:</strong> <code>order_subtotal</code> と <code>order_total</code></p>\n<p><strong>例のJSONデータ</strong>:</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-json\" data-lang=\"json\"><span style=\"display:flex;\"><span><span style=\"color:#e6db74\">&#34;過去60日間の注文&#34;</span> <span style=\"color:#960050;background-color:#1e0010\">:</span> [\n</span></span><span style=\"display:flex;\"><span>  {\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#f92672\">&#34;timestamp&#34;</span> : <span style=\"color:#ae81ff\">1576862494000</span>,\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#f92672\">&#34;snapshot&#34;</span> : {\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;order_total&#34;</span> : <span style=\"color:#ae81ff\">44.00</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;order_subtotal&#34;</span> : <span style=\"color:#ae81ff\">38.00</span>\n</span></span><span style=\"display:flex;\"><span>    }\n</span></span><span style=\"display:flex;\"><span>  },\n</span></span><span style=\"display:flex;\"><span>  {\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#f92672\">&#34;timestamp&#34;</span> : <span style=\"color:#ae81ff\">1577640094000</span>,\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#f92672\">&#34;snapshot&#34;</span> : {\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;order_total&#34;</span> : <span style=\"color:#ae81ff\">100.00</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;order_subtotal&#34;</span> : <span style=\"color:#ae81ff\">95.00</span>\n</span></span><span style=\"display:flex;\"><span>    }\n</span></span><span style=\"display:flex;\"><span>  },\n</span></span><span style=\"display:flex;\"><span>  {\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#f92672\">&#34;timestamp&#34;</span> : <span style=\"color:#ae81ff\">1578849694000</span>,\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#f92672\">&#34;snapshot&#34;</span>: {\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;order_total&#34;</span> : <span style=\"color:#ae81ff\">60.00</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;order_subtotal&#34;</span> : <span style=\"color:#ae81ff\">59.00</span>\n</span></span><span style=\"display:flex;\"><span>    }\n</span></span><span style=\"display:flex;\"><span>  }\n</span></span><span style=\"display:flex;\"><span>]\n</span></span></code></pre></div><h3 id=\"タイムラインイベントの有効期限構成\">タイムラインイベントの有効期限構成</h3>\n<p>このエンリッチメントを使用して、エントリがタイムラインから削除されるべき日数を決定します。記録されてからの日数が有効期限構成よりも古い各エントリは、自動的にタイムラインから削除されます。タイムラインエントリの有効期限は、訪問の開始時に評価されます。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>有効期限はタイムライン自体には適用されず、その中のエントリにのみ適用されます。</p>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/tally/",
            "title": "テリー属性",
            "body": "<h2 id=\"仕組み\">仕組み</h2>\n<p>テリー属性は、多くのイベントで名前付きアイテムの発生回数をカウントするキーと値のペアのコレクションを保存します。</p>\n<p>例えば、訪問が購入する商品カテゴリを追跡するためには、&ldquo;Product Category Purchases&quot;という名前のテリーを使用し、購入イベントが発生したときにイベント属性<code>product_category</code>で見つかった商品カテゴリの名前でそれを豊かにします。時間とともに、テリーは訪問の購入習慣についての貴重な情報を提供します。</p>\n<table>\n<thead>\n<tr>\n<th>テリーのキー</th>\n<th>テリーの値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>&ldquo;Shoes&rdquo;</td>\n<td>1</td>\n</tr>\n<tr>\n<td>&ldquo;Pants&rdquo;</td>\n<td>3</td>\n</tr>\n<tr>\n<td>&ldquo;Shirts&rdquo;</td>\n<td>7</td>\n</tr>\n<tr>\n<td>&ldquo;Shorts&rdquo;</td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>キーは発生したアイテムの名前を表します。例えば、<code>product_category</code>属性の値 &ldquo;Shoes&rdquo;。</li>\n<li>値はそれが発生した回数を表します。</li>\n</ul>\n<h3 id=\"サイズ制限\">サイズ制限</h3>\n<p>テリーは30,000のキーと値のペアに制限されています。テリー属性はまた、暗号化と圧縮後のプロファイルの最大サイズ（400 KB）によって制限されます。</p>\n<h3 id=\"スコープ\">スコープ</h3>\n<p>テリー属性は次のスコープで利用可能です：訪問、訪問。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/screenshot-2019-11-11-at-1.26.28-pm.png\"><img src=\"https://docs.tealium.com/images/server-side/screenshot-2019-11-11-at-1.26.28-pm.png\"/>\n    </a>\n</figure>\n<h3 id=\"テリーのお気に入り\">テリーのお気に入り</h3>\n<p>デフォルトでは、各テリー属性は最も値が高いテリーエントリの名前を自動的にキャプチャする対応する文字列属性を生成します。この文字列属性はテリーと同じ名前を持ちますが、&quot;(favorite)&ldquo;という単語が追加されます。例えば、&ldquo;Product Categories Purchased&quot;という名前のテリーは、&ldquo;Product Categories Purchased (Favorite)&ldquo;という名前の文字列属性も持ちます。</p>\n<h3 id=\"テリーの引き分けのロジック\">テリーの引き分けのロジック</h3>\n<p>テリーの引き分けは、複数のキーが同じ値を持つときに発生します。これが起こると、お気に入りは以下のロジックに基づいて選ばれます：</p>\n<ul>\n<li>引き分けが発生した場合、最も最近増加したキーがお気に入りになります。</li>\n<li>複数のキーが値の配列を使用して同時に増加した場合、最後に処理されたエントリがお気に入りになります。</li>\n<li>複数のキーが増加した順序が不明確な場合、お気に入りはアルファベット順のソートを使用して選ばれます。</li>\n</ul>\n<h3 id=\"例\">例</h3>\n<p>以下のイベントは、可能なテリーの引き分けのシナリオと各シナリオで選ばれたお気に入りを説明しています。</p>\n<p><strong>イベント1</strong></p>\n<p>この<code>page_category</code>イベントでは、<code>Apparel</code>というキーが1つしかないので、それがお気に入りになります。</p>\n<pre tabindex=\"0\"><code>// 受け取ったイベント\n&#34;page_category&#34;: { [&#34;Apparel&#34;] }\n\n// 結果\n&#34;page_category&#34;:{\n    &#34;Apparel&#34;: 1\n},\n&#34;page_category_favorite&#34;: &#34;Apparel&#34;\n</code></pre><p><strong>イベント2</strong></p>\n<p>このイベントでは、<code>Apparel</code>と<code>Accessories</code>の2つのキーが受け取られ、3つの引き分けが発生します。<code>Accessories</code>は最後に処理されたエントリなので、それがお気に入りになります。</p>\n<pre tabindex=\"0\"><code>// 受け取ったイベント\n&#34;page_category&#34;: { [&#34;Apparel&#34;, &#34;Accessories&#34;] }\n\n// 結果\n&#34;page_category&#34;: {\n    &#34;Books&#34;: 1,\n    &#34;Apparel&#34;: 1,\n    &#34;Accessories&#34;: 1\n},\n&#34;page_category&#34;: &#34;Accessories&#34;\n</code></pre><p><strong>イベント3</strong></p>\n<p>このイベントでは、<code>Apparel</code>というキーが1つ受け取られ、それが最も値が高いキーになるため、それがお気に入りになります。</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-js\" data-lang=\"js\"><span style=\"display:flex;\"><span><span style=\"color:#75715e\">// 受け取ったイベント\n</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\"></span><span style=\"color:#e6db74\">&#34;page_category&#34;</span><span style=\"color:#f92672\">:</span> { [<span style=\"color:#e6db74\">&#34;Apparel&#34;</span>] }\n</span></span><span style=\"display:flex;\"><span>\n</span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\">// 結果\n</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\"></span><span style=\"color:#e6db74\">&#34;page_category&#34;</span><span style=\"color:#f92672\">:</span> {\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#e6db74\">&#34;Accessories&#34;</span><span style=\"color:#f92672\">:</span> <span style=\"color:#ae81ff\">1</span>,\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#e6db74\">&#34;Apparel&#34;</span><span style=\"color:#f92672\">:</span> <span style=\"color:#ae81ff\">2</span>,\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#e6db74\">&#34;Books&#34;</span><span style=\"color:#f92672\">:</span> <span style=\"color:#ae81ff\">1</span>\n</span></span><span style=\"display:flex;\"><span>},\n</span></span><span style=\"display:flex;\"><span><span style=\"color:#e6db74\">&#34;page_category_favorite&#34;</span><span style=\"color:#f92672\">:</span> <span style=\"color:#e6db74\">&#34;Apparel&#34;</span>\n</span></span></code></pre></div><h2 id=\"例-1\">例</h2>\n<p>以下の表は、各商品カテゴリが購入された回数をカウントする&quot;Product Category Purchased&quot;という名前のテリーの例を示しています。このテリーは、最も値が高いエントリの名前を自動的に文字列属性に格納します。</p>\n<p><strong>テリー属性: &ldquo;Product Category Purchased&rdquo;</strong></p>\n<table>\n<thead>\n<tr>\n<th>テリーのキー</th>\n<th>テリーの値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>&ldquo;Shoes&rdquo;</td>\n<td>1</td>\n</tr>\n<tr>\n<td>&ldquo;Pants&rdquo;</td>\n<td>3</td>\n</tr>\n<tr>\n<td>&ldquo;Shirts&rdquo;</td>\n<td>7</td>\n</tr>\n<tr>\n<td>&ldquo;Shorts&rdquo;</td>\n<td>2</td>\n</tr>\n<tr>\n<td><strong>文字列属性: &ldquo;Product Category Purchased (Favorite)&rdquo;</strong></td>\n<td><strong>&ldquo;Shirts&rdquo;</strong></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"豊かさ\">豊かさ</h2>\n<h3 id=\"テリーの増加\">テリーの増加</h3>\n<p>他の属性の値に基づいてテリー内の数値を増やします。例えば、各商品カテゴリが表示される回数を追跡するためには、Product Category Viewedという名前のテリーを使用し、それを<code>product_category</code>属性で豊かにします。<code>product_category</code>の値はテリーのエントリになります。</p>\n<p>数値属性は、訪問、ページビュー、イベントなどのブラウジングメトリクスの数値を保存します。一般的な例としては、Lifetime Value、Order Total Transaction、またはDays Since Last Purchaseなどがあります。</p>\n<p>数値タイプを指定するには、<strong>Type</strong>ドロップダウンリストから<strong>Decimal</strong>または<strong>Integer</strong>を選択します。</p>\n<ul>\n<li><strong>Decimal</strong>\n<ul>\n<li>デフォルトの値。</li>\n<li>小数値はゼロ（0）以上の小数桁を持つことができます。</li>\n<li>例：<code>12</code>、<code>12.0</code>、<code>12.345</code></li>\n<li>金額を表す属性に必要です。</li>\n</ul>\n</li>\n<li><strong>Integer</strong>\n<ul>\n<li>全部で整数値が保存されます。</li>\n<li>例：<code>12</code>、<code>-4</code>、<code>3214</code></li>\n<li>数量、カウンター、スコアを表す整数属性に便利です。</li>\n</ul>\n</li>\n</ul>\n<p><strong>属性名</strong>: &ldquo;Product Category Viewed&rdquo;</p>\n<ul>\n<li><strong>開始値</strong>: <code>{&quot;Shoes&quot;: 7, &quot;Pants&quot;: 1, &quot;Shirts&quot;: 3}</code></li>\n<li><strong>豊かさ</strong>: <code>product_category:&quot;Shoes&quot;</code></li>\n<li><strong>結果の値</strong>: <code>{&quot;Shoes&quot;: 8, &quot;Pants&quot;: 1, &quot;Shirts&quot;: 3}</code></li>\n</ul>\n<h3 id=\"テリー値の増加\">テリー値の増加</h3>\n<p>カスタム名に基づいてテリーエントリを増やし、カスタム値または他の属性値を使用します。例えば、&ldquo;Product Category Searched&quot;という名前のテリーを使用し、検索が行われていないとき（検索の追跡を行うブール属性に基づく条件が可能性としてあります）に&quot;Did Not Search&quot;というハードコーディングされた値でそれを豊かにします。&ldquo;Did Not Search&quot;という名前は<code>product_category</code>属性に自然には発生しないので、この豊かさはカスタムエントリを追加するために使用されます。</p>\n<p><strong>属性名</strong>: &ldquo;Product Category Searched&rdquo;</p>\n<ul>\n<li><strong>開始値</strong>: <code>{&quot;Shoes&quot;: 7, &quot;Pants&quot;: 1, &quot;Shirts&quot;: 3}</code></li>\n<li><strong>豊かさ</strong>: カスタムキー: <code>&quot;Did Not Search&quot;</code><br> カスタム増加: <code>1</code></li>\n<li><strong>結果の値</strong>: <code>{&quot;Did Not Search&quot;: 1, &quot;Shoes&quot;: 7, &quot;Pants&quot;: 1, &quot;Shirts&quot;: 3}</code></li>\n</ul>\n<h3 id=\"テリーによるテリーの増加\">テリーによるテリーの増加</h3>\n<p>他のテリーで見つかった値によってテリーの値を増やします。</p>\n<p><strong>属性名</strong>: &ldquo;Product Category Purchased (Lifetime)&rdquo;</p>\n<ul>\n<li><strong>開始値</strong>: <code>{&quot;Shoes&quot;: 7, &quot;Pants&quot;: 1, &quot;Shirts&quot;: 3}</code></li>\n<li><strong>豊かさ</strong>: <code>{&quot;Shoes&quot;: 1, &quot;Shirts&quot;: 2, &quot;Dresses&quot;: 1}</code></li>\n<li><strong>結果の値</strong>: <code>{&quot;Shoes&quot;: 8, &quot;Pants&quot;: 1, &quot;Shirts&quot;: 5, &quot;Dresses&quot;: 1}</code></li>\n</ul>\n<h3 id=\"文字列のセットによるテリーの増加\">文字列のセットによるテリーの増加</h3>\n<p>文字列のセットのエントリに基づいてテリーのエントリを増やします。例えば、訪問ごとに検索された商品カテゴリを追跡するために&quot;Product Category Searched (Lifetime)&ldquo;という名前のテリーを使用し、各訪問の終わりに&quot;Product Categories Searched (Visit)&ldquo;という名前の文字列のセットでそれを豊かにします。</p>\n<p><strong>属性名</strong>: &ldquo;Product Category Searched (Lifetime)&rdquo;</p>\n<ul>\n<li><strong>開始値</strong>: <code>{&quot;Shoes&quot;: 7, &quot;Pants&quot;: 1, &quot;Shirts&quot;: 3}</code></li>\n<li><strong>豊かさ</strong>: Product Categories Search (Visit):<code>{&quot;Shoes&quot;, &quot;Pants&quot;, &quot;Hats&quot;}</code></li>\n<li><strong>結果の値</strong>: <code>[&quot;Shoes&quot;: 8, &quot;Pants&quot;: 2, &quot;Shirts&quot;: 3, &quot;Hats&quot;: 1}</code></li>\n</ul>\n<h3 id=\"タイムラインに基づいたローリング平均の構成\">タイムラインに基づいたローリング平均の構成</h3>\n<p>ローリング平均は、時間をかけてキャプチャされた数値の算術平均です。これらの値は、すべて<a href=\"/ja/server-side/attributes/data-types/number/\">Timeline</a>のエントリとして収集される<a href=\"/ja/server-side/attributes/data-types/number/\">number</a>と<a href=\"/ja/server-side/attributes/data-types/number/\">tally</a>属性から来ます。タイムラインの有効期限が最終平均に組み入れることができるエントリを決定します。有効期限がない場合、それは単純な平均解です。</p>\n<p><strong>属性名</strong>: &ldquo;Average Product Category Purchase Amounts&rdquo;</p>\n<ul>\n<li><strong>開始値</strong>: <code>{}</code></li>\n<li><strong>豊かさ</strong>:  Timeline entry: <code>{&quot;Shoes&quot;: 150.00, &quot;Pants&quot;: 75.00, &quot;Shirts&quot;: 30.00}</code><br> Timeline entry: <code>{&quot;Pants&quot;: 75.00, &quot;Shirts&quot;: 42.00}</code><br> Timeline entry: <code>{&quot;Shoes&quot;: 110.00, &quot;Shirts&quot;: 18.00 &quot;Hats&quot;: 25.00}</code></li>\n<li><strong>結果の値</strong>: <code>{&quot;Shoes&quot;: 130.00, &quot;Pants&quot;: 75.00, &quot;Shirts&quot;: 30.00, &quot;Hats&quot;: 25.00}</code></li>\n</ul>\n<h3 id=\"タイムラインに基づいたローリング合計の構成\">タイムラインに基づいたローリング合計の構成</h3>\n<p>ローリング合計は、<a href=\"/ja/server-side/attributes/data-types/timeline/\">timeline</a>のエントリとしてキャプチャされた数値または<a href=\"/ja/server-side/attributes/data-types/tally/\">tally</a>属性の数値の集計です。タイムラインの有効期限が集計中にどのエントリを考慮に入れることができるかを決定します。</p>\n<p><strong>属性名</strong>: &ldquo;Sum Product Category Purchase Amounts&rdquo;</p>\n<ul>\n<li><strong>開始値</strong>: <code>{}</code></li>\n<li><strong>エンリッチする</strong>:  タイムラインエントリー: <code>{&quot;Shoes&quot;: 150.00, &quot;Pants&quot;: 75.00, &quot;Shirts&quot;: 30.00}</code><br> タイムラインエントリー: <code>{&quot;Pants&quot;: 75.00, &quot;Shirts&quot;: 42.00}</code><br> タイムラインエントリー: <code>{&quot;Shoes&quot;: 110.00, &quot;Shirts&quot;: 18.00 &quot;Hats&quot;: 25.00}</code></li>\n<li><strong>結果の値</strong>: <code>{&quot;Shoes&quot;: 260.00, &quot;Pants&quot;: 150.00, &quot;Shirts&quot;: 90.00, &quot;Hats&quot;: 25.00}</code></li>\n</ul>\n<h3 id=\"対応する配列による集計構成\">対応する配列による集計構成</h3>\n<p>2つの対応する配列で定義された値に集計を構成します。例えば、購入イベントが発生したときに<code>product_category</code>と<code>product_quantity</code>の2つの配列でそれを豊かにし、&ldquo;Product Category Quantity Purchased&quot;という名前の集計を使用して購入された製品の数量をキャプチャします。</p>\n<p><strong>属性名</strong>: &ldquo;Product Category Quantity Purchased&rdquo;</p>\n<ul>\n<li><strong>開始値</strong>: <code>{}</code></li>\n<li><strong>エンリッチする</strong>:  <code>product_category: [&quot;Shoes&quot;, &quot;Pants&quot;, &quot;Shirts&quot;]</code><br><code>product_quantity: [1, 1, 3]</code></li>\n<li><strong>結果の値</strong>: <code>{&quot;Shoes&quot;: 1, &quot;Pants&quot;: 1, &quot;Shirts&quot;: 3}</code></li>\n</ul>\n<h3 id=\"集計の削除\">集計の削除</h3>\n<p>一連の条件に基づいて集計を削除します。</p>\n<p>集計の削除機能は、集計をリセットするために使用できます。例えば、訪問の製品カテゴリー検索を追跡していた場合、注文が発生したらその集計をクリアすることができます。</p>\n<p><strong>属性名</strong>: reset tally to zero</p>\n<ul>\n<li><strong>開始値</strong>: <code>{&quot;Shoes&quot;: 1, &quot;Pants&quot;: 3}</code></li>\n<li><strong>エンリッチする</strong>: <code>Purchase event occurs</code></li>\n<li><strong>結果の値</strong>: <code>{}</code></li>\n</ul>\n<h3 id=\"集計のエントリーを削除\">集計のエントリーを削除</h3>\n<p>一連の条件に基づいて集計のエントリーを削除します。例えば、&ldquo;Product Category Searched&quot;という名前の集計を使用して訪問の製品検索（および潜在的な購入）を追跡し、この豊かさを使用して購入のアイテムと一致する集計エントリーを削除します。</p>\n<p><strong>属性名</strong>: &ldquo;Product Category Searched (Not Purchased)&rdquo;</p>\n<ul>\n<li><strong>開始値</strong>: <code>{&quot;Shoes&quot;: 7, &quot;Pants&quot;: 1, &quot;Shirts&quot;: 3, &quot;Jeans&quot;: 10}</code></li>\n<li><strong>エンリッチする</strong>: <code>product_catgory : &quot;Shoes&quot;</code></li>\n<li><strong>結果の値</strong>: <code>{&quot;Pants&quot;: 1, &quot;Shirts&quot;: 3, &quot;Jeans&quot;: 10}</code></li>\n</ul>\n<h3 id=\"配列内の各アイテムに対して1を増分\">配列内の各アイテムに対して1を増分</h3>\n<p>配列内の各アイテムに対して1を増分します。例えば、購入イベントが発生したときに配列属性<code>product_category</code>でそれを豊かにし、&ldquo;Product Category Purchased&quot;という名前の集計を使用します。</p>\n<p><strong>属性名</strong>: &ldquo;Product Category Purchased&rdquo;</p>\n<ul>\n<li><strong>開始値</strong>: <code>{&quot;Shoes&quot;: 1, &quot;Pants&quot;: 1, &quot;Shirts&quot;: 3}</code></li>\n<li><strong>エンリッチする</strong>: <code>product_category : [&quot;Pants&quot;, &quot;Ties&quot;]</code></li>\n<li><strong>結果の値</strong>: <code>{&quot;Shoes&quot;: 1, &quot;Pants&quot;: 2, &quot;Shirts&quot;: 3, &quot;Ties&quot;: 1}</code></li>\n</ul>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/badge/",
            "title": "バッジ属性",
            "body": "<h2 id=\"仕組み\">仕組み</h2>\n<p>バッジは<a href=\"/ja/server-side/audiences/audience-discovery/about/\">オーディエンスの発見</a>のための構成要素です。行動は、その条件を記述する属性とルールを使用して定義されます。</p>\n<p>例えば、頻繁にあなたのサイトを閲覧するが購入しない訪問の行動に興味があるかもしれません。この場合、以下の行動がこのタイプの訪問を特徴づけるかもしれません：</p>\n<ul>\n<li><strong>訪問済み</strong>：過去7日間に3回サイトを訪問した。</li>\n<li><strong>興味を示した</strong>：製品の詳細ページを閲覧したり、記事を読んだりした。</li>\n<li><strong>コンバートしなかった</strong>：購入したり、サービスにサインアップしたりしていない。</li>\n</ul>\n<p>この行動パターンは、その行動に一致する訪問を識別するためのバッジ属性として&quot;Window Shopper&quot;と名付けて構成することができます。</p>\n<p>バッジ属性は次の範囲で利用可能です：訪問。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/screenshot-2019-11-11-at-1.27.27-pm.png\"><img src=\"https://docs.tealium.com/images/server-side/screenshot-2019-11-11-at-1.27.27-pm.png\"\n         alt=\"Screenshot 2019-11-11 at 1.27.27 PM.png\"\n         title=\"Screenshot 2019-11-11 at 1.27.27 PM.png\"/>\n    </a>\n</figure>\n<h3 id=\"サイズ制限\">サイズ制限</h3>\n<p>各バッジのサイズには制限はありませんが、これらの属性は暗号化と圧縮後のプロファイルの最大サイズ（400 KB）によって制限されます。</p>\n<h3 id=\"バッジの関連付け\">バッジの関連付け</h3>\n<p>バッジの関連付けは、訪問が獲得した他のバッジに基づいて複数のバッジを素早く割り当てることができます。通常、特定の閲覧行動や基準に基づいてバッジの割り当てをトリガーしますが、バッジの関連付けを使用すると、訪問が資格を持つバッジを獲得した後に複数のバッジの割り当てをトリガーすることができます。</p>\n<p><a href=\"#badge-associations\">バッジの関連付けの構成</a>について詳しく学びましょう。</p>\n<h2 id=\"エンリッチメント\">エンリッチメント</h2>\n<p>バッジは、そのルールのロジックに基づいて訪問に割り当てられ、削除されます。新しい訪問にはデフォルトのバッジである<strong>Unbadged</strong>が割り当てられます。このバッジは、訪問がカスタムバッジを獲得した後に自動的に削除されます。バッジは以下のエンリッチメントを使用して割り当て（および削除）されます。</p>\n<h3 id=\"バッジの割り当て\">バッジの割り当て</h3>\n<p>条件が満たされたときに訪問にバッジを割り当てます。すべての訪問は最初はバッジを持っていません。例えば、<strong>Window Shopper</strong>バッジを割り当てるためには、訪問がサイトから購入せずに離れたかどうかを判断する必要があります。</p>\n<p><strong>属性名</strong>：&ldquo;Window Shopper&rdquo;</p>\n<ul>\n<li><strong>開始値</strong>：<code>&quot;Unbadged&quot;</code></li>\n<li><strong>結果値</strong>：<code>&quot;Window Shopper&quot;</code></li>\n</ul>\n<h3 id=\"バッジの削除\">バッジの削除</h3>\n<p>訪問が条件を満たさなくなったときに割り当てられたバッジを削除します。例えば、訪問が購入した後に<strong>Window Shopper</strong>バッジが削除されます。</p>\n<p><strong>属性名</strong>：&ldquo;Window Shopper&rdquo;</p>\n<ul>\n<li><strong>開始値</strong>：<code>&quot;Window Shopper&quot;</code></li>\n<li><strong>結果値</strong>：<code>&quot;Unbadged&quot;</code></li>\n</ul>\n<h3 id=\"別のバッジからバッジを割り当てる\">別のバッジからバッジを割り当てる</h3>\n<p>別のバッジに基づいてバッジを割り当てます。例えば、訪問がカートを放棄した後に<strong>Window Shopper</strong>バッジが<strong>Cart Abandoner</strong>バッジに置き換えられます。もちろん、訪問は複数のバッジを持つことができるので、訪問は<strong>Window Shopper</strong>であり、<strong>Cart Abandoner</strong>であることができます。</p>\n<p><strong>属性名</strong>：&ldquo;Cart Abandoner&rdquo;</p>\n<ul>\n<li><strong>開始値</strong>：<code>&quot;Window Shopper&quot;</code></li>\n<li><strong>結果値</strong>：<code>&quot;Cart Abandoner&quot;</code></li>\n</ul>\n<h2 id=\"人気のバッジ\">人気のバッジ</h2>\n<p>以下の表は、いくつかの人気のあるバッジをリストしています。人気のあるバッジの完全なリストについては、<a href=\"/ja/server-side/attributes/data-types/popular-badges/\">人気のバッジ</a>を参照してください。</p>\n<table>\n<thead>\n<tr>\n<th>バッジ名</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Known Visitor</td>\n<td><ul><li>訪問の重要な識別子をキャプチャしたときに割り当てられます</li><li>例：顧客ID（クライアントのID）、顧客のメールアドレス、Facebook ID</li><li>可能なアクション：なし、ただしオーディエンス内で使用して訪問が選択したベンダーAPIでターゲット可能であることを確認します</li><li>これらの訪問は、より一般的にはメールやソーシャルメディアを通じてターゲットにされます</li></ul></td>\n</tr>\n<tr>\n<td>Unknown Visitor</td>\n<td><ul><li>訪問がまだウェブサイトで認証していないときに割り当てられます</li><li>認証は必ずしもログインしたことを意味するわけではありません。訪問がメールからサイトに来て、URLにメールが含まれている場合、訪問が誰であるかを判断し、彼らが&quot;認証&quot;したと判断します</li><li>可能なアクション：訪問に自分自身を特定するように促すモーダルを表示します</li><li>これらの訪問は、より一般的にはディスプレイ広告を通じてターゲットにされます</li></ul></td>\n</tr>\n<tr>\n<td>Window Shopper</td>\n<td><ul><li>サイトを頻繁に訪れるが購入しない訪問</li><li>例：過去7日間に3回サイトを訪れ、製品の詳細ページを閲覧したり記事を読んだりし、購入したりサービスにサインアップしたりしていない訪問</li><li>可能なアクション：カテゴリーへの親和性を判断し、次回のセッションのランディングページを変更して体験をパーソナライズします</li></ul></td>\n</tr>\n<tr>\n<td>Purchaser</td>\n<td><ul><li>コンバートした訪問</li><li>例：製品を購入したり、サービスにサインアップしたりした訪問</li><li>可能なアクション：2週間後に再購入を促すオファーを含むメールを送信する、または購入したアイテムに関連するアイテムを示すメールを送信する。例えば、訪問が野球のバットを買った場合、野球のバッグとバッティンググローブを提供します</li><li>可能なアクション：訪問をリターゲティングキャンペーンから削除して、不必要にリマーケティングされないようにします</li></ul></td>\n</tr>\n<tr>\n<td>Browse Abandoner</td>\n<td><ul><li>製品を閲覧し、カートにアイテムを追加しなかった訪問。</li><li>可能なアクション：Known Visitorであり、Facebook IDが分かっている場合、データをFacebookに送信してブランドを訪問に再ターゲティングします。</li></ul></td>\n</tr>\n<tr>\n<td>Cart Abandoner</td>\n<td><ul><li>アイテムをカートに追加し、購入しなかった訪問。</li><li>可能なアクション：メールアドレスが分かっている場合、放棄されたアイテムを含むパーソナライズされたメールを送信します。</li></ul></td>\n</tr>\n<tr>\n<td>Search Abandoner</td>\n<td><ul><li>検索エンジンからサイトにアクセスし、資格を持つ行動を完了していない訪問。例えば、訪問中に3ページを閲覧するなど。</li></ul></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"バッジの関連付け-1\">バッジの関連付け</h2>\n<h3 id=\"エンリッチメントの作成新規または既存のバッジ用\">エンリッチメントの作成（新規または既存のバッジ用）</h3>\n<ol>\n<li><strong>属性 &gt; 訪問 / 訪問属性</strong>に移動します。</li>\n<li>新しいバッジを追加するか、他のバッジを追加したいバッジの編集アイコンをクリックします。</li>\n<li><strong>エンリッチメントを追加</strong>をクリックし、<strong>別のバッジからバッジを割り当てる</strong>を選択します。<br>\n<figure><a class=\"slb\" href=\"/images/server-side/attributes/badge-enrichments.png\"><img src=\"https://docs.tealium.com/images/server-side/attributes/badge-enrichments.png\"\n         alt=\"badge enrichments.png\"\n         title=\"badge enrichments.png\"/>\n    </a>\n</figure></li>\n<li>ドロップダウンリストから割り当てたいバッジを選択します。\n<figure><a class=\"slb\" href=\"/images/server-side/attributes/select-a-badge-to-associate.png\"><img src=\"https://docs.tealium.com/images/server-side/attributes/select-a-badge-to-associate.png\"\n         alt=\"Select a badge to associate.png\"\n         title=\"Select a badge to associate.png\"/>\n    </a>\n</figure></li>\n<li>より多くのバッジを割り当てるためにステップ2 - 4を繰り返します。</li>\n<li><strong>完了</strong>をクリックします。</li>\n<li>完了したら、プロファイルを保存して変更を適用します。</li>\n</ol>\n<h3 id=\"バッジ関連付けウィザードの使用既存のバッジのみ\">バッジ関連付けウィザードの使用（既存のバッジのみ）</h3>\n<ol>\n<li>\n<p><strong>訪問 / 訪問属性</strong>テーブルで、割り当てたいバッジをクリックします。</p>\n</li>\n<li>\n<p>パネルの右上隅にあるバッジ関連付けアイコンをクリックします。<br>\n<figure><a class=\"slb\" href=\"/images/server-side/attributes/badge-association-icon.png\"><img src=\"https://docs.tealium.com/images/server-side/attributes/badge-association-icon.png\"\n         alt=\"badge association icon.png\"\n         title=\"badge association icon.png\"/>\n    </a>\n</figure></p>\n</li>\n<li>\n<p><code>+</code>アイコンをクリックし、割り当てたいバッジを選択します。</p>\n</li>\n</ol>\n<figure><a class=\"slb\" href=\"/images/server-side/attributes/badge-select.png\"><img src=\"https://docs.tealium.com/images/server-side/attributes/badge-select.png\"\n         alt=\"Select a badge\"\n         title=\"Select a badge\"/>\n    </a>\n</figure>\n<h3 id=\"バッジ関連付けウィザードの理解\">バッジ関連付けウィザードの理解</h3>\n<p>既存のバッジをクリックしてこのウィザードを表示します。現在割り当てられているバッジは常に中央の列にあり、両側に矢印があります。矢印は常に受け取りバッジの方向を指しています。現在のバッジと受け取りバッジに任意の数のバッジを割り当てることができますが、受け取りバッジをそのソースバッジに再割り当てすることはできません。以下の例をご覧ください。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/attributes/car-badge-example.png\"><img src=\"https://docs.tealium.com/images/server-side/attributes/car-badge-example.png\"\n         alt=\"Car badge example\"\n         title=\"Car badge example\"/>\n    </a>\n</figure>\n<p>中央の<strong>Car badge</strong>は現在、資格を持つ訪問に割り当てられています。他のバッジの割り当てがどのようにトリガーされるかは以下の通りです。</p>\n<ol>\n<li>資格を持つ訪問は<strong>Car badge</strong>を受け取ります。</li>\n<li><strong>Car badge</strong>の訪問は自動的に<strong>Fancy cars</strong>と<strong>Electric</strong>のバッジが割り当てられます。</li>\n<li><strong>Tesla</strong>バッジの訪問は自動的に<strong>Car badge</strong>、<strong>Fancy cars</strong>、<strong>Electric cars</strong>のバッジが割り当てられます。</li>\n<li><strong>楽しい車</strong>バッジの訪問は自動的に<strong>車バッジ</strong>、<strong>高級車</strong>、そして<strong>電気自動車</strong>のバッジが割り当てられます。</li>\n</ol>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/funnel/",
            "title": "ファネル属性",
            "body": "<p>ファネル属性は、次の範囲で利用可能です：訪問と訪問。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/screenshot-2019-11-11-at-1.26.28-pm.png\"><img src=\"https://docs.tealium.com/images/server-side/screenshot-2019-11-11-at-1.26.28-pm.png\"\n         alt=\"Screenshot 2019-11-11 at 1.26.28 PM.png\"\n         title=\"Screenshot 2019-11-11 at 1.26.28 PM.png\"/>\n    </a>\n</figure>\n<h2 id=\"仕組み\">仕組み</h2>\n<p>ファネル属性は一連のステップを追跡し、訪問の進行状況を開始から終了まで測定します。構成されたルールが発生したときにステップが記録されます。ステップが記録されると、ステップに関する情報のスナップショットとして属性値もキャプチャされます。ファネルのステップは必須またはオプションであることができますが、最後のステップは常に必須です。</p>\n<p>例えば、チェックアウトファネル、購入ファネル、リードジェネレーターファネルなどがあります。</p>\n<h3 id=\"サイズ制限\">サイズ制限</h3>\n<p>ファネル属性には保存容量の制限はありませんが、これらの属性は暗号化と圧縮後のプロファイルの最大サイズ（400 KB）によって制限されます。</p>\n<h3 id=\"必須ステップとオプションステップ\">必須ステップとオプションステップ</h3>\n<p>ファネルを構成するときには、期待される順序ですべてのステップ（必須とオプション）を定義します。</p>\n<h4 id=\"必須ステップ\">必須ステップ</h4>\n<p>必須とマークされたステップは、ファネル構成で定義された順序で発生すると記録されます。訪問が必須のステップを順序を無視して実行すると、それはファネルに記録されません。つまり、必須のステップは順序通りに発生したときだけ記録されます。</p>\n<p>3つの必須ステップを持つファネルの例：ステップ＃1、ステップ＃2、ステップ＃3：</p>\n<table>\n<thead>\n<tr>\n<th>訪問が実行したステップ</th>\n<th>ファネルに記録されたステップ</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ステップ＃1</td>\n<td>ステップ＃1</td>\n</tr>\n<tr>\n<td>ステップ＃3（順序を無視）</td>\n<td>ステップ＃1</td>\n</tr>\n<tr>\n<td>ステップ＃2</td>\n<td>ステップ＃1、ステップ＃2</td>\n</tr>\n<tr>\n<td>ステップ＃3</td>\n<td>ステップ＃1、ステップ＃2、ステップ＃3</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"オプションステップ\">オプションステップ</h4>\n<p>必須とマークされていないステップはオプションと見なされます。オプションのステップは、ファネルで定義された正確な順序で発生した場合にのみ記録されます。訪問はオプションのステップをスキップして、ファネルが次のステップの記録を続けることができます。ただし、オプションのステップがスキップされ、その後実行された場合、それはファネルに記録されず、バックフィルされません。つまり、オプションのステップが順序を無視して実行された場合、それはファネルに記録されません。</p>\n<p>1つのオプションステップを持つファネルの例：ステップ＃1、ステップ＃2（オプション）、ステップ＃3、ステップ＃4：</p>\n<table>\n<thead>\n<tr>\n<th>訪問が実行したステップ</th>\n<th>ファネルに記録されたステップ</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ステップ＃1</td>\n<td>ステップ＃1</td>\n</tr>\n<tr>\n<td>ステップ＃3（オプションのステップ＃2をスキップ）</td>\n<td>ステップ＃1、ステップ＃3</td>\n</tr>\n<tr>\n<td>ステップ＃2</td>\n<td>ステップ＃1、ステップ＃3（ステップ＃2はバックフィルされません）</td>\n</tr>\n<tr>\n<td>ステップ＃3</td>\n<td>ステップ＃1、ステップ＃3</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"属性データのキャプチャ\">属性データのキャプチャ</h3>\n<p>ファネルの各ステップを記録するだけでなく、ステップが発生したときに1つ以上の属性の値をキャプチャすることもできます。キャプチャされたデータは、ステップが発生したときの訪問の状態についての詳細情報を提供します。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>ファネル属性はAudienceStoreでアクセス可能ですが、AudienceDBやData Layer Enrichmentではアクセスできません。</p>\n<h2 id=\"エンリッチメント\">エンリッチメント</h2>\n<h3 id=\"ステップの作成\">ステップの作成</h3>\n<p>このエンリッチメントを使用して、ファネルにステップを作成します。ファネルのステップを追加すると、リストの最上部に表示されるステップがファネルの最初のステップで、最下部に表示されるステップが最後（必須）のステップです。新しいステップはリストの最上部に追加されます。</p>\n<p>ファネルステップを作成するには：</p>\n<ol>\n<li><strong>ステップを作成</strong>をクリックします。</li>\n<li>ステップのタイトルを入力します。</li>\n<li>（オプション）属性値をキャプチャするには、属性を選択し、<strong>属性を追加</strong>をクリックします。</li>\n<li>オプションのステップの場合、<strong>必須</strong>のチェックボックスをクリアします。</li>\n<li>タイミングオプションとルールを選択します。</li>\n</ol>\n<p>これらのステップをファネルの各ステップで繰り返します。</p>\n<p>すべてのステップを入力したら、それらを適切な順序にドラッグします。</p>\n<h4 id=\"例\">例</h4>\n<p>基本的な購入ファネル：製品ページからカートページ、チェックアウトページを経て購入ページへのパス。</p>\n<p><strong>ステップ1：製品を表示</strong>\nキャプチャデータ：<code>product_name</code><br>\nルール：<code>tealium_event equals &quot;product_view&quot;</code></p>\n<p><strong>ステップ2：カートを表示</strong><br>\nキャプチャデータ：なし<br>\nルール：<code>tealium_event equals &quot;cart_view&quot;</code></p>\n<p><strong>ステップ3：チェックアウト</strong><br>\nキャプチャデータ：なし<br>\nルール：<code>tealium_event equals &quot;checkout&quot;</code></p>\n<p><strong>ステップ4：購入完了</strong><br>\nキャプチャデータ：<code>order_id</code>と<code>order_total</code><br>\nルール：<code>tealium_event equals &quot;purchase&quot;</code></p>\n<h2 id=\"使用例\">使用例</h2>\n<h3 id=\"無料試用登録ファネル\">無料試用登録ファネル</h3>\n<p>あなたが訪問に製品を購入する前に無料で試すことを許可しているとしましょう。ただし、試用製品は、簡単な3ステップの登録プロセスを完了した訪問にのみ提供されます。あなたはファネルのすべてのステップを定義し、訪問がそれらを完了しなければならない順序で配置します。これには2つの方法があります：</p>\n<ul>\n<li>逆の時間順序で追加します。</li>\n<li>ランダムな順序で追加し、それぞれのステップを適切な位置にドラッグします。</li>\n</ul>\n<p>この例では、逆の時間順序の方法を使用します。各ステップを「必須」とマークすることを忘れないでください。これにより、誰が正常に登録したか、誰が終了前にドロップオフしたかを知ることができます。</p>\n<ol>\n<li>ファネル属性を追加します。タイトルを付けてスコープを構成します。</li>\n</ol>\n<pre tabindex=\"0\"><code>ファネルタイトル：無料試用登録\nファネルスコープ：訪問\n</code></pre><ol start=\"2\">\n<li>「ありがとう」ページに訪問を連れてくる登録の最終ステップを作成します。この時点で唯一のステップであるため、自動的に必須に構成されます。ここでは属性データはキャプチャされません。</li>\n</ol>\n<pre tabindex=\"0\"><code>タイトル：ステップ3-試用完了\nWHEN：ANY EVENT\nルール：無料試用 - ありがとう\n  現在のURLに含まれる（大文字小文字を無視） &#34;freetrialthanks.html&#34;\n</code></pre><ol start=\"3\">\n<li>訪問に「登録」ボタンをクリックすることを要求する中間ステップを作成します。このステップは「必須」ですが、ここでは属性データはキャプチャされません。</li>\n</ol>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>このステップの前に、jQueryリスナーでボタンを追跡し、訪問がクリックしたときにカテゴリとアクションデータをキャプチャする必要があります。Tealium iQでは、<a href=\"/ja/iq-tag-management/data-layer/data-layer-variables/\">2つのUDO変数</a>、<code>ga_category</code>と<code>ga_action</code>を追加し、<a href=\"/ja/iq-tag-management/extensions/extensions-list/jquery-onhandler-extension/\">jQuery Extension</a>を構成します。その後、データソースがルール条件に利用可能になります。</p>\n<pre tabindex=\"0\"><code>タイトル：ステップ2-試用開始\nWHEN：ANY EVENT\nルール：\n  ga_category contains (ignore case) &#34;free trial&#34;\n  AND\n  ga_action contains &#34;engaged&#34;\n</code></pre><ol start=\"4\">\n<li>訪問を無料試用登録ページに連れてくる最初のステップを作成します。このステップは「必須」ですが、ここでは属性データはキャプチャされません。</li>\n</ol>\n<pre tabindex=\"0\"><code>タイトル：ステップ1- 試用開始\nWHEN：ANY EVENT\nルール：無料試用ランディング\n  現在のURLに含まれる（大文字小文字を無視）&#34;freetrial.html&#34;\n</code></pre><h4 id=\"結果\">結果</h4>\n<p>必須のステップが完了すると、訪問が登録を進めると同時にすぐにファネルアウトされます。このトラッキングとファネルアウトのパターンは、訪問が製品の登録に成功するまで続きます。一方、訪問がファネルの任意のステップを完了できなかった場合、登録は不完全と見なされます。</p>\n<h3 id=\"コンバージョンファネル\">コンバージョンファネル</h3>\n<p>ファネル属性名<code>Conversion Funnel</code>を作成します。次に、ファネルの各ステップに対して<strong>ステップを作成</strong>をクリックします。</p>\n<h4 id=\"ステップ1---製品を表示\">ステップ1 - 製品を表示</h4>\n<figure><a class=\"slb\" href=\"/images/server-side/funnel-3.png\"><img src=\"https://docs.tealium.com/images/server-side/funnel-3.png\"\n         alt=\"Funnel - Viewed a product\"\n         title=\"Funnel - Viewed a product\"/>\n    </a>\n</figure>\n<h4 id=\"ステップ2---カートページを表示\">ステップ2 - カートページを表示</h4>\n<figure><a class=\"slb\" href=\"/images/server-side/funnel-4.png\"><img src=\"https://docs.tealium.com/images/server-side/funnel-4.png\"\n         alt=\"Funnel - Viewed cart\"\n         title=\"Funnel - Viewed cart\"/>\n    </a>\n</figure>\n<h4 id=\"ステップ3---チェックアウトページを表示ユーザーがすでにログインしている場合はオプション\">ステップ3 - チェックアウトページを表示（ユーザーがすでにログインしている場合はオプション）</h4>\n<figure><a class=\"slb\" href=\"/images/server-side/funnel-5.png\"><img src=\"https://docs.tealium.com/images/server-side/funnel-5.png\"\n         alt=\"Funnel - Viewed checkout page\"\n         title=\"Funnel - Viewed checkout page\"/>\n    </a>\n</figure>\n<p>以下のステップはすべて必須で、ステップ2と同じです。</p>\n<h4 id=\"ステップ4---請求ページを表示\">ステップ4 - 請求ページを表示</h4>\n<pre tabindex=\"0\"><code>page_name EQUALS billing\n</code></pre><h4 id=\"ステップ5---配送ページを表示\">ステップ5 - 配送ページを表示</h4>\n<pre tabindex=\"0\"><code>page_name EQUALS shipping_method\n</code></pre><h4 id=\"ステップ6---支払いページを表示\">ステップ6 - 支払いページを表示</h4>\n<pre tabindex=\"0\"><code>page_name EQUALS payment\n</code></pre><h4 id=\"ステップ7---注文確認ページを表示\">ステップ7 - 注文確認ページを表示</h4>\n<pre tabindex=\"0\"><code>page_name EQUALS review\n AND\n page_type EQUALS checkout\n</code></pre><h4 id=\"ステップ8---注文成功ページを表示\">ステップ8 - 注文成功ページを表示</h4>\n<pre tabindex=\"0\"><code>page_name EQUALS cart success\n AND\n order_id IS ASSIGNED\n</code></pre><h4 id=\"ファネルのフォールアウト\">ファネルのフォールアウト</h4>\n<p>ユーザーがファネルからどこでドロップしたかを知ることは、多くのマーケティングキャンペーンにとって重要な要素であり、AudienceStreamは最後に完了したステップを教えてくれます。</p>\n<p>まず、ファネルの各ステップに対していくつかのルールを作成する必要があります。例えば、ルール<code>Conversion Funnel - Step 1 Complete</code>は<code>Step 1 - Product</code>が完了したかどうかをチェックします。\n<figure><a class=\"slb\" href=\"/images/server-side/no-title-1138i54b80adb945590ff.png\"><img src=\"https://docs.tealium.com/images/server-side/no-title-1138i54b80adb945590ff.png\"\n         alt=\"ステップ1を確認\"\n         title=\"ステップ1を確認\"/>\n    </a>\n</figure></p>\n<p>次に、<code>Conversion Funnel - Last Step Completed</code>という名前の文字列属性を作成します。この文字列属性には、ファネルの各ステップに対するエンリッチメントがあり、上記のルールを使用してファネルの各ステップが完了したかどうかを確認します。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/funnel-7.png\"><img src=\"https://docs.tealium.com/images/server-side/funnel-7.png\"\n         alt=\"文字列属性が作成されました\"\n         title=\"文字列属性が作成されました\"/>\n    </a>\n</figure>\n<h4 id=\"放棄\">放棄</h4>\n<p>放棄は、すべてのページビューが計上されたことを確認するため、セッションの終了時に判断する必要があります。これは、<code>Cart Abandoner</code>というバッジを作成して訪問の終了時にコンバージョンファネルを見て、ファネルが開始されたが完了していないかどうかを確認することで行うことができます。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/no-title-1140i2e61df3ec9067d5c.png\"><img src=\"https://docs.tealium.com/images/server-side/no-title-1140i2e61df3ec9067d5c.png\"\n         alt=\"カートは放棄されましたか？\"\n         title=\"カートは放棄されましたか？\"/>\n    </a>\n</figure>\n<p>また、<code>Page View</code>イベントでコンバージョンファネルが完了したときにバッジを削除したいと考えています。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/funnel-8-remove-badge.png\"><img src=\"https://docs.tealium.com/images/server-side/funnel-8-remove-badge.png\"\n         alt=\"バッジを削除\"\n         title=\"バッジを削除\"/>\n    </a>\n</figure>\n<h4 id=\"オーディエンス\">オーディエンス</h4>\n<p>次に、新しく作成したバッジを使用するオーディエンスを追加できます。オーディエンスは、顧客について何らかの識別情報（例えば、メールアドレス）があることを確認する必要があります。これにより、彼らはターゲットにされることが可能になります。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/funnel-9-audience.png\"><img src=\"https://docs.tealium.com/images/server-side/funnel-9-audience.png\"\n         alt=\"オーディエンスを作成\"\n         title=\"オーディエンスを作成\"/>\n    </a>\n</figure>\n<h4 id=\"アクション\">アクション</h4>\n<p>このオーディエンスは、任意のコネクタ（例えば、ESPへのコネクタ）をトリガーするために使用できるようになりました。これにより、顧客をウェブサイトに戻してコンバートするのに役立ちます。</p>\n<p>誰に: 例えば、この顧客のメールアドレスがユーザーが誰であるかをベンダーに伝えるために使用されます。</p>\n<p>何を: ベンダーに訪問がカートを放棄し、どのステップで放棄したかを伝えています。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/funnel-10-action2.png\"><img src=\"https://docs.tealium.com/images/server-side/funnel-10-action2.png\"\n         alt=\"ファネルアクション2\"\n         title=\"ファネルアクション2\"/>\n    </a>\n</figure>\n<h4 id=\"トレース\">トレース</h4>\n<p>これがどのように機能するかを確認するために、トレースを実行し、コンバージョンファネルの各ステップをナビゲートします。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/trace-2.png\"><img src=\"https://docs.tealium.com/images/server-side/trace-2.png\"\n         alt=\"トレース3\"\n         title=\"トレース3\" width=\"262\" height=\"263\"/>\n    </a>\n</figure>\n<p>最後に完了したステップを示すように特性が更新され、すべてのステップが完了したことを示すようにファネルが更新されることに注意してください。</p>\n<p>セッション終了時には、<code>Cart Abandoner</code>バッジが割り当てられ、<code>Cart Abandoners</code>オーディエンスが参加し、関連するコネクタがトリガーされます。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/trace-part-1-enriched.png\"><img src=\"https://docs.tealium.com/images/server-side/trace-part-1-enriched.png\"\n         alt=\"カート放棄者が豊かになりました\"\n         title=\"カート放棄者が豊かになりました\"/>\n    </a>\n</figure>\n<figure><a class=\"slb\" href=\"/images/server-side/trace-part-2-enriched.png\"><img src=\"https://docs.tealium.com/images/server-side/trace-part-2-enriched.png\"\n         alt=\"カート放棄者が豊かになりました2\"\n         title=\"カート放棄者が豊かになりました2\"/>\n    </a>\n</figure>\n<figure><a class=\"slb\" href=\"/images/server-side/trace-audience.png\"><img src=\"https://docs.tealium.com/images/server-side/trace-audience.png\"\n         alt=\"トレースオーディエンス\"\n         title=\"トレースオーディエンス\"/>\n    </a>\n</figure>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/popular-badges/",
            "title": "人気のバッジ",
            "body": "<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">バッジ</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badge-browseabandoner.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badge-browseabandoner.png\" class=\"noshadow\" width=\"78\" height=\"77\"/>\n    </a>\n</figure><br> ブラウズ放棄者</td>\n<td><ul><li><strong>ルール</strong> – 商品を閲覧し、カートに商品を追加しなかった訪問。</li><li><strong>アクション</strong> – 既知の訪問であり、Facebook IDが分かっている場合、データをFacebookに送信して、ブランドを訪問に再ターゲティングします。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges%29business-family.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges%29business-family.png\" class=\"noshadow\" width=\"78\" height=\"78\"/>\n    </a>\n</figure><br> ビジネス/ホーム族旅行者</td>\n<td><ul><li><strong>ルール</strong> – 訪問が旅行のタイプをマークしたときに割り当てます。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-cartabandoner.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-cartabandoner.png\" class=\"noshadow\" width=\"79\" height=\"79\"/>\n    </a>\n</figure><br> カート放棄者</td>\n<td><ul><li><strong>ルール</strong> – カートに商品を追加し、購入しなかった訪問。</li><li><strong>アクション</strong> – メールアドレスが分かっている場合、放棄された商品を含むパーソナライズされたメールを送信します。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-couponcodeabuser.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-couponcodeabuser.png\" class=\"noshadow\" width=\"78\" height=\"78\"/>\n    </a>\n</figure><br> クーポンコード乱用者</td>\n<td><ul><li><strong>ルール</strong> – 訪問が一度の訪問で特定の数以上のクーポンまたはプロモーションコードを使用しようとする。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-bades-couponcodestuffer.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-bades-couponcodestuffer.png\" class=\"noshadow\" width=\"79\" height=\"79\"/>\n    </a>\n</figure><br> クーポンコード詰め込み者</td>\n<td><ul><li><strong>ルール</strong> – 訪問がすべての訪問で特定の数以上のクーポンまたはプロモーションコードを成功裏に使用している。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-disappointedshopper.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-disappointedshopper.png\" class=\"noshadow\" width=\"78\" height=\"78\"/>\n    </a>\n</figure><br> がっかりしたショッパー</td>\n<td><ul><li><strong>ルール</strong> – 現在在庫切れの商品を閲覧した訪問に割り当てます。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-freetrialuser.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-freetrialuser.png\"\n         alt=\"Badges-Free-Trial-User.png\"\n         title=\"Badges-Free-Trial-User.png\" class=\"noshadow\" width=\"77\" height=\"77\"/>\n    </a>\n</figure><br> 無料トライアルユーザー</td>\n<td><ul><li><strong>ルール</strong> – 無料トライアルにサインアップした訪問に割り当てます。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-frequenttraveler.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-frequenttraveler.png\" class=\"noshadow\" width=\"79\" height=\"78\"/>\n    </a>\n</figure><br> 頻繁な旅行者</td>\n<td><ul><li><strong>ルール</strong> – 訪問が特定の期間に特定の回数以上旅行したときに割り当てます。例：訪問が過去12週間で5回旅行した。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-knownvisitor.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-knownvisitor.png\" class=\"noshadow\" width=\"78\" height=\"78\"/>\n    </a>\n</figure><br> 既知の訪問</td>\n<td><ul><li><strong>ルール</strong> – 訪問の重要な識別子をキャプチャしたときに割り当てます。例：顧客ID（クライアントのID）、顧客のメール、Facebook ID。これらの訪問は通常、メールやソーシャルメディアを通じてターゲットにされます。</li><li><strong>アクション</strong> – なし。ただし、選択したベンダーAPIで訪問がターゲットにできることを確認するために、オーディエンスで使用されます。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-loyalvisitor.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-loyalvisitor.png\" class=\"noshadow\" width=\"77\" height=\"77\"/>\n    </a>\n</figure><br> 忠実な訪問</td>\n<td><ul><li><strong>ルール</strong> – サイトへの直接訪問が特定の回数に達した訪問に割り当てます。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-newvisitor.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-newvisitor.png\" class=\"noshadow\" width=\"92\" height=\"92\"/>\n    </a>\n</figure><br> 新規訪問</td>\n<td><ul><li><strong>ルール</strong> – &ldquo;ライフタイム訪問数&quot;が1に等しいときに割り当てます。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-purchaser.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-purchaser.png\" class=\"noshadow\" width=\"78\" height=\"78\"/>\n    </a>\n</figure><br> 購入者</td>\n<td><ul><li><strong>ルール</strong> – コンバートした訪問。例：商品を購入した、またはサービスにサインアップした。</li><li><strong>アクション</strong> – 2週間後にメールで別の購入を誘うオファー、または購入した商品に関連する商品を示すメールを送信します。例えば、訪問が野球のバットを買った場合、野球のバッグとバッティンググローブを提供します。</li><li><strong>アクション</strong> – 訪問をリターゲティングキャンペーンから削除し、不必要に再マーケティングされないようにします。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-recentvipvisitor.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-recentvipvisitor.png\" class=\"noshadow\" width=\"77\" height=\"78\"/>\n    </a>\n</figure><br> 最近のVIP訪問</td>\n<td><ul><li><strong>ルール</strong> – その90日間の購入価値が特定のドル額を超えたときに割り当てます。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-salesearcher.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-salesearcher.png\" class=\"noshadow\" width=\"78\" height=\"79\"/>\n    </a>\n</figure><br> セール検索者</td>\n<td><ul><li><strong>ルール</strong> – 訪問が特定の数以上のセールページを閲覧したときに割り当てます。それがセールスカテゴリーであるか、セール中の商品であるかは問いません。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badge-browseabandoner.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badge-browseabandoner.png\" class=\"noshadow\" width=\"78\" height=\"77\"/>\n    </a>\n</figure><br> 検索放棄者</td>\n<td><ul><li><strong>ルール</strong> – 検索エンジンからサイトにアクセスし、共通のアクションを完了していない訪問。例えば、訪問中に少なくとも3ページを閲覧するなど。</li><li><strong>アクション</strong> – 検索したカテゴリーを特定し、ディスプレイ広告ベンダーで再ターゲティングします。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-siteresearcher.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-siteresearcher.png\" class=\"noshadow\" width=\"76\" height=\"76\"/>\n    </a>\n</figure><br> サイトリサーチャー</td>\n<td><ul><li><strong>ルール</strong> – 訪問がサイトを特定の回数以上訪れ、平均訪問時間が特定の分数以上の場合に割り当てます。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-testuser.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-testuser.png\" class=\"noshadow\" width=\"78\" height=\"77\"/>\n    </a>\n</figure><br> テストユーザー</td>\n<td><ul><li><strong>ルール</strong> – &ldquo;test&quot;がURLに含まれている、またはデバッグクッキーが構成されている、またはテスト訪問を示す他の基準がある場合に割り当てます。</li><li>キャンペーンがライブになる前に、構成が正しいことを確認するために、オーディエンスとアクションを製品でテストできます。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-unknownvisitor.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-unknownvisitor.png\" class=\"noshadow\" width=\"78\" height=\"78\"/>\n    </a>\n</figure><br> 未知の訪問</td>\n<td><ul><li><strong>ルール</strong> – 訪問がまだウェブサイトで認証していない場合に割り当てます。認証とは必ずしもログインを意味しません。訪問がメールからサイトに来て、URLにメールが含まれている場合、訪問が誰であるかを特定し、彼らが&quot;認証&quot;したと判断します。</li><li><strong>アクション</strong> – 訪問に自分自身を特定するように促すモーダルを表示します。これらの訪問は、より一般的にディスプレイ広告を通じてターゲットにされます。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-recentvipvisitor.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-recentvipvisitor.png\" class=\"noshadow\" width=\"77\" height=\"78\"/>\n    </a>\n</figure><br> VIP訪問</td>\n<td><ul><li><strong>ルール</strong> – ライフタイムの購入価値が特定のドル額に達したときに割り当てます。</li></ul></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><figure class=\"dib\"><a class=\"slb\" href=\"/images/server-side/whiteui-badges-windowshopper.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-badges-windowshopper.png\" class=\"noshadow\" width=\"78\" height=\"78\"/>\n    </a>\n</figure><br> ウィンドウショッパー</td>\n<td><ul><li><strong>ルール</strong> – サイトを頻繁に訪れるが購入しない訪問。例：過去7日間に3回サイトを訪れ、商品詳細ページを閲覧したり記事を読んだりしているが、商品を購入したりサービスにサインアップしたりしていない訪問。</li><li><strong>アクション</strong> – カテゴリーへの親和性を特定し、次のセッションのランディングページを変更して体験をパーソナライズします。</li></ul></td>\n</tr>\n</tbody>\n</table>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/arrays/array-of-numbers/",
            "title": "数値の配列",
            "body": "<p>数値の配列属性は、訪問数、ページビュー数、購入イベントなどのメトリクスを参照するための数値リストを保存します。</p>\n<p>数値は小数または整数として保存されます。あなたのニーズに合ったタイプを選択してください：</p>\n<ul>\n<li>\n<p><strong>小数（デフォルト）</strong></p>\n<ul>\n<li>小数値は0以上の小数桁を持つことができます。</li>\n<li>例：<code>12</code>、<code>12.0</code>、<code>12.345</code></li>\n<li>金額を表す属性に推奨。</li>\n</ul>\n</li>\n<li>\n<p><strong>整数</strong></p>\n<ul>\n<li>保存されるのは整数値のみです。</li>\n<li>例：<code>12</code>、<code>-4</code>、<code>3214</code></li>\n<li>数量、カウンター、スコアを表す数値属性に便利。</li>\n</ul>\n</li>\n</ul>\n<p>数値の配列は次のスコープで利用可能です：イベント、訪問、訪問。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/screenshot-2019-11-11-at-1.24.29-pm.png\"><img src=\"https://docs.tealium.com/images/server-side/screenshot-2019-11-11-at-1.24.29-pm.png\"\n         alt=\"数値の配列\"\n         title=\"数値の配列\"/>\n    </a>\n</figure>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>数値の文字列表現（<code>0</code>、<code>123</code>、<code>12.95</code>）はその数値に変換されます。それ以外の非数値は無視されます。</p>\n<h2 id=\"エンリッチメント\">エンリッチメント</h2>\n<h3 id=\"数値の追加\">数値の追加</h3>\n<p>このエンリッチメントは、配列に数値を追加します。追加される属性は、数値、iQ変数、またはオムニチャネル属性のみ可能です。例えば、最後の購入価格を<code>purchase_total_history</code>値配列に追加することができます。</p>\n<p><strong>属性名</strong>：<code>purchase_total_history</code></p>\n<ul>\n<li><strong>開始値</strong>：<code>[12.95]</code></li>\n<li><strong>エンリッチメント</strong>：<code>5.99</code></li>\n<li><strong>結果の値</strong>：<code>[12.95, 5.99]</code></li>\n</ul>\n<h3 id=\"数値の配列の追加\">数値の配列の追加</h3>\n<p>このエンリッチメントは、別の配列からすべての値を配列に追加します。追加される属性タイプは、数値の配列またはiQ変数のみ可能です。例えば、購入した商品の価格の配列をすべての購入商品の価格の配列に追加することができます。</p>\n<p><strong>属性名</strong>：<code>purchased_products_history</code></p>\n<ul>\n<li><strong>開始値</strong>：<code>[24.99, 12.95]</code></li>\n<li><strong>エンリッチメント</strong>：<code>[5.99, 10.00]</code></li>\n<li><strong>結果の値</strong>：<code>[24.99, 12.95, 5.99, 10.00]</code></li>\n</ul>\n<h3 id=\"リセット\">リセット</h3>\n<p>このエンリッチメントは、配列からすべての値を削除します。例えば、最後の購入アイテムを最後の購入アイテムの配列から削除することができます。</p>\n<p><strong>属性名</strong>：<code>purchase_total_history</code></p>\n<ul>\n<li><strong>開始値</strong>：<code>[12.95, 5.99]</code></li>\n<li><strong>結果の値</strong>：（削除）</li>\n</ul>\n<h3 id=\"2つの配列の差分を数値の配列に構成\">2つの配列の差分を数値の配列に構成</h3>\n<p>このエンリッチメントは、2つの配列を入力として取り、一方に存在し他方に存在しない値を探し、それらを配列に挿入します。この例では、<code>Gift Card Amounts</code>から<code>Gift Cards Purchased</code>にも存在しない値が結果の配列に追加されます。</p>\n<p><strong>属性名</strong>：<code>gift_card_not_purchased</code></p>\n<ul>\n<li><strong>開始値</strong>：<code>[]</code></li>\n<li><strong>エンリッチメント</strong>：  差分：<code>Gift Card Amounts</code> <code>[5.00, 10.00, 25.00, 50.00, 100.00, 250.00]</code> と <code>Gift Cards Purchased</code> <code>[25.00, 50.00]</code></li>\n<li><strong>結果の値</strong>：<code>[5.00, 10.00, 100.00, 250.00]</code></li>\n</ul>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/number/",
            "title": "数値属性",
            "body": "<p>数値属性は、訪問数、ページビュー数、イベント数などのブラウジングメトリクスの数値を保存します。一般的な例としては、ライフタイムバリュー、注文合計取引、最終購入からの日数などがあります。</p>\n<h2 id=\"仕組み\">仕組み</h2>\n<p>数値は小数または整数として保存されます。あなたのニーズに合ったタイプを選択してください：</p>\n<ul>\n<li><strong>小数（デフォルト）</strong>\n<ul>\n<li>小数値はゼロ以上の小数桁を持つことができます。</li>\n<li>例：<code>12</code>、<code>12.0</code>、<code>12.345</code></li>\n<li>小数値はJava Doubleクラスを使用します。詳細は、<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html\">Class Double</a>を参照してください。</li>\n<li>通貨値を表す属性に推奨されます。</li>\n</ul>\n</li>\n<li><strong>整数</strong>\n<ul>\n<li>保存されるのは整数値のみです。</li>\n<li>例：<code>12</code>、<code>-4</code>、<code>3214</code></li>\n<li>数量、カウンター、スコアを表す数値属性に便利です。</li>\n</ul>\n</li>\n</ul>\n<p>数値属性は次のスコープで利用可能です：イベント、訪問、訪問。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/scope-3checks.png\"><img src=\"https://docs.tealium.com/images/server-side/scope-3checks.png\"/>\n    </a>\n</figure>\n<h3 id=\"サイズ制限\">サイズ制限</h3>\n<p>数値属性の小数値は<code>-1.7976931348623157×10^308</code>から<code>1.7976931348623157×10^308</code>の範囲内でなければなりません。数値属性の整数値は<code>-2147483647</code>から<code>2147483647</code>の範囲内でなければなりません。</p>\n<p>数値属性は、暗号化と圧縮後のプロファイルの最大サイズ（400 KB）によっても制限されます。</p>\n<h2 id=\"エンリッチメント\">エンリッチメント</h2>\n<h3 id=\"数値の増減エンリッチメント\">数値の増減エンリッチメント</h3>\n<p>このエンリッチメントは、正の値（増加）または負の値（減少）で数値を変更します。変更値は別の数値属性または定数値であることができます。</p>\n<p>例えば、訪問の注文のライフタイムトータルバリュー（LTV）を計算するために、<code>purchase</code>イベントが発生するたびに<code>order_total</code>属性の値で属性を増加させるためにこのエンリッチメントを使用します。</p>\n<p><strong>属性名</strong>：ライフタイムトータルバリュー</p>\n<ul>\n<li><strong>初期値</strong>：<code>121.78</code></li>\n<li><strong>エンリッチメント対象</strong>：  order_total <code>220.00</code></li>\n<li><strong>結果</strong>：<code>341.78</code></li>\n</ul>\n<h3 id=\"比率の構成\">比率の構成</h3>\n<p>2つの数値の商を新しい比率の数値として構成します。</p>\n<p>例えば、平均カートアイテム数/注文数を計算するために、このエンリッチメントを使用して、購入したカートアイテムの合計属性と完了した注文の合計属性の比率を構成します。</p>\n<p><strong>属性名</strong>：平均カートアイテム数/注文数</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント対象</strong>：<br>\n購入したカートアイテムの合計: <code>48.00</code><br>\n完了した注文の合計: <code>3.00</code></li>\n<li><strong>結果</strong>：<code>16.00</code></li>\n</ul>\n<h3 id=\"積の構成\">積の構成</h3>\n<p>2つの数値の積を新しい数値として構成します。</p>\n<p>例えば、<code>coupon_discount_amount</code>を計算するために、このエンリッチメントを使用して<code>order_subtotal</code>と<code>coupon_discount_percent</code>を掛け合わせます。</p>\n<p><strong>属性名</strong>：<code>coupon_discount_amount</code></p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント対象</strong>：<br>\norder_subtotal: <code>42.00</code><br>\ncoupon_discount_percent: <code>0.05</code></li>\n<li><strong>結果</strong>：<code>2.10</code></li>\n</ul>\n<h3 id=\"差の構成\">差の構成</h3>\n<p>2つの数値の差を新しい数値として構成します。</p>\n<p><strong>属性名</strong>：<code>order_subtotal</code></p>\n<ul>\n<li><strong>初期値</strong>：<code>42.00 </code></li>\n<li><strong>エンリッチメント対象</strong>：<br>\norder_subtotal: <code>42.00</code><br>\ncoupon_discount_amount: <code>2.10</code></li>\n<li><strong>結果</strong>：<code>39.90</code></li>\n</ul>\n<h3 id=\"合計の構成\">合計の構成</h3>\n<p>2つの数値の合計に構成します。</p>\n<p>例えば、<code>order_total</code>を<code>order_subtotal</code>と<code>order_tax_amount</code>の合計に構成します。</p>\n<p><strong>属性名</strong>：<code>order_total</code></p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント対象</strong>：<br>\norder_subtotal: <code>39.90</code><br>\norder_tax_amount: <code>3.29</code></li>\n<li><strong>結果</strong>：<code>43.19</code></li>\n</ul>\n<h3 id=\"数値の構成\">数値の構成</h3>\n<p>数値を特定の数値に構成します。</p>\n<p>例えば、<code>purchase</code>イベントが発生するたびに、最終購入金額を<code>order_total</code>の値に構成します。</p>\n<p><strong>属性名</strong>：最終購入金額</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント対象</strong>： order_total:<code>43.19</code></li>\n<li><strong>結果</strong>：<code>43.19</code></li>\n</ul>\n<h3 id=\"2つの日付間の差の構成\">2つの日付間の差の構成</h3>\n<p>(AudienceStreamのみ)</p>\n<p>2つのイベント間の経過時間を計算します。経過時間は以下のいずれかで表現できます：</p>\n<ul>\n<li>分</li>\n<li>時間</li>\n<li>日</li>\n<li>週</li>\n<li>月</li>\n</ul>\n<p>差は常に正の値として保存されるため、日付は任意の順序で構成できます。</p>\n<p>例えば、最終購入日と現在の訪問日との間の日数の差として、最終購入からの日数を計算します。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>日付属性はUnixタイムスタンプとして保存されますが、これらの例では読みやすさのためにフォーマットされた日付を使用しています。</p>\n<p><strong>属性名</strong>：最終購入からの日数</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント対象</strong>：<br>\n最終購入日: <code>&quot;2018/10/30&quot;</code><br>\n現在の訪問日: <code>&quot;2019/11/01&quot;</code></li>\n<li><strong>結果</strong>：<code>367</code></li>\n</ul>\n<h3 id=\"タイムラインに基づくローリング平均の構成\">タイムラインに基づくローリング平均の構成</h3>\n<p>(AudienceStreamのみ)</p>\n<p>ローリング平均は、時間経過とともに取得された数値の算術平均です。これらの値は、<a href=\"/ja/server-side/attributes/data-types/tally/\">tally</a>属性として収集されたエントリーの<a href=\"/ja/server-side/attributes/data-types/timeline/\">timeline</a>属性から取得されます。タイムラインの有効期限が最終平均にどのエントリーを含めることができるかを決定します。有効期限がない場合、それは単純な平均解です。</p>\n<p><strong>属性名</strong>：平均注文値</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント対象</strong>： <code>[20.00, 30.00, 40.00, 50.00]</code></li>\n<li><strong>結果</strong>： <code>35.00</code></li>\n</ul>\n<h3 id=\"タイムラインに基づくローリング合計の構成\">タイムラインに基づくローリング合計の構成</h3>\n<p>(AudienceStreamのみ)</p>\n<p>ローリング合計は、数値または<a href=\"/ja/server-side/attributes/data-types/tally/\">tally</a>属性の数値の集計で、これらは<a href=\"/ja/server-side/attributes/data-types/timeline/\">timeline</a>のエントリーとして取得されます。タイムラインの有効期限が、集計中にどのエントリーを含めることができるかを決定します。</p>\n<p><strong>属性名</strong>：合計注文値</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント対象</strong>： <code>[10.00, 20.00, 30.00, 40.00, 50.00]</code></li>\n<li><strong>結果</strong>： <code>150.00</code></li>\n</ul>\n<h3 id=\"タイムラインのエントリー数に数値を構成\">タイムラインのエントリー数に数値を構成</h3>\n<p>数値をタイムラインのエントリー数に構成します。</p>\n<p><strong>属性名</strong>：合計注文数</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント対象</strong>： <code>[10.00, 20.00, 30.00, 40.00, 50.00]</code></li>\n<li><strong>結果</strong>： <code>5.00</code></li>\n</ul>\n<h3 id=\"数値をtally値に構成\">数値をtally値に構成</h3>\n<p>(AudienceStreamのみ)</p>\n<p>数値をtally内の特定の値に構成します。tally属性とtally内のエントリーの名前を指定します。例えば、サイトカテゴリビューのtallyには&quot;Shoes&quot;というエントリーがあるかもしれません。</p>\n<p><strong>属性名</strong>：シューズカテゴリビューカウント</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント対象</strong>： サイトカテゴリビュー: <code>{&quot;Shoes&quot;: 42}</code></li>\n<li><strong>結果</strong>： <code>42</code></li>\n</ul>\n<h3 id=\"数値をtallyのエントリー数に構成\">数値をtallyのエントリー数に構成</h3>\n<p>(AudienceStreamのみ)</p>\n<p>属性をtallyのエントリー数に構成します。例えば、サイトカテゴリビューのtallyには3つのエントリーがあるかもしれません。</p>\n<p><strong>属性名</strong>：閲覧したカテゴリ数</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント対象</strong>：</li>\n</ul>\n<pre tabindex=\"0\"><code>{  \n  &#34;Shoes&#34;: 42,  \n  &#34;Shirts&#34;: 11,  \n  &#34;Pants&#34;: 8\n} \n</code></pre><ul>\n<li><strong>結果</strong>： <code>3.00</code></li>\n</ul>\n<h3 id=\"文字列のセット内のアイテム数に数値を構成\">文字列のセット内のアイテム数に数値を構成</h3>\n<p>(AudienceStreamのみ)</p>\n<p>数値を文字列のセット内のアイテム数に構成します。例えば、アクティブなブラウザタイプの文字列のセットには3つのエントリーがあるかもしれません。</p>\n<p><strong>属性名</strong>：アクティブなブラウザタイプの数</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント対象</strong>： <code>[&quot;Firefox&quot;, &quot;Safari&quot;, &quot;Chrome&quot;]</code></li>\n<li><strong>結果</strong>： <code>3.00</code></li>\n</ul>\n<h3 id=\"タイムラインに基づくtallyのローリング最大値に数値を構成\">タイムラインに基づくtallyのローリング最大値に数値を構成</h3>\n<p>(AudienceStreamのみ)</p>\n<p>数値を、タイムライン内で取得された別の数値のローリング最大値に構成します。</p>\n<p><strong>属性名</strong>：最高注文値</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント対象</strong>： <code>[10.00, 20.00, 30.00, 40.00, 50.00]</code></li>\n<li><strong>結果</strong>： <code>50.00</code></li>\n</ul>\n<h3 id=\"数値の変化に数値を構成\">数値の変化に数値を構成</h3>\n<p>(AudienceStreamのみ)</p>\n<p>この属性を、最後のイベントから別の属性との差に構成します。例えば、このエンリッチメントを使用して、前回の注文金額と現在の注文金額の差を取得します。注文値の変化という属性を構成するには、前回の注文から<code>order_subtotal</code>の変化を構成します。</p>\n<p><strong>属性名</strong>：注文値の変化</p>\n<ul>\n<li><strong>初期値</strong>：<code>30.00 </code></li>\n<li><strong>エンリッチメント対象</strong>： order_subtotal: <code>42.00</code></li>\n<li><strong>結果</strong>： <code>12.00</code></li>\n</ul>\n<h3 id=\"日付の変化に数値を構成\">日付の変化に数値を構成</h3>\n<p>(AudienceStreamのみ)</p>\n<p>この属性を、このイベントと最後のイベントとの間の選択された値の変化に構成します。例えば、このエンリッチメントを使用して、購入が行われるたびに最終購入日の日付属性の月の変化を取得します。\n日付の変更は次のいずれかで表現できます：</p>\n<ul>\n<li>分</li>\n<li>時間</li>\n<li>日</li>\n<li>週</li>\n<li>月</li>\n</ul>\n<p><strong>属性名</strong>：最後の購入からの月数</p>\n<ul>\n<li><strong>初期値</strong>：</li>\n<li><strong>エンリッチメント情報</strong>：<br>\n最後の購入日（最後のイベント）：<code>&quot;10/31/2019&quot;</code><br>\n最後の購入日（このイベント）：<code>&quot;12/31/2019&quot;</code></li>\n<li><strong>結果</strong>：2 (月)</li>\n</ul>\n<h3 id=\"数値の配列の平均に基づいて数値を構成する\">数値の配列の平均に基づいて数値を構成する</h3>\n<p>（EventStreamのみ）</p>\n<p>この属性を数値の配列の平均に構成します。</p>\n<p><strong>属性名</strong>：平均購入価格</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント情報</strong>：<code>[20.00, 25.00, 30.00, 35.00, 40.00]</code></li>\n<li><strong>結果</strong>：<code>30.00</code></li>\n</ul>\n<h3 id=\"数値の配列の最大値に基づいて数値を構成する\">数値の配列の最大値に基づいて数値を構成する</h3>\n<p>（EventStreamのみ）</p>\n<p>この属性を数値の配列内の最大値に構成します。</p>\n<p><strong>属性名</strong>：購入した最も高価な商品</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント情報</strong>：<code>[20.00, 25.00, 30.00, 35.00, 40.00]</code></li>\n<li><strong>結果</strong>：<code>40.00</code></li>\n</ul>\n<h3 id=\"数値の配列の最小値に基づいて数値を構成する\">数値の配列の最小値に基づいて数値を構成する</h3>\n<p>（EventStreamのみ）</p>\n<p>この属性を数値の配列内の最小値に構成します。</p>\n<p><strong>属性名</strong>：購入した最も安価な商品</p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント情報</strong>：<code>[20.00, 25.00, 30.00, 35.00, 40.00]</code></li>\n<li><strong>結果</strong>：<code>20.00</code></li>\n</ul>\n<h3 id=\"配列内のアイテム数に構成する\">配列内のアイテム数に構成する</h3>\n<p>配列内のアイテム数に構成します。例えば、カート内の商品数を保存するために、このエンリッチメント情報を使用して<code>cart_product_id</code>配列内のアイテム数を取得します。</p>\n<p><strong>属性名</strong>：<code>num_cart_items</code></p>\n<ul>\n<li><strong>初期値</strong>：&mdash;</li>\n<li><strong>エンリッチメント情報</strong>：product_id: <code>[&quot;prod123&quot;, &quot;prod456&quot;]</code></li>\n<li><strong>結果</strong>：<code>2.00</code></li>\n</ul>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/date/",
            "title": "日付属性",
            "body": "<h2 id=\"使い方\">使い方</h2>\n<p>日付属性を使用して、最初の購入日、最後のチェックアウト日、最後の訪問日などの重要なタイムスタンプを保存します。</p>\n<p>日付属性は次の範囲で利用可能です：イベント、訪問、訪問。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/attribute-scopes-table-all.png\"><img src=\"https://docs.tealium.com/images/server-side/attribute-scopes-table-all.png\"\n         alt=\"attribute-scopes-table-all.png\"\n         title=\"attribute-scopes-table-all.png\" width=\"400\" height=\"110\"/>\n    </a>\n</figure>\n<h2 id=\"日付フォーマッター\">日付フォーマッター</h2>\n<p>文字列属性を日付に変換するには、日付フォーマッターを使用します。日付形式パネルから文字列値に一致するタイムスタンプコンポーネントを選択します。例えば、<code>01/31/2020</code>という文字列値は<code>MM/dd/yyyy</code>の形式を使用して日付に変換できます。</p>\n<p>日付と時間の文字列パターン：</p>\n<pre tabindex=\"0\"><code>G 紀元表示 (BC, AD)\ny 年 (例：12または2012)。yyまたはyyyyのいずれかを使用します。\nM 年内の月。Mの数が形式の長さを決定します。例：MM、MMM、MMMMM。\nd 月内の日。dの数が形式の長さを決定します。例：dまたはdd。\nh 日中の時間、1-12 (AM / PM) (通常はhh)\nH 日中の時間、0-23 (通常はHH)\nm 時間内の分、0-59 (通常はmm)\ns 分内の秒、0-59 (通常はss)\nS 秒内のミリ秒、0-999 (通常はSSS)\na AM / PM マーカー\nz タイムゾーン\nZ RFC 822 タイムゾーン\n&#39; テキスト区切り文字のエスケープ\n&#39; シングルクォート\n</code></pre><p>参考（例付き）：<a href=\"https://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\">SimpleDateFormat Java Class</a></p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>文字列に<code>T</code>が含まれている場合は、式の<code>T</code>の前後にシングルクォートを含めることを確認してください（例えば、<code>2024-08-22T10:24:58.905</code>の文字列は<code>yyyy-MM-dd'T'HH:mm:ss.SSS</code>の式を使用します）。</p>\n<h3 id=\"サイズ制限\">サイズ制限</h3>\n<p>各日付属性のサイズは次の範囲に制限されています：</p>\n<ul>\n<li>最小：<code>-292275055-05-16T16:47:04.192Z</code></li>\n<li>最大：<code>+292278994-08-17T07:12:55.807Z</code></li>\n</ul>\n<p>これらの属性は、暗号化と圧縮後のプロファイルの最大サイズ（400 KB）によっても制限されます。</p>\n<h2 id=\"エンリッチメント\">エンリッチメント</h2>\n<h3 id=\"日付の取得\">日付の取得</h3>\n<p>日付の取得エンリッチメントは、イベント条件の時点での現在のタイムスタンプを属性に構成します。このエンリッチメントは、スコープ：イベント、訪問、訪問で利用可能です。</p>\n<p>例えば、最後の購入日を取得するには、購入イベントを識別するルールとともにこのエンリッチメントを使用します。</p>\n<p><strong>属性名：</strong> 最後の購入日</p>\n<ul>\n<li><strong>開始値</strong>：<code>&quot;&quot;</code></li>\n<li><strong>エンリッチメント</strong>：</li>\n<li><strong>結果の値</strong>：<code>1491233145706</code></li>\n</ul>\n<h3 id=\"日付の構成\">日付の構成</h3>\n<p>日付の構成エンリッチメントは、属性を他の属性の値に構成します。もし他の属性が文字列であれば、<a href=\"#date-formatter\">日付フォーマッター</a>を使用してそれを日付に変換します。このエンリッチメントは、属性：イベント、訪問、訪問で利用可能です。</p>\n<p><strong>属性名</strong>：最後の購入日</p>\n<ul>\n<li><strong>開始値</strong>：<code>&quot;&quot;</code></li>\n<li><strong>文字列でエンリッチ</strong>：<code>01/04/2019</code></li>\n<li><strong>使用する形式</strong>：<code>dd/MM/yyy</code></li>\n</ul>\n<p><strong>日付を構成</strong>エンリッチメントを使用して、他の日付属性（EventStreamまたはAudienceStream）からEventStreamの日付を構成する場合、形式文字列のプレースホルダーを使用できます。例えば、<strong>日付を構成</strong>エンリッチメントで以下を構成します：</p>\n<ul>\n<li><strong>日付を構成</strong>：値を構成したい日付属性。この例では、<code>date_of_birth</code>。</li>\n<li><strong>日付形式</strong>：任意のプレースホルダーを入力します。例えば、<code>x</code>。</li>\n</ul>\n<figure><a class=\"slb\" href=\"/images/server-side/attributes/set_date_enrichment_example.png\"><img src=\"https://docs.tealium.com/images/server-side/attributes/set_date_enrichment_example.png\"\n         alt=\"Set date enrichment with placeholder date format value\"\n         title=\"Set date enrichment with placeholder date format value\"/>\n    </a>\n</figure>\n<h3 id=\"日付の削除\">日付の削除</h3>\n<p>日付の削除エンリッチメントは、日付属性の値を消去します。このエンリッチメントは、属性：イベント、訪問、訪問で利用可能です。</p>\n<p><strong>属性名</strong>：最後の訪問日</p>\n<ul>\n<li><strong>開始値</strong>：<code>1491233145706</code></li>\n<li><strong>結果の値</strong>：<code>&quot;&quot;</code></li>\n</ul>\n<h3 id=\"日付形式からの変換\">日付形式からの変換</h3>\n<p>日付形式エンリッチメントは、入力値の予想される日付形式に基づいて値を構成します。このエンリッチメントは、CollectタグまたはAPIから送信される文字列データ型を日付型に変換するために使用されます。文字列データを日付に変換するために<a href=\"#date-formatter\">日付フォーマッター</a>を使用します。</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>このエンリッチメントはイベント属性のみで利用可能です。</p>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/set-of-strings/",
            "title": "文字列のセット属性",
            "body": "<h2 id=\"仕組み\">仕組み</h2>\n<p>セット内の値は、訪問や訪問の回数に関係なく一度だけ保存されます。文字列のセット属性は、最も一般的には閲覧した商品カテゴリ、閲覧したページ、購入した商品に使用されます。</p>\n<p>例：</p>\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>閲覧した商品カテゴリ</td>\n<td>&ldquo;ホームインプルーブメント&rdquo;, &ldquo;エレクトロニクス&rdquo;, &ldquo;アパレル&rdquo;, &ldquo;キッチン&rdquo;</td>\n</tr>\n<tr>\n<td>使用したブラウザ</td>\n<td>&ldquo;Chrome&rdquo;, &ldquo;Safari&rdquo;</td>\n</tr>\n<tr>\n<td>カートのアイテム</td>\n<td>&ldquo;iPad&rdquo;, &ldquo;スクリーンプロテクター&rdquo;, &ldquo;ヘッドフォン&rdquo;</td>\n</tr>\n</tbody>\n</table>\n<p>文字列のセット属性は、以下のスコープで利用可能です：訪問と訪問。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/screenshot-2019-11-11-at-1.26.28-pm.png\"><img src=\"https://docs.tealium.com/images/server-side/screenshot-2019-11-11-at-1.26.28-pm.png\"/>\n    </a>\n</figure>\n<h3 id=\"サイズ制限\">サイズ制限</h3>\n<p>文字列のセットは30,000文字までに制限されています。各文字列のサイズには制限はありませんが、これらの属性は暗号化と圧縮後のプロファイルの最大サイズ（400 KB）によって制限されます。</p>\n<h2 id=\"機能追加\">機能追加</h2>\n<h3 id=\"文字列のセットに追加\">文字列のセットに追加</h3>\n<p>文字列の値を文字列のセットに追加します。一意の文字列のみを追加します。</p>\n<p><strong>属性名</strong>: <code>product_category</code></p>\n<ul>\n<li><strong>初期値</strong>:  <code>&quot;ホームインプルーブメント&quot;, &quot;エレクトロニクス&quot;, &quot;キッチン&quot;</code></li>\n<li><strong>追加された値</strong>: <code>&quot;アパレル&quot;, &quot;エレクトロニクス&quot;</code></li>\n<li><strong>結果の値</strong>: <code>&quot;ホームインプルーブメント&quot;, &quot;エレクトロニクス&quot;, &quot;キッチン&quot;, &quot;アパレル&quot;</code></li>\n</ul>\n<p>結果は、&ldquo;エレクトロニクス&quot;アイテムを無視します。なぜなら、それはすでに文字列のセットに存在しているからです。</p>\n<h3 id=\"配列を文字列のセットとして保存\">配列を文字列のセットとして保存</h3>\n<p>この機能追加は、文字列の配列属性からの値を文字列のセット属性に保存するために使用されます。新しいセットでは、配列内のすべての重複要素が無視され、一意の文字列のみが許可されます。</p>\n<p><strong>属性名</strong>: <code>閲覧した商品カテゴリ</code></p>\n<ul>\n<li><strong>初期値</strong>:  <code>&quot;キッチン&quot;</code></li>\n<li><strong>追加された値</strong>: <code>[&quot;ホームインプルーブメント&quot;, &quot;エレクトロニクス&quot;, &quot;キッチン&quot;]</code></li>\n<li><strong>結果の値</strong>: <code>&quot;ホームインプルーブメント&quot;, &quot;エレクトロニクス&quot;, &quot;キッチン&quot;</code></li>\n</ul>\n<h3 id=\"文字列のセットを文字列のセットで更新\">文字列のセットを文字列のセットで更新</h3>\n<p>この機能追加は、別の文字列のセット属性からの値を文字列のセットに追加します。例えば、訪問があなたから購入する商品カテゴリを追跡するために、&ldquo;購入したカテゴリ&quot;という名前の2つの文字列のセット属性を持つことがあります。一つは購入が発生したときにキャプチャするための訪問にスコープを持ち、もう一つはマスターセットを保存するための訪問にスコープを持ちます。</p>\n<table>\n<thead>\n<tr>\n<th><strong>訪問: 購入したカテゴリ</strong></th>\n<th><strong>訪問: 購入したカテゴリ</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>&quot;エレクトロニクス&quot;</code></td>\n<td><code>&quot;エレクトロニクス&quot;</code></td>\n</tr>\n<tr>\n<td><code>&quot;キッチン&quot;, &quot;アパレル&quot;</code></td>\n<td><code>&quot;エレクトロニクス&quot;, &quot;キッチン&quot;, &quot;アパレル&quot;</code></td>\n</tr>\n<tr>\n<td><code>&quot;キッチン&quot;, &quot;エレクトロニクス&quot;</code></td>\n<td><code>&quot;エレクトロニクス&quot;, &quot;キッチン&quot;, &quot;アパレル&quot;</code></td>\n</tr>\n</tbody>\n</table>\n<p>訪問にスコープを持つ文字列のセットは、毎回新しい値で上書きされますが、機能追加はそれらの値を訪問にスコープを持つ文字列のセットにコピーし、マスターリストが拡大し、遭遇した各一意の値を保存します。</p>\n<p><strong>属性名</strong>: <code>購入した商品カテゴリ</code></p>\n<ul>\n<li><strong>初期値</strong>:  <code>&quot;エレクトロニクス&quot;</code></li>\n<li><strong>追加された値</strong>: <code>&quot;ホームインプルーブメント&quot;, &quot;エレクトロニクス&quot;, &quot;キッチン&quot;</code></li>\n<li><strong>結果の値</strong>: <code>&quot;エレクトロニクス&quot;, &quot;ホームインプルーブメント&quot;, &quot;キッチン&quot;</code></li>\n</ul>\n<h3 id=\"二つの文字列のセット間の差\">二つの文字列のセット間の差</h3>\n<p>一つの文字列のセットから他の文字列のセットに現れないアイテムを含む新しい文字列のセット属性を作成します。例えば、顧客が閲覧したが購入しなかったカテゴリを見つけるために、&ldquo;閲覧したカテゴリ&quot;と&quot;購入したカテゴリ&quot;の間の差を見つけるためにこの機能追加を使用します。</p>\n<p>例：</p>\n<p><code>閲覧したカテゴリ</code>に存在し、<code>購入したカテゴリ</code>には存在しない値を見つける。</p>\n<p><strong>属性名</strong>: <code>購入されなかった閲覧カテゴリ</code></p>\n<ul>\n<li><strong>初期値</strong>:</li>\n<li><strong>追加された値</strong>:  &ldquo;閲覧したカテゴリ&rdquo;: <code>&quot;ホームインプルーブメント&quot;, &quot;キッチン&quot;, &quot;ウィンドウズ&quot;</code> &ldquo;購入したカテゴリ&rdquo;: <code>&quot;ホームインプルーブメント&quot;</code></li>\n<li><strong>結果の値</strong>: <code>&quot;キッチン&quot;, &quot;ウィンドウズ&quot;</code></li>\n</ul>\n<h3 id=\"文字列のセットの削除\">文字列のセットの削除</h3>\n<p>一連の条件に基づいて文字列のセットを削除します。これはセットの削除と同等です。</p>\n<p><strong>属性名</strong>: <code>product_category</code></p>\n<ul>\n<li><strong>初期値</strong>:  <code>&quot;ホームインプルーブメント&quot;, &quot;キッチン&quot;, &quot;ウィンドウズ&quot;</code></li>\n<li><strong>結果の値</strong>: (削除)</li>\n</ul>\n<h3 id=\"文字列のセットを小文字にする\">文字列のセットを小文字にする</h3>\n<p>一連の条件に基づいて文字列のセットを小文字にします。</p>\n<p><strong>属性名</strong>: <code>product_category</code></p>\n<ul>\n<li><strong>初期値</strong>:  <code>&quot;ホームインプルーブメント&quot;, &quot;エレクトロニクス&quot;, &quot;キッチン&quot;</code></li>\n<li><strong>結果の値</strong>: <code>&quot;home improvement&quot;, &quot;electronics&quot;, &quot;kitchen&quot;</code></li>\n</ul>\n<h3 id=\"トップ集計アイテムをセットにする\">トップ集計アイテムをセットにする</h3>\n<p>集計から最も高い値のアイテムを使用して文字列のセットを作成します。例えば、最も閲覧された商品の3つを追跡するために、閲覧された商品の発生を追跡する集計属性からトップ3のエントリをキャプチャする文字列のセットを作成します。</p>\n<p><strong>属性名</strong>: <code>トップ3の閲覧商品</code></p>\n<ul>\n<li><strong>初期値</strong>:  &ndash;</li>\n<li><strong>追加された値</strong>: &ldquo;閲覧した商品&quot;のトップ3アイテム: <br> <code>{ &quot;AirPods Pro&quot; : 3 &quot;iPhone 10&quot; : 6 &quot;iPhone Case&quot; : 10 &quot;MacBook Pro&quot; : 1 &quot;iMac&quot; : 2 }</code></li>\n<li><strong>結果の値</strong>: <code>&quot;iPhone Case&quot;, &quot;iPhone 10&quot;, &quot;AirPods Pro&quot;</code></li>\n</ul>\n<h3 id=\"ターゲット値以上の集計アイテムをセットにする\">ターゲット値以上の集計アイテムをセットにする</h3>\n<p>構成した閾値以上の値を持つ集計からのアイテムを使用して文字列のセットを作成します。例えば、20回以上閲覧された商品を追跡するために、閲覧された商品の発生を追跡する集計属性からのエントリをキャプチャする文字列のセットを作成します。</p>\n<p><strong>属性名</strong>: <code>20回以上閲覧された商品</code></p>\n<ul>\n<li><strong>初期値</strong>: &ndash;</li>\n<li><strong>追加された値</strong>:  &ldquo;閲覧した商品&quot;の中で20以上の値を持つアイテム: <br><code>{  &quot;AirPods Pro&quot; : 21,  &quot;iPhone 10&quot; : 35, &quot;iPhone Case&quot; : 12, &quot;MacBook Pro&quot; : 1 &quot;iMac&quot; : 2 }</code></li>\n<li><strong>結果の値</strong>:  <code>&quot;iPhone 10&quot;, &quot;AirPods Pro&quot;</code></li>\n</ul>\n<h3 id=\"文字列のセットからエントリを削除\">文字列のセットからエントリを削除</h3>\n<p>一連の条件に基づいて文字列のセットからエントリを削除します。例えば、購入されたために商品のウィッシュリストを追跡する文字列のセットから&quot;iPhone Case&quot;エントリを削除します。</p>\n<p><strong>属性名</strong>: <code>商品のウィッシュリスト</code></p>\n<ul>\n<li><strong>初期値</strong>:  <code>&quot;iPhone 10&quot;, &quot;AirPods Pro&quot;, &quot;iPhone Case&quot;</code></li>\n<li><strong>追加された値</strong>:  <code>purchased_product</code> (値 &ldquo;iPhone Case&rdquo;) を削除</li>\n<li><strong>結果の値</strong>: <code>&quot;iPhone 10&quot;, &quot;AirPods Pro&quot;</code></li>\n</ul>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/arrays/arrays/",
            "title": "文字列の配列",
            "body": "<h2 id=\"エンリッチメント\">エンリッチメント</h2>\n<p>文字列の配列属性は、テキスト値のリストを保存します。</p>\n<p>文字列の配列は次のスコープで利用可能です：イベント、訪問、訪問。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/screenshot-2019-11-11-at-1.24.29-pm.png\"><img src=\"https://docs.tealium.com/images/server-side/screenshot-2019-11-11-at-1.24.29-pm.png\"\n         alt=\"array of strings\"\n         title=\"array of strings\"/>\n    </a>\n</figure>\n<h3 id=\"文字列の追加\">文字列の追加</h3>\n<p>このエンリッチメントは、文字列属性の値を配列に追加します。追加される属性は、文字列、iQ変数、またはオムニチャネル属性のみです。</p>\n<p><strong>属性名</strong>： <code>product_name</code></p>\n<ul>\n<li><strong>開始値</strong>： <code>[&quot;Pants&quot;]</code></li>\n<li><strong>エンリッチメント</strong>： <code>&quot;Shirts&quot;</code></li>\n<li><strong>結果の値</strong>： <code>[&quot;Pants&quot;, &quot;Shirts&quot;]</code></li>\n</ul>\n<h3 id=\"文字列の配列の追加\">文字列の配列の追加</h3>\n<p>このエンリッチメントは、別の配列からすべての値を配列に追加します。追加される属性は、文字列の配列またはiQ変数のみです。</p>\n<p><strong>属性名</strong>： <code>product_name</code></p>\n<ul>\n<li><strong>開始値</strong>： <code>[&quot;Pants&quot;]</code></li>\n<li><strong>エンリッチメント</strong>： <code>[&quot;Shirts&quot;, &quot;Shoes&quot;]</code></li>\n<li><strong>結果の値</strong>： <code>[&quot;Pants&quot;, &quot;Shirts&quot;, &quot;Shoes&quot;]</code></li>\n</ul>\n<h3 id=\"二つの配列間の差分\">二つの配列間の差分</h3>\n<p>このエンリッチメントは、二つの配列を入力として取り、最初の配列にはあるが二つ目の配列にはないすべての値を含む新しい配列を返します。この例では、<code>Wishlist Products</code>から<code>Purchased Products</code>にも存在しない値が結果の配列に追加されます。</p>\n<p><strong>属性名</strong>： <code> Unpurchased Products</code></p>\n<ul>\n<li><strong>開始値</strong>： <code>[]</code></li>\n<li><strong>エンリッチメント</strong>：<br>\n差分：Wishlist Products  <code>[&quot;Pants&quot;, &quot;Shirt&quot;, &quot;Shoes&quot;, &quot;Belt&quot;]</code> と Purchased Products <code>[&quot;Pants&quot;, &quot;Shirt&quot;]</code></li>\n<li><strong>結果の値</strong>： <code>[&quot;Shoes&quot;, &quot;Belt&quot;]</code></li>\n</ul>\n<p>この例は、結果の属性値が置き換えられ、追加されず、最初の配列の重複した値が削除されることを示しています。</p>\n<ul>\n<li><strong>開始値</strong>： <code>[7, 8, 9]</code></li>\n<li><strong>エンリッチメント</strong>：  差分：Some Numbers <code>[1, 3, 1, 2, 3]</code> と Some Other Numbers <code>[3]</code></li>\n<li><strong>結果の値</strong>： <code>[1, 1, 2]</code></li>\n</ul>\n<h3 id=\"リセット\">リセット</h3>\n<p>このエンリッチメントは、配列からすべての値を削除します。</p>\n<p><strong>属性名</strong>： <code>product_name</code></p>\n<ul>\n<li><strong>開始値</strong>： <code>[&quot;Shoes&quot;, &quot;Belt&quot;]</code></li>\n<li><strong>エンリッチメント</strong>：</li>\n<li><strong>結果の値</strong>： (削除済み)</li>\n</ul>\n<h3 id=\"小文字化\">小文字化</h3>\n<p>このエンリッチメントは、配列内のすべての値を小文字にします。</p>\n<p><strong>属性名</strong>： <code>product_name</code></p>\n<ul>\n<li><strong>開始値</strong>： <code>[&quot;Shoes&quot;, &quot;BELT&quot;]</code></li>\n<li><strong>エンリッチメント</strong>：</li>\n<li><strong>結果の値</strong>： <code>[&quot;shoes&quot;, &quot;belt&quot;]</code></li>\n</ul>\n<h3 id=\"文字列のセットに構成\">文字列のセットに構成</h3>\n<p>文字列の配列を文字列のセットに構成します。このエンリッチメントは、配列内のすべての値を置き換えます。</p>\n<p><strong>属性名</strong>： <code>Active Browser Types</code></p>\n<ul>\n<li><strong>開始値</strong>： <code>[&quot;IE&quot;]</code></li>\n<li><strong>エンリッチメント</strong>： <code>[&quot;Chrome&quot; &quot;FireFox&quot;, &quot;Opera&quot;]</code></li>\n<li><strong>結果の値</strong>： <code>[&quot;Chrome&quot; &quot;FireFox&quot;, &quot;Opera&quot;]</code></li>\n</ul>\n<h3 id=\"文字列のセットの追加\">文字列のセットの追加</h3>\n<p>文字列のセットを文字列の配列に追加します。このエンリッチメントは、配列内の既存の値を保持するため、結果の値には重複した項目が存在する可能性があります。</p>\n<p><strong>属性名</strong>： <code>product_name</code></p>\n<ul>\n<li><strong>開始値</strong>： <code>[&quot;Pants&quot;]</code></li>\n<li><strong>エンリッチメント</strong>： <code>[&quot;Pants&quot;, &quot;Shoes&quot;, &quot;Ties&quot;]</code></li>\n<li><strong>結果の値</strong>： <code>[&quot;Pants&quot;, &quot;Pants&quot;, &quot;Shoes&quot;, &quot;Ties&quot;]</code></li>\n</ul>\n<h3 id=\"配列から文字列の削除\">配列から文字列の削除</h3>\n<p>削除する文字列の最初、最後、またはすべてのインスタンスを指定します。このエンリッチメントは、削除対象として選択された項目のすべてのインスタンスを配列から削除します。</p>\n<p><strong>属性名</strong>： <code>product_name</code></p>\n<ul>\n<li><strong>開始値</strong>： <code>[&quot;Pants&quot;, &quot;Pants&quot;, &quot;Shoes&quot;, &quot;Ties&quot;]</code></li>\n<li><strong>エンリッチメント</strong>： <code>&quot;Pants&quot;</code></li>\n<li><strong>結果の値</strong>： <code>[&quot;Shoes&quot;, &quot;Ties&quot;]</code></li>\n</ul>\n"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/string/",
            "title": "文字列属性",
            "body": "<h2 id=\"仕組み\">仕組み</h2>\n<p>文字列は、名前や郵便番号などの顧客情報、注文IDや配送方法などの注文情報、サイトセクションやサイト言語などのサイト情報に使用されます。</p>\n<p>文字列属性は次の範囲で利用可能です：イベント、訪問、訪問。</p>\n<figure><a class=\"slb\" href=\"/images/server-side/attribute-scopes-table-all.png\"><img src=\"https://docs.tealium.com/images/server-side/attribute-scopes-table-all.png\"\n         alt=\"attribute-scopes-table-all.png\"\n         title=\"attribute-scopes-table-all.png\"/>\n    </a>\n</figure>\n<h3 id=\"サイズ制限\">サイズ制限</h3>\n<p>EventStreamの文字列属性の最大長は1,500文字です。この制限を超えると、文字列は1,500文字に切り捨てられます。</p>\n<p>AudienceStreamの文字列属性値の最大長は1,000文字です。エンリッチメントが1,000文字を超える文字列を生成した場合、その値は保存されません。</p>\n<p>文字列属性はまた、暗号化と圧縮後のプロファイルの最大サイズ（400 KB）によって制限されます。</p>\n<h2 id=\"エンリッチメント\">エンリッチメント</h2>\n<p>以下のエンリッチメントが文字列属性に利用可能です。</p>\n<h3 id=\"文字列の構成\">文字列の構成</h3>\n<p>このエンリッチメントは、文字列属性の値を構成します。これは、提供した定数値から、または別の文字列属性の値から構成できます。ソース値は文字列、iQ変数、またはOmnichannel属性のみ可能です。</p>\n<p><strong>属性名</strong>：<code>customer_type</code></p>\n<ul>\n<li><strong>開始値</strong>：<code>&quot;&quot;</code></li>\n<li><strong>エンリッチメント</strong>：<code>&quot;unknown&quot;</code></li>\n<li><strong>結果の値</strong>：<code>&quot;unknown&quot;</code></li>\n</ul>\n<h3 id=\"文字列の分割\">文字列の分割</h3>\n<p>このエンリッチメントでは、分布パーセントに基づいて複数の値を構成することができます。構成する各値にはパーセンテージ構成もあります。複数の値/パーセンテージエントリが存在することができますが、分布は合計で100%でなければなりません。分布はランダムな数値ジェネレータに基づいているため、小さなサンプルでは分布と一致しない場合がありますが、より多くの値が割り当てられるにつれて分布比率はより正確になります。ソース値は文字列、iQ変数、またはOmnichannel属性のみ可能です。</p>\n<p>この例では、属性名<code>test_group</code>を使用して、ユーザーを&quot;GroupA&quot;と&quot;GroupB&quot;という2つの等しいグループ（50/50）に分けます。この属性は、各グループに関連する活動を識別するために使用できます。</p>\n<p><strong>属性名</strong>：<code>test_group</code></p>\n<ul>\n<li><strong>開始値</strong>：<code>&quot;&quot;</code></li>\n<li><strong>結果の値</strong>：文字列の人口の<code>50%</code>に対して文字列の値を<code>&quot;GroupA&quot;</code>に構成<br> 文字列の人口の<code>50%</code>に対して文字列の値を<code>&quot;GroupB&quot;</code>に構成</li>\n</ul>\n<p>参照：<a href=\"https://support.tealiumiq.com/en/support/solutions/articles/36000363487-enrichment-example-split-string\">エンリッチメント例：文字列の分割</a></p>\n<h3 id=\"文字列の削除\">文字列の削除</h3>\n<p>このエンリッチメントは、属性から全ての値を削除します。</p>\n<ul>\n<li><strong>開始値</strong>：<code>&quot;Jane Smith&quot;</code></li>\n<li><strong>結果の値</strong>：（削除）</li>\n</ul>\n<h3 id=\"文字列の小文字化\">文字列の小文字化</h3>\n<p>このエンリッチメントは、文字列属性の現在の値を小文字にします。</p>\n<p><strong>属性名</strong>：<code>email_address</code></p>\n<ul>\n<li><strong>開始値</strong>：<code>&quot;First.Last@Example.com&quot;</code></li>\n<li><strong>結果の値</strong>：<code>&quot;first.last@example.com&quot;</code></li>\n</ul>\n<h3 id=\"属性の結合\">属性の結合</h3>\n<p>このエンリッチメントは、デリミタを使用して複数の値を結合し、単一のテキスト値を形成します。デリミタは1文字以上であることができます。例えば、<code>site_section</code>、<code>page_category</code>、その他のページレベルの属性を組み合わせて、ページ階層値を作成することができます。</p>\n<p><strong>属性名</strong>：<code>page_path</code></p>\n<ul>\n<li><strong>開始値</strong>：<code>&quot;&quot;</code></li>\n<li><strong>エンリッチメント</strong>：<br>\n属性1：<code>site_region=&quot;en-us&quot;</code><br>\n属性2：<code>site_section=&quot;Electronics&quot;</code><br>\n属性3：<code>category_name=&quot;Tablets&quot;</code><br>\nデリミタ：<code>&quot;:&quot;</code></li>\n<li><strong>結果の値</strong>：<code>&quot;en-us:Electronics:Tablets&quot;</code></li>\n</ul>\n<h3 id=\"文字列を日付に構成\">文字列を日付に構成</h3>\n<p>このエンリッチメントは、文字列属性の値を日付に変換し、カスタムフォーマットを許可します（<a href=\"/ja/server-side/attributes/data-types/date/\">日付フォーマッタについて詳しく学ぶ</a>）。ソース値は日付、文字列、iQ変数、またはファイルインポート属性であることができます。</p>\n<p><strong>属性名</strong>：<code>last_purchase_date</code></p>\n<ul>\n<li><strong>開始値</strong>：<code>&quot;&quot;</code></li>\n<li><strong>エンリッチメント</strong>：フォーマット<code>&quot;yyy-MM-dd&quot;</code>での最終ログイン日</li>\n<li><strong>結果の値</strong>：<code>&quot;2019-12-31&quot;</code></li>\n</ul>\n"
        }  

    ]
}
