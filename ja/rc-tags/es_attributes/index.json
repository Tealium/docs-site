
{
    "kind": "term",
    "name": "es_attributes",
    "count": 10,
    "items": [

    
        {
            "weight": "10",
            "url": "https://docs.tealium.com/ja/server-side/attributes/about/",
            "title": "属性について",
            "body":"<p>属性は実装の基盤であり、お客様の行動やブランドとのやり取りを定義するために使用されます。属性は訪問のプロパティ、訪問のセッション、収集されたイベントを定義します。属性の一般的な例としては、メールアドレス、会員ID、商品カテゴリ、最終訪問日、アクティブブラウザなどがあります。</p><p>各プロファイルには、最大500の訪問と訪問属性を含めることができます。現在の属性合計は<strong>訪問/訪問属性</strong>画面で確認できます：</p><figure><a class=\"slb\" href=\"/images/server-side/attributes/count-of-attributes.png\"><img src=\"https://docs.tealium.com/images/server-side/attributes/count-of-attributes.png\"         alt=\"属性の数の位置\"         title=\"属性の数の位置\"/>    </a></figure><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>プロファイルに500以上の属性が必要な場合は、カスタマーサクセスマネージャーに連絡してください。</p><h2 id=\"スコープ\">スコープ</h2><p>スコープとは、属性がリアルタイムでどの程度持続するかを指します。</p><p>以下の表は、サポートされているスコープを一覧しています：</p><table><thead><tr><th>スコープ</th><th>説明 / 例</th><th>用途</th></tr></thead><tbody><tr><td>イベント</td><td>ページ、コンテンツ、お客様が行っているリアルタイムのアクションを説明する個々のイベントに関連する属性。例：ページ名、商品価格、イベント名、注文合計など。</td><td><strong>属性ソース</strong><br> イベント属性は以下の値から取得されます：<br> <ul><li><strong>ユニバーサル変数</strong> <a href=\"/ja/platforms/javascript/universal-data-object/\">ユニバーサルデータオブジェクト</a></li><li><strong>Javascriptページ変数</strong> グローバルJavaScript変数（ブラウザ）</li><li><strong>HTMLメタデータ</strong> メタデータタグ（ブラウザ）</li><li><strong>ファーストパーティクッキー</strong> ブラウザクッキー</li><li><strong>クエリストリングパラメータ</strong> 現在のページのURLクエリストリング（ブラウザ）</li></ul></td></tr><tr><td>訪問</td><td>特定の訪問（またはセッション）についての属性。データは訪問の長さにわたって持続します。例：訪問の長さ、使用ブラウザ、参照URL、カートに入れた商品。</td><td>これらの属性は、単一のデバイス上での現在のセッションからの訪問の活動を表します。訪問属性はセッションの長さにわたって持続します。詳細は<a href=\"#session-length\">セッションの長さ</a>を参照してください。</td></tr><tr><td>訪問</td><td>全ての訪問を通じて特定の訪問についての属性。例：メールアドレス、会員ID、ライフタイムオーダー合計、カテゴリビュー。</td><td>このデータは訪問をセッションからセッション、異なるデバイス間で追跡します。訪問のデータは現在の訪問が終了した後も持続します。</td></tr><tr><td>オムニチャネル</td><td>オムニチャネルサービスを通じてオフラインデータをインポートするためのもの。このスコープではデータタイプは必要ありません。</td><td><a href=\"/ja/server-side/data-sources/file-import/about/\">オムニチャネル</a>属性は、ファイルインポートを定義するときに定義されます。</td></tr></tbody></table><h3 id=\"セッションの長さ\">セッションの長さ</h3><p>セッションの長さは、AudienceStreamが訪問を終了するタイミングを決定します。新しいイベントがない状態でセッションの長さに達すると、訪問は終了し、AudienceStreamは訪問終了時の処理を行います。訪問からの次のイベントは新しい訪問を開始します。AudienceStreamの最大訪問時間は、イベントの活動に関係なく24時間です。</p><p>AudienceStreamでは、デフォルトのセッションの長さは、イベントを送信するプラットフォームに基づいて構成されます：</p><ul><li><strong>Web</strong>: 30分（1つのイベントで追加のイベントがない場合は10分）</li><li><strong>モバイルアプリ</strong>: 2分</li><li><strong>オムニチャネル</strong>: 1分</li><li><strong>ファイルインポート</strong>: 1分</li><li><strong>Collect API</strong>: 30分</li></ul><p>プラットフォームは、以下の値に従って予約属性名<code>platform</code>に基づいています：</p><ul><li><strong>Web</strong> - <code>platform</code>は<code>web</code>に構成されているか、構成されていません。</li><li><strong>モバイル</strong> - <code>platform</code>は<code>android</code>,<code>ios</code>,<code>win</code>,<code>bb10</code>,<code>native_mobile</code>のいずれかに構成されています。</li></ul><p>セッションの長さをカスタマイズするには、セッションの最初のイベントでデータレイヤー変数<code>_dc_ttl_</code>をミリ秒単位の値に構成します。例えば、セッションの長さを5分に構成するには、イベントに以下のように追加します：<code>&quot;_dc_ttl_&quot;: 300000</code>。セッションの長さは構成後に変更することはできません。</p><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>カスタムの長さを構成するには、<code>platform</code>変数を省略する必要があります。<code>platform</code>にカスタム値を構成すると、セッションの長さはデフォルトの30分になります。</p><h2 id=\"データタイプ\">データタイプ</h2><p>属性には、基本的な数値からより強力な集計とバッジまで、さまざまなタイプがあります。データタイプは、属性値が格納される形式を決定します。</p><p>以下のデータタイプがサポートされています：</p><table><thead><tr><th>データタイプ</th><th>説明</th></tr></thead><tbody><tr><td><a href=\"/ja/server-side/attributes/data-types/number/\">Number</a></td><td>注文合計、ライフタイムイベント数、最終訪問からの日数などの数値を保存します。</td></tr><tr><td><a href=\"/ja/server-side/attributes/data-types/string/\">String</a></td><td>名前/姓、住所、お気に入りの商品、ページ名などのテキスト値を保存します。</td></tr><tr><td><a href=\"/ja/server-side/attributes/data-types/boolean/\">Boolean</a></td><td>&rsquo;true&rsquo;と&rsquo;false&rsquo;の2つの値のうちの1つだけを保存します。<a href=\"/ja/server-side/attributes/data-types/boolean/\">Boolean</a>は、訪問のアクションや訪問のステータスを示すために使用できます。</td></tr><tr><td><a href=\"/ja/server-side/attributes/data-types/arrays/array-of-numbers/\">Array of Numbers</a></td><td>複数の数値を<a href=\"/ja/server-side/attributes/data-types/arrays/array-of-numbers/\">array</a>として保存します。配列には一意または重複した数値が含まれることがあります。</td></tr><tr><td><a href=\"/ja/server-side/attributes/data-types/arrays/arrays/\">Array of Strings</a></td><td>複数の文字列値を配列として保存します。配列には一意または重複した文字列が含まれることがあります。</td></tr><tr><td><a href=\"/ja/server-side/attributes/data-types/arrays/array-of-booleans/\">Array of Booleans</a></td><td>複数のブール値を配列として保存します。配列には一意または重複したブール値が含まれることがあります。</td></tr><tr><td><a href=\"/ja/server-side/attributes/data-types/tally/\">Tally</a></td><td>1つ以上のキー-値のペアを保存します。</td></tr><tr><td><a href=\"/ja/server-side/attributes/data-types/set-of-strings/\">Set of Strings</a></td><td>一意の文字列値のコレクションをセットとして保存します。</td></tr><tr><td><a href=\"/ja/server-side/attributes/data-types/date/\">Date</a></td><td>イベントの日付、訪問のイベント、特定の訪問の日付を保存します。</td></tr><tr><td><a href=\"/ja/server-side/attributes/data-types/funnel/\">Funnel</a></td><td>支払いファネルや登録などのマルチステップイベントの各ステップのステータスを追跡します。</td></tr><tr><td><a href=\"/ja/server-side/attributes/data-types/timeline/\">Timeline</a></td><td>時間範囲内の訪問のアクションの全ての発生を記録します。</td></tr><tr><td><a href=\"/ja/server-side/attributes/data-types/badge/\">Badge</a></td><td>特定の基準やブラウジング行動を満たす訪問に視覚的なマークやシンボルを割り当てます。</td></tr><tr><td><a href=\"/ja/server-side/visitor-stitching/visitor-id-attribute/\">Visitor ID</a></td><td>訪問のユニークな特性をその二次識別子として保存します。</td></tr></tbody></table><h3 id=\"スコープとデータタイプのマトリックス\">スコープとデータタイプのマトリックス</h3><p>このマトリックスは、各スコープで利用可能なデータタイプを示しています。</p><table><thead><tr><th>データタイプ</th><th>訪問スコープ</th><th>訪問スコープ</th><th>イベントスコープ</th></tr></thead><tbody><tr><td>Number</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td>String</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td>Boolean</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td>Array of Numbers</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td>Array of Strings</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td>Array of Booleans</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td>Tally</td><td>✔</td><td>✔</td><td></td></tr><tr><td>Set of Strings</td><td>✔</td><td>✔</td><td></td></tr><tr><td>Date</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td>Funnel</td><td>✔</td><td>✔</td><td></td></tr><tr><td>Timeline</td><td>✔</td><td>✔</td><td></td></tr><tr><td>Badge</td><td>✔</td><td></td><td></td></tr><tr><td>Visitor ID</td><td>✔</td><td></td><td></td></tr></tbody></table><h2 id=\"属性id\">属性ID</h2><p>すべてのイベント、訪問、訪問属性には一意の属性識別子があります。このIDの値は、エンリッチメントが実行される順序に影響を与える可能性があり、より複雑なデータソースや訪問のスティッチング構成に必要となる場合があります。</p><p>属性IDは、属性リストの属性名の隣や、詳細を展開した中にあります。</p><p><strong>イベント属性</strong><figure><a class=\"slb\" href=\"/images/server-side/event-attribute-id.png\"><img src=\"https://docs.tealium.com/images/server-side/event-attribute-id.png\"         alt=\"イベント属性IDの位置\"         title=\"イベント属性IDの位置\"/>    </a></figure></p><p><strong>訪問属性</strong><figure><a class=\"slb\" href=\"/images/server-side/visitor-attribute-id.png\"><img src=\"https://docs.tealium.com/images/server-side/visitor-attribute-id.png\"         alt=\"訪問属性IDの位置\"         title=\"訪問属性IDの位置\"/>    </a></figure></p><h2 id=\"サイズ制限\">サイズ制限</h2><p>EventStreamとAudienceStreamのほとんどの属性には、保存容量の制限があり、その制限を超えた場合の特定の動作があります。訪問プロファイル全体には、圧縮および暗号化された状態で400KBの制限があります。</p><h3 id=\"イベント属性\">イベント属性</h3><table><thead><tr><th>属性</th><th>保存容量制限</th><th>制限超過時の動作</th></tr></thead><tbody><tr><td><strong>Strings</strong></td><td>1,500文字</td><td>制限を超える場合、文字列は1,500文字に切り捨てられます。</td></tr><tr><td><strong>Arrays of any type</strong></td><td>30,000エントリ</td><td>属性が制限を超えて構成または更新された場合、属性は30,000エントリに切り捨てられて構成されます。</td></tr><tr><td><strong>Dates</strong></td><td>最小: &ldquo;-292275055-05-16T16:47:04.192Z&rdquo; 最大: &ldquo;+292278994-08-17T07:12:55.807Z&rdquo;</td><td></td></tr><tr><td><strong>Numbers</strong></td><td><code>java.lang.Number</code>で表現され、動的な精度を持ちます。</td><td></td></tr></tbody></table><h3 id=\"訪問訪問属性\">訪問/訪問属性</h3><table><thead><tr><th>属性</th><th>保存容量制限</th><th>制限超過時の動作</th></tr></thead><tbody><tr><td><strong>Strings</strong></td><td>1,000文字</td><td>エンリッチメントが1,000文字を超える文字列を結果として生じる場合、その値は保存されません。</td></tr><tr><td><strong>Timelines</strong></td><td>100エントリ</td><td>限度に達したときに最初のエントリが破棄されます（先入れ先出し）。例えば、タイムラインに100のエントリが含まれていて、新しいエントリが追加された場合、最初のエントリが削除されます。</td></tr><tr><td><strong>Tallies</strong></td><td>30,000エントリ.</td><td>属性が構成または更新されて限度を超えると、属性は30,000エントリにトリムされて構成されます。</td></tr><tr><td><strong>任意のタイプの配列</strong></td><td>30,000エントリ.</td><td>属性が構成または更新されて限度を超えると、属性は30,000エントリにトリムされて構成されます。</td></tr><tr><td><strong>文字列のセット</strong></td><td>30,000エントリ.</td><td>属性が構成または更新されて限度を超えると、属性は30,000エントリにトリムされて構成されます。</td></tr><tr><td><strong>Dates</strong></td><td>最小: &ldquo;-292275055-05-16T16:47:04.192Z&rdquo; 最大: &ldquo;+292278994-08-17T07:12:55.807Z&rdquo;</td><td></td></tr><tr><td><strong>Numbers</strong></td><td><code>java.lang.Number</code>で表現され、動的な精度を持っています。</td><td></td></tr><tr><td><strong>Visitor ID</strong></td><td>2 KB</td><td>ビジターIDが2 KBを超える場合、レコードは保存されません。</td></tr><tr><td><strong>Funnel</strong></td><td>制限なし*</td><td></td></tr></tbody></table><p>*制限はありませんが、属性はプロファイルの最大サイズ（暗号化と圧縮後の400 KB）によって制限されます。</p><h2 id=\"iqタグ管理からインポートされた属性\">iQタグ管理からインポートされた属性</h2><p>インポートされた属性とは、元々対応するTealium iQプロファイルで作成された変数です。Tealium iQの変数は、同名のサーバーサイドプロファイルに利用可能で、イベントスコープの属性としてインポートされます。Tealium iQで変数を変更（および公開）すると、変更は即座にEventStreamの対応する属性に適用されます。</p><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>インポートされた属性は編集できません。それらを管理するにはTealium iQを使用してください。</p><p>Tealium iQの変数がEventStreamに表示されない場合は、Tealium iQの変数がサーバーサイドプロファイルに対応するTealium iQプロファイルに存在し、変数が保存および公開されていることを確認してください。変数の変更を公開した後に、ブラウザでEventStreamのページを更新してください。サーバーサイドでTealium iQの変数を利用可能にする方法についての支援が必要な場合は、Tealiumサポートに連絡してください。</p><h3 id=\"制限されたデータ\">制限されたデータ</h3><p>このプロパティは、システムから送信されるべきでないデータを含む属性を識別するために使用されます。例えば、サードパーティの<a href=\"/ja/server-side/connectors/about/\">Connectors</a>や<a href=\"/ja/server-side/data-storage/about/\">DataAccess</a>などです。<a href=\"/ja/server-side/attributes/restricted-data/\">Restricted Data</a>について詳しく学びましょう。</p><h3 id=\"ルール\">ルール</h3><p>ルールは、エンリッチメントをトリガーするための追加のロジックを提供します。</p><ul><li><p>事前定義されたルールを適用するには、ドロップダウンリストから選択し、<strong>Add Rule</strong>をクリックします。<br><p class=\"tip\"><i class=\"fa fa-info-circle\"></i>エンリッチメントのダイアログボックスを通じて新しいルールを作成すると、それが自動的にエンリッチメントに適用されます。</p></p></li><li><p>新しいルールを適用するには、<strong>Create Rule</strong>をクリックします。<br><figure><a class=\"slb\" href=\"/images/server-side/whiteui-using-attributes-rules.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-using-attributes-rules.png\"/>          </a>      </figure></p></li></ul><h2 id=\"事前読み込みされた属性\">事前読み込みされた属性</h2><p>AudienceStreamとEventStreamには、訪問や訪問に関する有用な情報を決定するのに役立つ統計情報で事前に構成された訪問と訪問の属性のセットが含まれています。</p><p>これらの属性についての詳細は、<a href=\"/ja/server-side/attributes/preloaded/\">Preloaded attributes</a>を参照してください。</p>"
        }  

    , 
        {
            "weight": "13",
            "url": "https://docs.tealium.com/ja/server-side/attributes/preloaded/",
            "title": "プリロードされた属性",
            "body":"<h2 id=\"プリロードされた属性\">プリロードされた属性</h2><p>便宜上、AudienceStreamとEventStreamには、プリロードされた訪問と訪問者の属性のセットが含まれています。各属性は、訪問者や訪問について有用な情報を決定するのに役立つ統計情報で事前に設定されています。これらの属性は、<a href=\"/ja/client-side-tags/tealium-collect-tag/\">Tealium Collect tag</a>からの標準的なウェブトラフィックデータを超える訪問者からの追加情報を必要としません。</p><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>プリロードされた属性は変更することはできませんが、それらを複製してコピーを変更することはできます。複製は、オリジナルのすべてのエンリッチメントとルールを含んでいます。</p><h3 id=\"訪問者の属性\">訪問者の属性</h3><table><thead><tr><th>訪問者の属性</th><th>ID</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>平均訪問時間（分）</td><td>26</td><td>数値</td><td>訪問の平均時間（分）</td></tr><tr><td>週あたりの平均訪問回数</td><td>29</td><td>数値</td><td>週あたりの平均訪問回数</td></tr><tr><td>ファン</td><td>30</td><td>バッジ</td><td>訪問者は2回以上訪問し、直接訪問が紹介よりも多い。</td></tr><tr><td>初回訪問</td><td>23</td><td>日付</td><td>初回訪問の日付</td></tr><tr><td>頻繁な訪問者</td><td>31</td><td>バッジ</td><td>訪問者は平均して週に2回以上訪問しています。</td></tr><tr><td>最後のイベントURL</td><td>17</td><td>文字列</td><td>訪問者の最後のイベントURL</td></tr><tr><td>最後の訪問</td><td>24</td><td>日付</td><td>最後の訪問の日付</td></tr><tr><td>使用したブラウザの種類の合計</td><td>57</td><td>集計</td><td>各種類のブラウザが使用された回数の集計</td></tr><tr><td>使用したブラウザの種類の合計（お気に入り）</td><td>56</td><td>文字列</td><td>使用したブラウザの種類の属性の中でのお気に入りの項目</td></tr><tr><td>使用したブラウザのバージョンの合計</td><td>63</td><td>集計</td><td>使用したブラウザのバージョンの集計</td></tr><tr><td>使用したブラウザのバージョンの合計（お気に入り）</td><td>62</td><td>文字列</td><td>使用したブラウザのバージョンの属性の中でのお気に入りの項目</td></tr><tr><td>使用したデバイスの合計</td><td>55</td><td>集計</td><td>使用したデバイスの集計</td></tr><tr><td>使用したデバイスの合計（お気に入り）</td><td>54</td><td>文字列</td><td>使用したデバイスの属性の中でのお気に入りの項目</td></tr><tr><td>ライフタイムイベント数</td><td>22</td><td>数値</td><td>ユーザーがトリガーしたイベントの総数</td></tr><tr><td>使用したオペレーティングシステムの合計</td><td>59</td><td>集計</td><td>使用したオペレーティングシステムの集計</td></tr><tr><td>使用したオペレーティングシステムの合計（お気に入り）</td><td>58</td><td>文字列</td><td>使用したオペレーティングシステムの属性の中でのお気に入りの項目</td></tr><tr><td>使用したプラットフォームの合計</td><td>61</td><td>集計</td><td>使用したプラットフォームの集計</td></tr><tr><td>使用したプラットフォームの合計（お気に入り）</td><td>60</td><td>文字列</td><td>使用したプラットフォームの属性の中でのお気に入りの項目</td></tr><tr><td>ライフタイム訪問数</td><td>21</td><td>数値</td><td>ユーザーがサイトを訪問した総回数</td></tr><tr><td>リターニングビジター</td><td>27</td><td>バッジ</td><td>訪問者はリターニングビジターです。</td></tr><tr><td>直接訪問の合計</td><td>15</td><td>数値</td><td>直接訪問の総数</td></tr><tr><td>紹介訪問の合計</td><td>16</td><td>数値</td><td>紹介訪問の総数</td></tr><tr><td>サイトで過ごした合計時間（分）</td><td>25</td><td>数値</td><td>ユーザーの訪問の継続時間の合計</td></tr><tr><td>バッジなし</td><td>32</td><td>バッジ</td><td>訪問者にはバッジが割り当てられていません。</td></tr><tr><td>初回訪問からの経過週数</td><td>28</td><td>数値</td><td>初回訪問からの経過週数</td></tr></tbody></table><h3 id=\"訪問の属性\">訪問の属性</h3><table><thead><tr><th>訪問の属性</th><th>ID</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>アクティブなブラウザの種類</td><td>44</td><td>文字列</td><td>訪問者が現在使用しているブラウザの種類</td></tr><tr><td>アクティブなブラウザの種類</td><td>49</td><td>文字列のセット</td><td>この訪問で使用されたブラウザの種類の重複なしリスト</td></tr><tr><td>アクティブなブラウザのバージョン</td><td>48</td><td>文字列</td><td>訪問者が現在使用しているブラウザのバージョン</td></tr><tr><td>アクティブなブラウザのバージョン</td><td>53</td><td>文字列のセット</td><td>この訪問で使用されたブラウザのバージョンの重複なしリスト</td></tr><tr><td>アクティブなデバイス</td><td>46</td><td>文字列</td><td>訪問者が現在使用しているデバイス</td></tr><tr><td>アクティブなデバイス</td><td>51</td><td>文字列のセット</td><td>この訪問で使用されたデバイスの重複なしリスト</td></tr><tr><td>アクティブなオペレーティングシステム</td><td>45</td><td>文字列</td><td>訪問者が現在使用しているオペレーティングシステム</td></tr><tr><td>アクティブなオペレーティングシステム</td><td>50</td><td>文字列のセット</td><td>この訪問で使用されたオペレーティングシステムの重複なしリスト</td></tr><tr><td>アクティブなプラットフォーム</td><td>47</td><td>文字列</td><td>訪問者が現在使用しているプラットフォーム</td></tr><tr><td>アクティブなプラットフォーム</td><td>52</td><td>文字列のセット</td><td>この訪問で使用されたプラットフォームの重複なしリスト</td></tr><tr><td>直接訪問</td><td>14</td><td>ブール値</td><td>ユーザーは直接サイトにアクセスしました。</td></tr><tr><td>エントリーURL</td><td>5</td><td>文字列</td><td>最初に訪れたページのURL</td></tr><tr><td>イベント数</td><td>7</td><td>数値</td><td>この訪問でのイベントの総数</td></tr><tr><td>エグジットURL</td><td>6</td><td>文字列</td><td>最後に訪れたページのURL</td></tr><tr><td>紹介訪問</td><td>13</td><td>ブール値</td><td>ユーザーは他のサイトから紹介されました。</td></tr><tr><td>訪問の期間</td><td>12</td><td>数値</td><td>この訪問の期間</td></tr><tr><td>訪問の終了</td><td>11</td><td>日付</td><td>この訪問の終了日</td></tr><tr><td>訪問の開始</td><td>10</td><td>日付</td><td>この訪問の開始日</td></tr></tbody></table><h3 id=\"イベントの属性\">イベントの属性</h3><table><thead><tr><th>イベントの属性</th><th>ID</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>クライアントIP</td><td>74</td><td>文字列</td><td>クライアントのIPアドレス</td></tr><tr><td>現在のURL</td><td>4</td><td>文字列</td><td>現在のページのURL</td></tr><tr><td>ドメイン</td><td>35</td><td>文字列</td><td>現在のページのドメイン</td></tr><tr><td>event_name</td><td>64</td><td>文字列</td><td>この属性は廃止されました。代わりに<code>tealium_event</code>を使用してください。</td></tr><tr><td>最後のイベントのタイムスタンプ</td><td>8</td><td>文字列</td><td>最後のイベントのタイムスタンプ</td></tr><tr><td>ページタイトル</td><td>38</td><td>文字列</td><td>現在のページのタイトル</td></tr><tr><td>パス名</td><td>36</td><td>文字列</td><td>現在のページのパス名</td></tr><tr><td>プラットフォーム</td><td>40</td><td>文字列</td><td>クライアントのプラットフォーム</td></tr><tr><td>クエリストリング</td><td>37</td><td>文字列</td><td>現在のページのクエリストリング</td></tr><tr><td>リファリングURL</td><td>3</td><td>文字列</td><td>前のページのURL</td></tr><tr><td>tealium_account</td><td>66</td><td>文字列</td><td>アカウント名</td></tr><tr><td>tealium_datasource</td><td>70</td><td>文字列</td><td>データソースキー</td></tr><tr><td>tealium_environment</td><td>67</td><td>文字列</td><td>公開環境</td></tr><tr><td>tealium_event</td><td>75</td><td>文字列</td><td>Tealiumのイベント名（<code>view</code>または<code>link</code>）</td></tr><tr><td>tealium_event_type</td><td>78</td><td>文字列</td><td>発行されているTealiumイベントのタイプ（<code>view</code>または<code>event</code>）</td></tr><tr><td>tealium_firstparty_visitor_id</td><td>76</td><td>文字列</td><td>ファーストパーティクッキーによって提供された訪問者ID</td></tr><tr><td>tealium_library_name</td><td>68</td><td>文字列</td><td>ライブラリ名</td></tr><tr><td>tealium_library_version</td><td>69</td><td>文字列</td><td>ライブラリのバージョン</td></tr><tr><td>tealium_library_profile</td><td>79</td><td>文字列</td><td>アカウントプロファイル</td></tr><tr><td>tealium_random</td><td>65</td><td>数値</td><td>この値は、プラットフォームが各イベントに対して生成したランダムな数値です。期待される値は16桁の数値です。この値は16桁未満の場合はゼロで埋められます。</td></tr><tr><td>tealium_session_id</td><td>71</td><td>数値</td><td>この値は、最初のページビュー、イベント、またはライブラリの起動が完了したときのエポックタイムスタンプ（ミリ秒単位）です。この値は、ウェブ上で30分間活動がない場合にリセットされます。</td></tr><tr><td>tealium_thirdparty_visitor_id</td><td>77</td><td>文字列</td><td>サードパーティクッキーによって提供された訪問者ID</td></tr><tr><td>tealium_timestamp_epoch</td><td>73</td><td>数値</td><td>この値は、イベントが発生したときの時間（秒単位）です。イベントがキューに入れられた場合、この値はイベントが元々発生した時間です。</td></tr><tr><td>tealium_visitor_id</td><td>72</td><td>文字列</td><td>この値は生成されたUUIDで、AudienceStreamでは大文字と小文字が区別されます。この値は以前は<code>vdata</code>の呼び出しで<code>tealium_vid</code>でした。</td></tr><tr><td>ユーザーエージェント</td><td>2</td><td>文字列</td><td>ユーザーエージェントの文字列</td></tr></tbody></table><h3 id=\"例\">例</h3><p>以下の例は、プリロードされた属性をどのように使用できるかを示しています：</p><ul><li><strong>頻繁な訪問者</strong>のバッジを使用してオーディエンスを作成し、そのオーディエンスにコネクタをアクションして「定期的に訪問していただきありがとうございます」というメールを送信します。</li><li>**使用したオペレーティングシステムの合計（お気に入り）**の属性を使用して、ページ上の特定のダウンロードの配置を変更し、より関連性の高いアプリを最初に表示します。</li><li><strong>直接訪問の合計</strong>と<strong>紹介訪問の合計</strong>を使用して、訪問者がサイトとどのように関わっているかを決定するための直接訪問と紹介訪問の比率を計算します。</li></ul>"
        }  

    , 
        {
            "weight": "30",
            "url": "https://docs.tealium.com/ja/server-side/attributes/enrichments/",
            "title": "エンリッチメントについて",
            "body":"<p>エンリッチメントとは、属性を静的な値から動的な値に変換するためのカスタムロジックの使用を指します。これは新しいデータ値を作成したり、受信データを変更したりするために使用されます。各データタイプには事前に構築されたエンリッチメントが用意されています。例えば、数値属性には数値を増減する機能が用意されています。</p><h2 id=\"リンクされたエンリッチメント\">リンクされたエンリッチメント</h2><p>2つ以上のエンリッチメントが同じ属性に依存している場合、それらは_リンクされたエンリッチメント_となります。以下の例は、訪問の開始と終了に適用されたエンリッチメントを示しています。<code>Visit Start</code>属性のエンリッチメントは<code>Visit End</code>属性を使用し、その逆も同様です。各エンリッチメントが属性によって他方にリンクされているため、それらはリンクされたエンリッチメントと見なされます。</p><figure><a class=\"slb\" href=\"/images/server-side/whiteui-usingenrichments-visitstart-and-visitend-linked-enrichments-combined-screens.png\"><img src=\"https://docs.tealium.com/images/server-side/whiteui-usingenrichments-visitstart-and-visitend-linked-enrichments-combined-screens.png\"         alt=\"UsingEnrichments_VisitStart and VisitEnd Linked Enrichments_Combined Screens\"         title=\"UsingEnrichments_VisitStart and VisitEnd Linked Enrichments_Combined Screens\"/>    </a></figure>"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/boolean/",
            "title": "ブーリアン属性",
            "body":"<p>ブーリアン属性は、条件の真偽値を格納するために使用されます。例えば、訪問がカートにアイテムを追加したかどうか、または特定のサイトのセクションを訪れたかどうかをブーリアンで格納できます。</p><p>ブーリアン属性は次のスコープで利用可能です：イベント、訪問、訪問。</p><figure><a class=\"slb\" href=\"/images/server-side/attribute-scopes-table-all.png\"><img src=\"https://docs.tealium.com/images/server-side/attribute-scopes-table-all.png\" width=\"400\" height=\"110\"/>    </a></figure><h2 id=\"ブーリアンのエンリッチメント\">ブーリアンのエンリッチメント</h2><h3 id=\"ブーリアンの構成\">ブーリアンの構成</h3><p>このエンリッチメントを使用して、ブーリアン属性を真または偽に構成します。</p><p>この例では、訪問がカートにアイテムを追加したかどうかを「カートに追加したか」という名前のブーリアン属性を使用して判断する方法を示しています。各訪問の開始時に属性を偽に構成し、<code>cart_add</code>イベントが発生するたびに真に構成します。</p><p>これを達成するために2つのエンリッチメントを作成します：</p><pre tabindex=\"0\"><code>構成値：偽いつ：新規訪問</code></pre><pre tabindex=\"0\"><code>構成値：真いつ：任意のイベントルール：tealium_event が &#34;cart_add&#34;と等しい</code></pre><p><strong>属性名:</strong> カートに追加したか</p><ul><li><strong>開始値</strong>: <code>&quot;&quot;</code></li><li><strong>エンリッチメントされた値</strong>: <code>真</code></li><li><strong>結果の値</strong> <code>真</code></li></ul>"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/arrays/array-of-booleans/",
            "title": "ブール値の配列",
            "body":"<p>ブール値の配列属性は、真偽値のリストを保存します。</p><p>ブール値の配列は次の範囲で利用可能です：イベント、訪問、訪問。</p><figure><a class=\"slb\" href=\"/images/server-side/screenshot-2019-11-11-at-1.24.29-pm.png\"><img src=\"https://docs.tealium.com/images/server-side/screenshot-2019-11-11-at-1.24.29-pm.png\"         alt=\"ブール値の配列\"         title=\"ブール値の配列\"/>    </a></figure><p class=\"tip\"><i class=\"fa fa-info-circle\"></i>文字列の &ldquo;true&rdquo; と &ldquo;false&rdquo;（大文字/小文字の混在）はそれぞれのブール値に変換されます。それ以外の非ブール値は無視されます。</p><h2 id=\"エンリッチメント\">エンリッチメント</h2><h3 id=\"ブール値の追加\">ブール値の追加</h3><p>このエンリッチメントは配列に値を追加します。追加される属性はブール値、iQ変数、またはオムニチャネル属性のみです。例えば、顧客が最後の訪問で購入したことを表すために、配列にブール値を追加することができます。</p><p><strong>属性名</strong>：<code>did_purchase_on_visit</code></p><ul><li><strong>開始値</strong>：<code>[true]</code></li><li><strong>エンリッチメント</strong>：<code>false</code></li><li><strong>結果の値</strong>：<code>[true, false]</code></li></ul><h3 id=\"ブール値の配列の追加\">ブール値の配列の追加</h3><p>このエンリッチメントは別の配列からすべての値を配列に追加します。追加される属性のタイプはブール値の配列またはiQ変数のみです。</p><p><strong>属性名</strong>：<code>my_booleans</code></p><ul><li><strong>開始値</strong>：<code>[true]</code></li><li><strong>エンリッチメント</strong>：<code>[false, true]</code></li><li><strong>結果の値</strong>：<code>[true, false, true]</code></li></ul><h3 id=\"リセット\">リセット</h3><p>このエンリッチメントはブール値の配列からすべての値を削除します。</p><p><strong>属性名</strong>：<code>did_purchase_on_visit</code></p><ul><li><strong>開始値</strong>：<code>[true, false, true]</code></li><li><strong>結果の値</strong>：<code>[]</code></li></ul>"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/arrays/array-of-numbers/",
            "title": "数値の配列",
            "body":"<p>数値の配列属性は、訪問、ページビュー、購入イベントなどのブラウジングメトリクスの数値リストを保存します。</p><p>数値は小数または整数として保存されます。あなたのニーズに合ったタイプを選択してください：</p><ul><li><p><strong>小数（デフォルト）</strong></p><ul><li>小数値は0以上の小数桁を持つことができます。</li><li>例：<code>12</code>、<code>12.0</code>、<code>12.345</code></li><li>金額を表す属性に推奨。</li></ul></li><li><p><strong>整数</strong></p><ul><li>保存されるのは整数値のみです。</li><li>例：<code>12</code>、<code>-4</code>、<code>3214</code></li><li>数量、カウンター、スコアを表す数値属性に便利。</li></ul></li></ul><p>数値の配列は次のスコープで利用可能です：イベント、訪問、訪問。</p><figure><a class=\"slb\" href=\"/images/server-side/screenshot-2019-11-11-at-1.24.29-pm.png\"><img src=\"https://docs.tealium.com/images/server-side/screenshot-2019-11-11-at-1.24.29-pm.png\"         alt=\"数値の配列\"         title=\"数値の配列\"/>    </a></figure><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>数値の文字列表現（<code>0</code>、<code>123</code>、<code>12.95</code>）はその数値に変換されます。その他の非数値は無視されます。</p><h2 id=\"エンリッチメント\">エンリッチメント</h2><h3 id=\"数値の追加\">数値の追加</h3><p>このエンリッチメントは、数値を配列に追加します。追加される属性は、数値、iQ変数、またはオムニチャネル属性のみ可能です。例えば、最後の購入価格を<code>purchase_total_history</code>値配列に追加することができます。</p><p><strong>属性名</strong>：<code>purchase_total_history</code></p><ul><li><strong>開始値</strong>：<code>[12.95]</code></li><li><strong>エンリッチメント</strong>：<code>5.99</code></li><li><strong>結果の値</strong>：<code>[12.95, 5.99]</code></li></ul><h3 id=\"数値の配列の追加\">数値の配列の追加</h3><p>このエンリッチメントは、別の配列からすべての値を配列に追加します。追加される属性タイプは、数値の配列またはiQ変数のみ可能です。例えば、購入した商品の価格の配列をすべての購入商品の価格の配列に追加することができます。</p><p><strong>属性名</strong>：<code>purchased_products_history</code></p><ul><li><strong>開始値</strong>：<code>[24.99, 12.95]</code></li><li><strong>エンリッチメント</strong>：<code>[5.99, 10.00]</code></li><li><strong>結果の値</strong>：<code>[24.99, 12.95, 5.99, 10.00]</code></li></ul><h3 id=\"リセット\">リセット</h3><p>このエンリッチメントは、配列からすべての値を削除します。例えば、最後の購入アイテムを最後の購入の配列から削除することができます。</p><p><strong>属性名</strong>：<code>purchase_total_history</code></p><ul><li><strong>開始値</strong>：<code>[12.95, 5.99]</code></li><li><strong>結果の値</strong>：<code>[]</code></li></ul><h3 id=\"2つの配列の差分を数値の配列に構成\">2つの配列の差分を数値の配列に構成</h3><p>このエンリッチメントは、2つの配列を入力として取り、一方に存在し他方に存在しない値を探し、それらを配列に挿入します。この例では、<code>Gift Card Amounts</code>から<code>Gift Cards Purchased</code>にも存在しない値が結果の配列に追加されます。</p><p><strong>属性名</strong>：<code>gift_card_not_purchased</code></p><ul><li><strong>開始値</strong>：<code>[]</code></li><li><strong>エンリッチメント</strong>：  差分：<code>Gift Card Amounts</code> <code>[5.00, 10.00, 25.00, 50.00, 100.00, 250.00]</code> と <code>Gift Cards Purchased</code> <code>[25.00, 50.00]</code></li><li><strong>結果の値</strong>：<code>[5.00, 10.00, 100.00, 250.00]</code></li></ul>"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/number/",
            "title": "数値属性",
            "body":"<p>数値属性は、訪問数、ページビュー数、イベント数などのブラウジングメトリクスの数値を保存します。一般的な例としては、ライフタイムバリュー、注文合計取引、最終購入からの日数などがあります。</p><h2 id=\"仕組み\">仕組み</h2><p>数値は小数または整数として保存されます。あなたのニーズに合ったタイプを選択してください：</p><ul><li><strong>小数（デフォルト）</strong><ul><li>小数値はゼロ（0）以上の小数桁を持つことができます。</li><li>例：<code>12</code>、<code>12.0</code>、<code>12.345</code></li><li>小数値はJava Doubleクラスを使用します。詳細については、<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html\">Class Double</a>を参照してください。</li><li>通貨値を表す属性に推奨されます。</li></ul></li><li><strong>整数</strong><ul><li>整数値のみが保存されます。</li><li>例：<code>12</code>、<code>-4</code>、<code>3214</code></li><li>数量、カウンター、スコアを表す数値属性に便利です。</li></ul></li></ul><p>数値属性は次のスコープで利用可能です：イベント、訪問、訪問者。</p><figure><a class=\"slb\" href=\"/images/server-side/scope-3checks.png\"><img src=\"https://docs.tealium.com/images/server-side/scope-3checks.png\"/>    </a></figure><h3 id=\"サイズ制限\">サイズ制限</h3><p>数値属性のストレージ容量制限はありませんが、これらの属性は依然としてプロファイルの最大サイズに制限されます（暗号化と圧縮後の400 KB）。</p><h2 id=\"数値のエンリッチメント\">数値のエンリッチメント</h2><h3 id=\"数値の増減エンリッチメント\">数値の増減エンリッチメント</h3><p>このエンリッチメントは、正の値（増加）または負の値（減少）で数値を変更します。変更値は別の数値属性または定数値であることができます。</p><p>例えば、訪問者の注文のライフタイムトータルバリュー（LTV）を計算するために、このエンリッチメントを使用して<code>purchase</code>イベントが発生するたびに<code>order_total</code>属性の値で属性を増加させます。</p><p><strong>属性名</strong>：ライフタイムトータルバリュー</p><ul><li><strong>初期値</strong>：<code>121.78</code></li><li><strong>エンリッチメント対象</strong>：  order_total <code>220.00</code></li><li><strong>結果</strong>：<code>341.78</code></li></ul><h3 id=\"比率の設定\">比率の設定</h3><p>2つの数値の商を新しい比率数として設定します。</p><p>例えば、平均カートアイテム数を計算するために、このエンリッチメントを使用して、購入したカートアイテムの合計属性と完了した注文の合計属性の比率を設定します。</p><p><strong>属性名</strong>：平均カートアイテム数</p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>：<br>購入したカートアイテムの合計: <code>48.00</code><br>完了した注文の合計: <code>3.00</code></li><li><strong>結果</strong>：<code>16.00</code></li></ul><h3 id=\"積の設定\">積の設定</h3><p>2つの数値の積を新しい数値として設定します。</p><p>例えば、<code>coupon_discount_amount</code>を計算するために、このエンリッチメントを使用して<code>order_subtotal</code>と<code>coupon_discount_percent</code>を掛け合わせます。</p><p><strong>属性名</strong>：<code>coupon_discount_amount</code></p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>：<br>order_subtotal: <code>42.00</code><br>coupon_discount_percent: <code>0.05</code></li><li><strong>結果</strong>：<code>2.10</code></li></ul><h3 id=\"差の設定\">差の設定</h3><p>2つの数値の差を新しい数値として設定します。</p><p><strong>属性名</strong>：<code>order_subtotal</code></p><ul><li><strong>初期値</strong>：<code>42.00 </code></li><li><strong>エンリッチメント対象</strong>：<br>order_subtotal: <code>42.00</code><br>coupon_discount_amount: <code>2.10</code></li><li><strong>結果</strong>：<code>39.90</code></li></ul><h3 id=\"合計の設定\">合計の設定</h3><p>2つの数値の合計に設定します。</p><p>例えば、<code>order_total</code>を<code>order_subtotal</code>と<code>order_tax_amount</code>の合計に設定します。</p><p><strong>属性名</strong>：<code>order_total</code></p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>：<br>order_subtotal: <code>39.90</code><br>order_tax_amount: <code>3.29</code></li><li><strong>結果</strong>：<code>43.19</code></li></ul><h3 id=\"数値の設定\">数値の設定</h3><p>数値を特定の数値に設定します。</p><p>例えば、<code>purchase</code>イベントが発生するたびに、最後の購入金額を<code>order_total</code>の値に設定します。</p><p><strong>属性名</strong>：最後の購入金額</p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>： order_total:<code>43.19</code></li><li><strong>結果</strong>：<code>43.19</code></li></ul><h3 id=\"2つの日付間の差の設定\">2つの日付間の差の設定</h3><p>2つのイベント間の経過時間を計算します。経過時間は以下のいずれかで表現できます：</p><ul><li>分</li><li>時間</li><li>日</li><li>週</li><li>月</li></ul><p>差は常に正の値として保存されるため、日付は任意の順序で設定できます。</p><p>例えば、最後の購入日と現在の訪問日との間の日数の差として、最後の購入からの日数を計算します。</p><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>日付属性はUnixタイムスタンプとして保存されますが、これらの例では読みやすさのためにフォーマットされた日付を使用しています。</p><p><strong>属性名</strong>：最後の購入からの日数</p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>：<br>最後の購入日: <code>&quot;2018/10/30&quot;</code><br>現在の訪問日: <code>&quot;2019/11/01&quot;</code></li><li><strong>結果</strong>：<code>367</code></li></ul><h3 id=\"タイムラインに基づく移動平均の設定\">タイムラインに基づく移動平均の設定</h3><p>移動平均は、時間経過とともに取得された数値の算術平均です。これらの値は、<a href=\"/ja/server-side/attributes/data-types/timeline/\">timeline</a>内のエントリとして収集される数値とtally](/ja/server-side/attributes/data-types/tally/)属性から来ます。タイムラインの有効期限が最終平均にどのエントリを考慮に入れるかを決定します。有効期限がない場合、それは単純な平均解です。</p><p><strong>属性名</strong>：平均注文値</p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>： <code>[20.00, 30.00, 40.00, 50.00]</code></li><li><strong>結果</strong>： <code>35.00</code></li></ul><h3 id=\"タイムラインに基づく移動合計の設定\">タイムラインに基づく移動合計の設定</h3><p>移動合計は、数値または<a href=\"/ja/server-side/attributes/data-types/tally/\">tally</a>属性の数値値の集計で、これらは<a href=\"/ja/server-side/attributes/data-types/timeline/\">timeline</a>内のエントリとして取得されます。タイムラインの有効期限が集計中にどのエントリを考慮に入れるかを決定します。</p><p><strong>属性名</strong>：合計注文値</p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>： <code>[10.00, 20.00, 30.00, 40.00, 50.00]</code></li><li><strong>結果</strong>： <code>150.00</code></li></ul><h3 id=\"タイムラインのエントリ数に数値を設定\">タイムラインのエントリ数に数値を設定</h3><p>数値をタイムラインのエントリ数に設定します。</p><p><strong>属性名</strong>：合計注文数</p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>： <code>[10.00, 20.00, 30.00, 40.00, 50.00]</code></li><li><strong>結果</strong>： <code>5.00</code></li></ul><h3 id=\"数値をtally値に設定\">数値をtally値に設定</h3><p>数値をtally内の特定の値に設定します。tally属性とtally内のエントリの名前を指定します。例えば、サイトカテゴリビューのtallyには&quot;Shoes&quot;というエントリがあるかもしれません。</p><p><strong>属性名</strong>：シューズカテゴリビューカウント</p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>： サイトカテゴリビュー: <code>{&quot;Shoes&quot;: 42}</code></li><li><strong>結果</strong>： <code>42</code></li></ul><h3 id=\"数値をtallyのエントリ数に設定\">数値をtallyのエントリ数に設定</h3><p>属性をtallyのエントリ数に設定します。例えば、サイトカテゴリビューのtallyには3つのエントリがあるかもしれません。</p><p><strong>属性名</strong>：閲覧したカテゴリ数</p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>：</li></ul><pre tabindex=\"0\"><code>{    &#34;Shoes&#34;: 42,    &#34;Shirts&#34;: 11,    &#34;Pants&#34;: 8} </code></pre><ul><li><strong>結果</strong>： <code>3.00</code></li></ul><h3 id=\"文字列セットのアイテム数に数値を設定\">文字列セットのアイテム数に数値を設定</h3><p>数値を文字列セットのアイテム数に設定します。例えば、アクティブなブラウザタイプの文字列セットには3つのエントリがあるかもしれません。</p><p><strong>属性名</strong>：アクティブなブラウザタイプの数</p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>： <code>[&quot;Firefox&quot;, &quot;Safari&quot;, &quot;Chrome&quot;]</code></li><li><strong>結果</strong>： <code>3.00</code></li></ul><h3 id=\"タイムラインに基づくtallyの移動最大値に数値を設定\">タイムラインに基づくtallyの移動最大値に数値を設定</h3><p>数値を、タイムライン内で取得された別の数値の移動最大値に設定します。</p><p><strong>属性名</strong>：最高注文値</p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>： <code>[10.00, 20.00, 30.00, 40.00, 50.00]</code></li><li><strong>結果</strong>： <code>50.00</code></li></ul><h3 id=\"数値の変化に数値を設定\">数値の変化に数値を設定</h3><p>この属性を、最後のイベントからの別の属性との差に設定します。例えば、このエンリッチメントを使用して、前回の注文金額と現在の注文金額の差を取得します。注文値の変化という属性を設定するには、前回の注文から<code>order_subtotal</code>の変化を設定します。</p><p><strong>属性名</strong>：注文値の変化</p><ul><li><strong>初期値</strong>：<code>30.00 </code></li><li><strong>エンリッチメント対象</strong>： order_subtotal: <code>42.00</code></li><li><strong>結果</strong>： <code>12.00</code></li></ul><h3 id=\"日付の変化に数値を設定\">日付の変化に数値を設定</h3><p>この属性を、このイベントと最後のイベントの間の選択された値の変化に設定します。例えば、このエンリッチメントを使用して、購入が行われるたびに最後の購入日の日付属性の月数の変化を取得します。</p><p>日付の変化は以下のいずれかで表現できます：</p><ul><li>分</li><li>時間</li><li>日</li><li>週</li><li>月</li></ul><p><strong>属性名</strong>：最後の購入からの月数</p><ul><li><strong>初期値</strong>：</li><li><strong>エンリッチメント対象</strong>：<br>最後の購入日（最後のイベント）: <code>&quot;10/31/2019&quot;</code><br>最後の購入日（このイベント）: <code>&quot;12/31/2019&quot;</code></li><li><strong>結果</strong>： 2 (月)</li></ul><h3 id=\"配列内のアイテム数に設定\">配列内のアイテム数に設定</h3><p>配列内のアイテム数に設定します。例えば、カート内の商品数を保存するために、このエンリッチメントを使用して<code>cart_product_id</code>配列内のアイテム数を取得します。</p><p><strong>属性名</strong>：<code>num_cart_items</code></p><ul><li><strong>初期値</strong>：&mdash;</li><li><strong>エンリッチメント対象</strong>： product_id: <code>[&quot;prod123&quot;, &quot;prod456&quot;]</code></li><li><strong>結果</strong>： <code>2.00</code></li></ul>"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/date/",
            "title": "日付属性",
            "body":"<h2 id=\"使い方\">使い方</h2><p>日付属性を使用して、最初の購入日、最後のチェックアウト日、最後の訪問日などの重要なタイムスタンプを保存します。</p><p>日付属性は次の範囲で利用可能です：イベント、訪問、訪問。</p><figure><a class=\"slb\" href=\"/images/server-side/attribute-scopes-table-all.png\"><img src=\"https://docs.tealium.com/images/server-side/attribute-scopes-table-all.png\"         alt=\"attribute-scopes-table-all.png\"         title=\"attribute-scopes-table-all.png\" width=\"400\" height=\"110\"/>    </a></figure><h2 id=\"日付フォーマッタ\">日付フォーマッタ</h2><p>文字列属性を日付に変換するには、日付フォーマッタを使用します。日付形式パネルから文字列値に一致するタイムスタンプコンポーネントを選択します。例えば、<code>01/31/2020</code>のような文字列値は、<code>MM/dd/yyyy</code>の形式を使用して日付に変換できます。</p><p>日付と時間の文字列パターン：</p><pre tabindex=\"0\"><code>G 紀元表示（キリスト前、キリスト後）y 年（例：12または2012）。yyまたはyyyyのいずれかを使用します。M 年の中の月。Mの数が形式の長さを決定します（例：MM、MMM、MMMMM）d 月の中の日。dの数が形式の長さを決定します（例：dまたはdd）h 日の中の時間、1-12（AM / PM）（通常はhh）H 日の中の時間、0-23（通常はHH）m 時間の中の分、0-59（通常はmm）s 分の中の秒、0-59（通常はss）S 秒の中のミリ秒、0-999（通常はSSS）a AM / PMマーカーz タイムゾーンZ RFC 822タイムゾーン&#39; テキスト区切りのエスケープ&#39; シングルクォート</code></pre><p>参考（例付き）：<a href=\"https://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\">SimpleDateFormat Java Class</a></p><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>文字列に<code>T</code>が含まれている場合は、式の<code>T</code>の前後にシングルクォートを含めることを確認してください（例えば、<code>2024-08-22T10:24:58.905</code>の文字列は<code>yyyy-MM-dd'T'HH:mm:ss.SSS</code>の式を使用します）。</p><h3 id=\"サイズ制限\">サイズ制限</h3><p>各日付属性のサイズは次の範囲に制限されています：</p><ul><li>最小：<code>-292275055-05-16T16:47:04.192Z</code></li><li>最大：<code>+292278994-08-17T07:12:55.807Z</code></li></ul><p>これらの属性は、プロファイルの最大サイズ（暗号化と圧縮後の400 KB）によっても制限されています。</p><h2 id=\"日付のエンリッチメント情報\">日付のエンリッチメント情報</h2><h3 id=\"日付の取得\">日付の取得</h3><p>日付の取得エンリッチメント情報は、イベント条件の時点での現在のタイムスタンプを属性に構成します。このエンリッチメント情報は、スコープ：イベント、訪問、訪問で利用可能です。</p><p>例えば、最後の購入日を取得するには、購入イベントを識別するルールとともにこのエンリッチメント情報を使用します。</p><p><strong>属性名：</strong> 最後の購入日</p><ul><li><strong>開始値</strong>：<code>&quot;&quot;</code></li><li><strong>エンリッチメント情報</strong>：</li><li><strong>結果の値</strong>：<code>1491233145706</code></li></ul><h3 id=\"日付の構成\">日付の構成</h3><p>日付の構成エンリッチメント情報は、属性を他の属性の値に構成します。もし他の属性が文字列であれば、<a href=\"#date-formatter\">日付フォーマッタ</a>を使用してそれを日付に変換します。このエンリッチメント情報は、属性：イベント、訪問、訪問で利用可能です。</p><p><strong>属性名</strong>：最後の購入日</p><ul><li><strong>開始値</strong>：<code>&quot;&quot;</code></li><li><strong>文字列でエンリッチメント</strong>：<code>01/04/2019</code></li><li><strong>形式</strong>：<code>dd/MM/yyy</code></li></ul><p><strong>日付を構成</strong>エンリッチメント情報を使用して、他の日付属性（EventStreamまたはAudienceStream）からEventStreamの日付を構成する場合、形式文字列のプレースホルダーを使用できます。例えば、<strong>日付を構成</strong>エンリッチメント情報で以下の構成を行います：</p><ul><li><strong>日付を構成</strong>：値を構成したい日付属性。この例では、<code>date_of_birth</code>。</li><li><strong>日付形式</strong>：任意のプレースホルダーを入力します。例えば、<code>x</code>。</li></ul><figure><a class=\"slb\" href=\"/images/server-side/attributes/set_date_enrichment_example.png\"><img src=\"https://docs.tealium.com/images/server-side/attributes/set_date_enrichment_example.png\"         alt=\"Set date enrichment with placeholder date format value\"         title=\"Set date enrichment with placeholder date format value\"/>    </a></figure><h3 id=\"日付の削除\">日付の削除</h3><p>日付の削除エンリッチメント情報は、日付属性の値を消去します。このエンリッチメント情報は、属性：イベント、訪問、訪問で利用可能です。</p><p><strong>属性名</strong>：最後の訪問日</p><ul><li><strong>開始値</strong>：<code>1491233145706</code></li><li><strong>結果の値</strong>：<code>&quot;&quot;</code></li></ul><h3 id=\"日付形式からの変換\">日付形式からの変換</h3><p>形式日付エンリッチメント情報は、入力値の予想される日付形式に基づいて値を構成します。このエンリッチメント情報は、CollectタグまたはAPIから送信される文字列データ型を日付型に変換するために使用されます。文字列データを日付に変換するために<a href=\"#date-formatter\">日付フォーマッタ</a>を使用します。</p><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>このエンリッチメント情報はイベント属性のみで利用可能です。</p>"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/arrays/arrays/",
            "title": "文字列の配列",
            "body":"<h2 id=\"エンリッチメント\">エンリッチメント</h2><p>文字列の配列属性は、テキスト値のリストを保存します。</p><p>文字列の配列は次のスコープで利用可能です：イベント、訪問、訪問。</p><figure><a class=\"slb\" href=\"/images/server-side/screenshot-2019-11-11-at-1.24.29-pm.png\"><img src=\"https://docs.tealium.com/images/server-side/screenshot-2019-11-11-at-1.24.29-pm.png\"         alt=\"array of strings\"         title=\"array of strings\"/>    </a></figure><h3 id=\"文字列の追加\">文字列の追加</h3><p>このエンリッチメントは、文字列属性の値を配列に追加します。追加される属性は、文字列、iQ変数、またはオムニチャネル属性のみです。</p><p><strong>属性名</strong>: <code>product_name</code></p><ul><li><strong>初期値</strong>: <code>[&quot;Pants&quot;]</code></li><li><strong>エンリッチメント</strong>: <code>&quot;Shirts&quot;</code></li><li><strong>結果の値</strong>: <code>[&quot;Pants&quot;, &quot;Shirts&quot;]</code></li></ul><h3 id=\"文字列の配列の追加\">文字列の配列の追加</h3><p>このエンリッチメントは、別の配列からすべての値を配列に追加します。追加される属性は、文字列の配列またはiQ変数のみです。</p><p><strong>属性名</strong>: <code>product_name</code></p><ul><li><strong>初期値</strong>: <code>[&quot;Pants&quot;]</code></li><li><strong>エンリッチメント</strong>: <code>[&quot;Shirts&quot;, &quot;Shoes&quot;]</code></li><li><strong>結果の値</strong>: <code>[&quot;Pants&quot;, &quot;Shirts&quot;, &quot;Shoes&quot;]</code></li></ul><h3 id=\"二つの配列間の差分\">二つの配列間の差分</h3><p>このエンリッチメントは、二つの配列を入力として取り、第一の配列には存在するが第二の配列には存在しないすべての値を含む新しい配列を返します。この例では、<code>Wishlist Products</code>から<code>Purchased Products</code>にも存在しない値が結果の配列に追加されます。</p><p><strong>属性名</strong>: <code> Unpurchased Products</code></p><ul><li><strong>初期値</strong>: <code>[]</code></li><li><strong>エンリッチメント</strong>:<br>差分: Wishlist Products  <code>[&quot;Pants&quot;, &quot;Shirt&quot;, &quot;Shoes&quot;, &quot;Belt&quot;]</code> と Purchased Products <code>[&quot;Pants&quot;, &quot;Shirt&quot;]</code></li><li><strong>結果の値</strong>: <code>[&quot;Shoes&quot;, &quot;Belt&quot;]</code></li></ul><p>この例は、結果の属性値が置き換えられ、追加されず、最初の配列の重複した値が削除されることを示しています。</p><ul><li><strong>初期値</strong>: <code>[7, 8, 9]</code></li><li><strong>エンリッチメント</strong>:  差分: Some Numbers <code>[1, 3, 1, 2, 3]</code> と Some Other Numbers <code>[3]</code></li><li><strong>結果の値</strong>: <code>[1, 1, 2]</code></li></ul><h3 id=\"リセット\">リセット</h3><p>このエンリッチメントは、配列からすべての値を削除します。</p><p><strong>属性名</strong>: <code>product_name</code></p><ul><li><strong>初期値</strong>: <code>[&quot;Shoes&quot;, &quot;Belt&quot;]</code></li><li><strong>エンリッチメント</strong>:</li><li><strong>結果の値</strong>: <code>[]</code></li></ul><h3 id=\"小文字化\">小文字化</h3><p>このエンリッチメントは、配列内のすべての値を小文字にします。</p><p><strong>属性名</strong>: <code>product_name</code></p><ul><li><strong>初期値</strong>: <code>[&quot;Shoes&quot;, &quot;BELT&quot;]</code></li><li><strong>エンリッチメント</strong>:</li><li><strong>結果の値</strong>: <code>[&quot;shoes&quot;, &quot;belt&quot;]</code></li></ul><h3 id=\"文字列のセットに構成\">文字列のセットに構成</h3><p>文字列の配列を文字列のセットに構成します。このエンリッチメントは、配列内のすべての値を置き換えます。</p><p><strong>属性名</strong>: <code>Active Browser Types</code></p><ul><li><strong>初期値</strong>: <code>[&quot;IE&quot;]</code></li><li><strong>エンリッチメント</strong>: <code>[&quot;Chrome&quot; &quot;FireFox&quot;, &quot;Opera&quot;]</code></li><li><strong>結果の値</strong>: <code>[&quot;Chrome&quot; &quot;FireFox&quot;, &quot;Opera&quot;]</code></li></ul><h3 id=\"文字列のセットの追加\">文字列のセットの追加</h3><p>文字列のセットを文字列の配列に追加します。このエンリッチメントは、配列内の既存の値を保持するため、結果の値には重複する項目が存在する可能性があります。</p><p><strong>属性名</strong>: <code>product_name</code></p><ul><li><strong>初期値</strong>: <code>[&quot;Pants&quot;]</code></li><li><strong>エンリッチメント</strong>: <code>[&quot;Pants&quot;, &quot;Shoes&quot;, &quot;Ties&quot;]</code></li><li><strong>結果の値</strong>: <code>[&quot;Pants&quot;, &quot;Pants&quot;, &quot;Shoes&quot;, &quot;Ties&quot;]</code></li></ul><h3 id=\"配列から文字列の削除\">配列から文字列の削除</h3><p>削除する文字列の最初、最後、またはすべてのインスタンスを指定します。このエンリッチメントは、削除する項目のすべてのインスタンスを配列から削除します。</p><p><strong>属性名</strong>: <code>product_name</code></p><ul><li><strong>初期値</strong>: <code>[&quot;Pants&quot;, &quot;Pants&quot;, &quot;Shoes&quot;, &quot;Ties&quot;]</code></li><li><strong>エンリッチメント</strong>: <code>&quot;Pants&quot;</code></li><li><strong>結果の値</strong>: <code>[&quot;Shoes&quot;, &quot;Ties&quot;]</code></li></ul>"
        }  

    , 
        {
            "weight": "0",
            "url": "https://docs.tealium.com/ja/server-side/attributes/data-types/string/",
            "title": "文字列属性",
            "body":"<p>例えば、文字列は、名前や郵便番号などの顧客情報、注文IDや配送方法などの注文情報、サイトセクションやサイト言語などのサイト情報に使用されます。</p><p>文字列属性は次のスコープで利用可能です：イベント、訪問、訪問。</p><figure><a class=\"slb\" href=\"/images/server-side/attribute-scopes-table-all.png\"><img src=\"https://docs.tealium.com/images/server-side/attribute-scopes-table-all.png\"         alt=\"attribute-scopes-table-all.png\"         title=\"attribute-scopes-table-all.png\"/>    </a></figure><h2 id=\"サイズ制限\">サイズ制限</h2><p>EventStreamの文字列属性は最大長が1,500文字です。この制限を超えると、文字列は1,500文字に切り捨てられます。</p><p>AudienceStreamの文字列属性の値は最大長が1,000文字です。エンリッチメントにより1,000文字を超える文字列が生成された場合、その値は保存されません。</p><h2 id=\"文字列のエンリッチメント\">文字列のエンリッチメント</h2><p>以下のエンリッチメントが文字列属性に利用可能です。</p><h3 id=\"文字列の構成\">文字列の構成</h3><p>このエンリッチメントは、文字列属性の値を構成します。これは、あなたが提供する定数値または別の文字列属性の値から構成することができます。ソース値は文字列、iQ変数、またはOmnichannel属性のみ可能です。</p><p><strong>属性名</strong>: <code>customer_type</code></p><ul><li><strong>初期値</strong>: <code>&quot;&quot;</code></li><li><strong>エンリッチメント</strong>: <code>&quot;unknown&quot;</code></li><li><strong>結果の値</strong>: <code>&quot;unknown&quot;</code></li></ul><h3 id=\"文字列の分割\">文字列の分割</h3><p>このエンリッチメントでは、分布パーセントに基づいて複数の値を構成することができます。構成する各値にはパーセンテージ構成もあります。複数の値/パーセンテージエントリが存在することができますが、分布は合計で100%でなければなりません。分布はランダムな数値生成に基づいているため、小さなサンプルでは分布が一致しない場合がありますが、より多くの値が割り当てられるにつれて分布比率はより正確になります。ソース値は文字列、iQ変数、またはOmnichannel属性のみ可能です。</p><p>この例では、属性名<code>test_group</code>を使用して、ユーザーを&quot;GroupA&quot;と&quot;GroupB&quot;という2つの等しいグループ（50/50）に分けます。この属性は、各グループに関連する活動を識別するために使用できます。</p><p><strong>属性名</strong>: <code>test_group</code></p><ul><li><strong>初期値</strong>: <code>&quot;&quot;</code></li><li><strong>結果の値</strong>: 文字列の人口の<code>50%</code>に対して文字列の値を<code>&quot;GroupA&quot;</code>に構成<br> 文字列の人口の<code>50%</code>に対して文字列の値を<code>&quot;GroupB&quot;</code>に構成</li></ul><p>参照：<a href=\"https://support.tealiumiq.com/en/support/solutions/articles/36000363487-enrichment-example-split-string\">エンリッチメント例：文字列の分割</a></p><h3 id=\"文字列の削除\">文字列の削除</h3><p>このエンリッチメントは、属性から全ての値を削除します。</p><ul><li><strong>初期値</strong>: <code>&quot;Jane Smith&quot;</code></li><li><strong>結果の値</strong>: <code>&quot;&quot;</code></li></ul><h3 id=\"文字列の小文字化\">文字列の小文字化</h3><p>このエンリッチメントは、文字列属性の現在の値を小文字にします。</p><p><strong>属性名</strong>: <code>email_address</code></p><ul><li><strong>初期値</strong>: <code>&quot;First.Last@Example.com&quot;</code></li><li><strong>結果の値</strong>: <code>&quot;first.last@example.com&quot;</code></li></ul><h3 id=\"属性の結合\">属性の結合</h3><p>このエンリッチメントは、デリミタを使用して複数の値を結合し、単一のテキスト値を形成します。デリミタは1文字以上であることができます。例えば、<code>site_section</code>、<code>page_category</code>、その他のページレベルの属性を組み合わせてページ階層値を作成することができます。</p><p><strong>属性名</strong>: <code>page_path</code></p><ul><li><strong>初期値</strong>: <code>&quot;&quot;</code></li><li><strong>エンリッチメント</strong>:<br>属性1: <code>site_region=&quot;en-us&quot;</code><br>属性2: <code>site_section=&quot;Electronics&quot;</code><br>属性3: <code>category_name=&quot;Tablets&quot;</code><br>デリミタ: <code>&quot;:&quot;</code></li><li><strong>結果の値</strong>: <code>&quot;en-us:Electronics:Tablets&quot;</code></li></ul><h3 id=\"文字列を日付に構成\">文字列を日付に構成</h3><p>このエンリッチメントは、文字列属性の値を日付に変換し、カスタムフォーマットを許可します（<a href=\"/ja/server-side/attributes/data-types/date/\">日付フォーマッターについて詳しく学ぶ</a>）。ソース値は日付、文字列、iQ変数、またはファイルインポート属性であることができます。</p><p><strong>属性名</strong>: <code>last_purchase_date</code></p><ul><li><strong>初期値</strong>: <code>&quot;&quot;</code></li><li><strong>エンリッチメント</strong>: フォーマットが<code>&quot;yyy-MM-dd&quot;</code>の最終ログイン日</li><li><strong>結果の値</strong>: <code>&quot;2019-12-31&quot;</code></li></ul>"
        }  

    ]
}
