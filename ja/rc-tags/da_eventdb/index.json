
{
    "kind": "term",
    "name": "da_eventdb",
    "count": 4,
    "items": [

    
        {
            "weight": "10",
            "url": "https://docs.tealium.com/ja/server-side/data-storage/audiencedb-eventdb/about/",
            "title": "AudienceDBとEventDBについて",
            "body":"<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>EventDBとAudienceDBをアカウントとプロフィールで有効にするには、カスタマーサクセスマネージャーに連絡してください。</p><h2 id=\"仕組み\">仕組み</h2><p>AudienceDBとEventDBサービスは、構造化されたオーディエンスデータとイベントデータをAmazon Redshift（PostgreSQLベースのデータウェアハウス）に保存します。お好みのSQLクライアントやビジネスインテリジェンス（BI）ツールを使用して、Amazon Redshiftのデータをクエリおよび分析できます。</p><p>EventDBはEventStoreをデータソースとして使用し、EventStore S3バケットからのデータをTealiumが提供するAmazon Redshiftデータベースにインポートします。</p><p>AudienceStoreはAudienceDBを有効化するための前提条件ではありません。これらのサービスは独立して動作します。AudienceDBは、各訪問セッションの終了時に訪問プロファイルデータを保存します。</p><p>AudienceDBとEventDBが有効化された後、保存する属性を選択する必要があります。詳細については、<a href=\"/ja/server-side/data-storage/audiencedb-eventdb/configure/\">AudienceDBとEventDBの構成</a>を参照してください。</p><h3 id=\"データの保存タイミング\">データの保存タイミング</h3><p>新しいデータは、Redshiftクラスタの負荷に応じて、EventDBとAudienceDBに30分から90分以内に保存されます。</p><h3 id=\"データベーススキーマ\">データベーススキーマ</h3><p>EventDBとAudienceDBが有効化されると、データを保存するためのAmazon Redshift内にデータベースが作成されます。各プロファイルは同じRedshiftインスタンス内に独自のデータベーススキーマを持ち、これは各ユーザーが各データベーススキーマ（プロファイル）に対して独自のユーザー名とパスワードを持つことを意味します。AudienceDBとEventDBのデータベーススキーマは、プロファイルでEventDBまたはAudienceDBが有効化されると自動的に作成されます。</p><h3 id=\"データ保持\">データ保持</h3><p>EventDBとAudienceDBに保存されたデータは、契約で定められた期間、通常は90日間、Amazon RedShiftで利用可能です。データが保存される期間を決定する契約の条件を確認するために、アカウントマネージャーに連絡してください。</p><h4 id=\"保存されたeventdbとaudiencedb属性の変更\">保存されたEventDBとAudienceDB属性の変更</h4><p>EventDBに以前に追加された属性を削除すると、その属性はEventDBに送信されなくなり、EventDBからも削除されます。EventDB属性の変更はEventStoreファイルに影響を与えません。</p><p>AudienceDBに以前に追加された属性を削除すると、その属性はAudienceDBに送信されなくなり、AudienceDBからも削除されます。AudienceDB属性の変更はAudienceStoreファイルに影響を与えません。</p><h2 id=\"テーブルビュー正規化ビュー\">テーブル、ビュー、正規化ビュー</h2><p>Redshiftデータベーステーブルの列名は、属性タイプと内部属性IDに基づいて命名されます。データのビューと正規化ビューには、テーブルと同じデータが含まれますが、ユーザーフレンドリーな名前が付けられているため、クエリの作成が容易になります。正規化ビュー名はビュー名に似ていますが、テーブル名から属性IDが省略されています。テーブル名とビュー名は以下のように作成されます：</p><ul><li><strong>テーブル名</strong><br>列名は属性タイプと属性IDの組み合わせです。<br>例：<code>badge_30</code></li><li><strong>ビュー名</strong><br>列名はユーザーフレンドリーな名前と属性IDの組み合わせです。<br>例：<code>visitor - badge - fan (30)</code></li><li><strong>正規化ビュー名</strong><br>列名は属性IDを省略したユーザーフレンドリーな名前です。<br>例：<code>visitor - badge - fan</code></li></ul><p>ビューと正規化ビューは、<code>SUM()</code>、<code>MIN()</code>、<code>MAX()</code>などの集計を含むクエリの実行を簡素化します。</p><h2 id=\"audiencedbテーブル\">AudienceDBテーブル</h2><p>訪問と訪問の属性は、その属性タイプと名前に基づいてデータベーステーブルの列に保存されます。オーディエンスは訪問テーブルの列として保存されます。テーブルのキーは<code>visit_id</code>または<code>visitor_id</code>です。</p><p>訪問と訪問データに利用可能な以下のテーブルがあります：</p><ul><li>訪問/セッションデータ：<code>visits</code></li><li>訪問データ：<code>visitors</code></li></ul><p>さらに、特殊な属性タイプのための以下のテーブルが存在します：</p><ul><li>配列：<code>visit_arrays</code>, <code>visitor_arrays</code></li><li>文字列のセット：<code>visit_lists</code>, <code>visitor_lists</code></li><li>集計：<code>visit_tallies</code>, <code>visitor_tallies</code></li></ul><p>詳細情報については、<a href=\"/ja/server-side/data-storage/audiencedb-eventdb/audiencedb-data-guide/\">AudienceDBデータガイド</a>を参照してください。</p><h2 id=\"eventdbテーブル\">EventDBテーブル</h2><p>EventDBテーブルデータには、イベントフィード内のすべてのイベントのイベント属性が含まれます。テーブル列は属性タイプと名前に基づいて命名され、一部の属性だけが内部IDを参照します。標準的なUniversal Data Object (UDO)変数は<code>udo_</code>プレフィクスで命名され、ほとんどの列名は対応する属性名と一致します。例：<code>udo_event_name</code>。詳細情報については、<a href=\"/ja/server-side/live-events-feeds/\">ライブイベントとフィード</a>を参照してください。</p><p class=\"tip\"><i class=\"fa fa-info-circle\"></i>Tealium Collectタグから来るイベントデータには、ページ上で実行されたタグとページパフォーマンスメトリクスに関する情報も含まれます。詳細については、<a href=\"/ja/client-side-tags/tealium-collect-tag/\">Tealium Collect</a>を参照してください。</p><p>イベントデータに利用可能な以下のテーブルがあります：</p><ul><li>イベントフィードデータ：<code>events_{FEED}</code></li></ul>"
        }  

    , 
        {
            "weight": "20",
            "url": "https://docs.tealium.com/ja/server-side/data-storage/audiencedb-eventdb/configure/",
            "title": "AudienceDBとEventDBの構成",
            "body":"<h2 id=\"要件\">要件</h2><ul><li>EventDBにデータを送信するには、イベントフィードを構成し、EventStoreを有効にする必要があります。</li><li>AudienceDBにデータを送信するには、AudienceStoreを有効にする必要があります。</li></ul><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>EventDBとAudienceDBをアカウントとプロファイルで有効にするには、アカウントマネージャーに連絡してください。</p><h2 id=\"動作方法\">動作方法</h2><p>データストレージは属性レベルで制御されます。イベント属性、訪問属性、訪問属性を作成するときに、属性をEventDBまたはAudienceDBに送信するオプションを選択できます。<figure><a class=\"slb\" href=\"/images/server-side/data-access/eventdb-attribute-checkbox.png\"><img src=\"https://docs.tealium.com/images/server-side/data-access/eventdb-attribute-checkbox.png\"         alt=\"EventDBに属性を追加するためのチェックボックスを示す属性編集画面\"         title=\"EventDBに属性を追加するためのチェックボックスを示す属性編集画面\"/>    </a></figure></p><h3 id=\"訪問と訪問の属性\">訪問と訪問の属性</h3><p>アカウント内のすべてのオーディエンスはデフォルトでAudienceDBに送信されます。<strong>AudienceDB</strong>画面でAudienceDBに送信するオーディエンスと属性を選択できます。詳細については、<a href=\"#configure-audiencedb-attributes\">AudienceDB属性の構成</a>を参照してください。</p><h3 id=\"イベント属性\">イベント属性</h3><p>すべてのプリロードされた属性（Tealiumによって定義され、すべてのアカウントで利用可能な属性）はデフォルトでEventDBに送信されます。<strong>EventDB属性</strong>画面でカスタム属性を選択してEventDBに送信できます。</p><p>プリロードされた属性は<strong>EventDB属性</strong>画面で変更できません。<strong>DataAccessコンソール</strong>を使用して、EventDBに保存されるプリロードされた属性を調整します。詳細については、<a href=\"#configure-eventdb-attributes\">EventDB属性の構成</a>を参照してください。</p><p>DOM属性（例えば、URL、ドメイン、リファラ、ユーザーエージェント）は常に送信され、EventDBから除外することはできません。また、Tealiumのイベント属性、例えば<code>tealium_account</code>、<code>tealium_profile</code>、<code>tealium_event</code>も常に送信され、除外することはできません。</p><p class=\"tip\"><i class=\"fa fa-info-circle\"></i>データ量が非常に大きくなる可能性があるため、必要な特定のイベントフィードのみにEventDBを有効にすることをお勧めします。詳細については、<a href=\"/ja/server-side/live-events-feeds/about-event-feeds/\">ライブイベントとフィード</a>を参照してください。</p><p>属性についての詳細は、<a href=\"/ja/server-side/attributes/about/\">属性の使用</a>を参照してください。</p><h2 id=\"audiencedb属性の構成\">AudienceDB属性の構成</h2><p>デフォルトでは、すべてのオーディエンスがAudienceDBに選択されています。AudienceDBからオーディエンスを削除するためにオーディエンスの選択を解除できます。また、必要に応じて訪問と訪問の属性を選択または選択解除できます。</p><p>AudienceDBに保存される属性とオーディエンスを構成するには、次の手順を使用します：</p><ol><li><strong>DataAccess &gt; AudienceDB</strong>に移動します。<br>アカウントで利用可能なオーディエンスと属性のリストが表示されます。以下に示すように。<br><figure><a class=\"slb\" href=\"/images/server-side/data-access/audiencedb-screen.png\"><img src=\"https://docs.tealium.com/images/server-side/data-access/audiencedb-screen.png\"         alt=\"AudienceDBのオーディエンスと属性のリスト\"         title=\"AudienceDBのオーディエンスと属性のリスト\"/>    </a></figure><br><strong>Scope</strong>、<strong>Type</strong>、または<strong>Data Type</strong>で属性のリストをフィルタリングできます。</li><li>必要に応じてオーディエンスの選択を解除して、AudienceDBから削除します。</li><li>AudienceDBに追加または削除するために属性を選択または選択解除します。</li><li>保存して公開します。</li></ol><h2 id=\"eventdb属性の構成\">EventDB属性の構成</h2><p>デフォルトでは、イベントストリームにはアカウントで定義されたすべてのイベント属性が含まれています。Tealium Collectタグからデータを収集するストリームでは、イベント中に発火する各タグに対して追加のブール属性が含まれています。例えば、Tealium iQタグ管理アカウントにGoogle AnalyticsとTealium Collectタグがある場合、イベントストリームには、各イベントで発火したかどうかを示すブール属性<code>Google Analytics</code>が含まれます。</p><p>EventDBに保存される属性を構成するには、次の手順を実行します：</p><ol><li><p><strong>DataAccess &gt; EventDB</strong>に移動します。</p></li><li><p><strong>Show EventDB Attributes</strong>をクリックします。<br>アカウントで利用可能なイベント属性のリストが表示されます。</p>   <p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>Restricted Dataとマークされた属性はデフォルトで除外されますが、チェックボックスをチェックして含めることができます。</p></li><li><p>必要に応じてEventDBから属性を追加または削除します。<br>すべてのプリロードされたEventDB属性はデフォルトで追加されます。<figure><a class=\"slb\" href=\"/images/server-side/data-access/eventdb-attr-select.png\"><img src=\"https://docs.tealium.com/images/server-side/data-access/eventdb-attr-select.png\"               alt=\"EventDBに選択する属性のリスト\"               title=\"EventDBに選択する属性のリスト\"/>          </a>      </figure></p></li><li><p><strong>Save</strong>をクリックします。</p></li><li><p>保存して公開します。</p></li></ol><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>EventDB属性を構成し、変更を公開した後、データがデータベースに表示されるまでに最大1時間かかる場合があります。</p><h2 id=\"保存された属性の変更\">保存された属性の変更</h2><p>EventDBまたはAudienceDBの保存に以前に追加された属性を削除し、変更を公開すると、その属性はEventDBまたはAudienceDBから削除されます。</p><p>属性を削除し、その後再度追加して変更を公開すると、削除されたEventDBまたはAudienceDBのデータは復元できません。</p>"
        }  

    , 
        {
            "weight": "40",
            "url": "https://docs.tealium.com/ja/server-side/data-storage/audiencedb-eventdb/eventdb-data-guide/",
            "title": "EventDBデータガイド",
            "body":"<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>EventDBをアカウント内の適切なプロファイルで有効にするには、アカウントマネージャーに連絡してください。EventDBに保存される属性の構成方法については、<a href=\"/ja/server-side/data-storage/audiencedb-eventdb/configure/\">AudienceDBとEventDBの構成</a>を参照してください。</p><p>EventDBが有効になると、スキーマのビューには、EventStreamでフィルタリングされたストリームに適用したタイトルが含まれます：</p><ol><li><a href=\"/ja/client-side-tags/tealium-collect-tag/\">Tealium Collectタグ</a>（または他のCollectライブラリ）がイベントデータをCustomer Data Hubに送信し、TealiumのAmazon S3バケットでキャプチャされます。この段階では、データはフラット化されたJSONです。</li><li>S3バケットが100 MB（非圧縮）に達するか、1時間が経過すると、いずれか早い方が先に来た場合、データは圧縮され、Redshiftの準備が整います。</li><li>データが圧縮された後、それはあなたのアカウントのためのRedshiftデータベースにコピーされ、インポートされます。</li></ol><p>データベースの組織は、あなたのアカウントとストリームに合わせて整列されています：</p><ul><li>各アカウント/プロファイルのデータベース（<code>ACCOUNT__PROFILE</code>）</li><li>フィルタリングされたストリームごとに2つのテーブル<ul><li>生のデータ属性列名（<code>ACCOUNT__PROFILE.events_STREAM</code>）</li><li>Customer Data Hub属性列名（<code>ACCOUNT__PROFILE.events_view_STREAM</code>）</li></ul></li></ul>"
        }  

    , 
        {
            "weight": "50",
            "url": "https://docs.tealium.com/ja/server-side/data-storage/audiencedb-eventdb/connect/",
            "title": "EventDBとAudienceDBに接続する",
            "body":"<h2 id=\"redshiftに接続する\">Redshiftに接続する</h2><p>EventDBとAudienceDBのデータにアクセスするには、Postgresスタイルのデータベースに接続できるサードパーティのツールが必要です。</p><ul><li><strong>初めてのユーザー</strong>EventDBとAudienceDBがアカウントで有効になると、Redshift Spectrumが自動的に有効になります。</li><li><strong>既存の顧客</strong>DataAccessを使用していた既存の顧客に対してSpectrumを有効にする前に、既存のデータと新しいデータが正しい場所に書き込まれるようにデータ移行が必要です。事前にチームと調整して進めてください。</li></ul><h2 id=\"データベースの認証情報を取得する\">データベースの認証情報を取得する</h2><p>Postgresをサポートするサードパーティのツールは、接続するための認証情報が必要です。認証情報はDataAccess Consoleで提供されます。</p><p>データベースの認証情報は現在、各ユーザーごとに生成されます。以前は、すべてのユーザーがアカウントとプロファイルに対して生成された認証情報を共有していました。誰かがグローバルな認証情報を再生成すると、すべてのユーザーの接続が終了し、すべてのユーザーが再接続しなければなりませんでした。</p><p>ユーザー固有の認証情報の場合、生成された認証情報はアカウント、プロファイル、ユーザーのメールアドレスに基づいています。ユーザーは自分自身の認証情報を再生成することができ、他の接続を終了させることなく、特定のユーザーのアクセスを削除することができます。特定のユーザーの認証情報を無効にするには、Tealiumサポートに連絡してください。</p><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>以前に生成されたグローバルな認証情報は引き続き使用できますが、再生成することはできません。</p><p>データベースの認証情報を取得するには、以下の手順を使用します：</p><ol><li><strong>DataAccess &gt; EventDB</strong> または <strong>DataAccess &gt; AudienceDB</strong> に移動します。</li><li><strong>Get DB Connection Details</strong> をクリックします。</li><li><strong>Regenerate DB Credentials</strong> をクリックします。<br>これが初めての認証情報取得であっても、認証情報を再生成する必要があります。<br><figure><a class=\"slb\" href=\"/images/server-side/connection-details.png\"><img src=\"https://docs.tealium.com/images/server-side/connection-details.png\"               alt=\"connection details\"               title=\"connection details\"/>          </a>      </figure></li><li>既存の認証情報を削除し、新しいものを生成することを確認するために <strong>Yes</strong> をクリックします。<br><strong>DB Connection Details</strong> 画面には以下のフィールドが表示されます：<ul><li><strong>Username</strong><br>データベース接続のユーザー名。これはあなたのアカウント、プロファイル名、そしてあなたのメールアドレスの組み合わせです。例えば、<code>account__profile__email</code>。</li><li><strong>Password</strong><br>データベース接続のパスワード。</li><li><strong>Database</strong><br>データベースの名前、通常はあなたのアカウントの名前です。</li><li><strong>Host</strong><br>データベースサーバーのホスト名、あなたのデータストレージ領域に特化しています。</li><li><strong>Port</strong><br>接続のポート番号。</li></ul></li><li>未来の使用のために接続詳細を保存し、<strong>Close</strong> をクリックします。</li></ol><h3 id=\"redshiftデータベースを閲覧する\">Redshiftデータベースを閲覧する</h3><p>データベースの認証情報を取得したら、サードパーティのツールを使用してデータベースに接続できます。以下の例では、SQL Workbench/J（フリーウェアアプリケーション）を使用しています（<a href=\"/ja/server-side/data-storage/data-viz-tools/connecting-sql-workbench/\">SQL Workbenchを使用してEventDBに接続する</a>を参照）。スキーマの命名規則は <code>account__profile</code> です。</p><p>以下の例は、関連するすべてのテーブルと列を結合するビューを示しています。</p><figure><a class=\"slb\" href=\"/images/server-side/sql-workbench-db-explorer.jpg\"><img src=\"https://docs.tealium.com/images/server-side/sql-workbench-db-explorer.jpg\"/>    </a></figure><p>この例は、生のデータテーブルビューを示しています。列名は各テーブルで同じ位置にあり、ビューに関係なく同じです。これら二つのビューの主な違いはエントリの可読性です。</p><figure><a class=\"slb\" href=\"/images/server-side/sql-workbench-columns.jpg\"><img src=\"https://docs.tealium.com/images/server-side/sql-workbench-columns.jpg\"/>    </a></figure><h2 id=\"sqlクエリの作成\">SQLクエリの作成</h2><p>以下の記事では、ベストプラクティスと有用なクエリの例を提供しています：</p><ul><li><a href=\"/ja/server-side/data-storage/data-viz-tools/connecting-sql-workbench/\">SQL Workbench/Jを使用してEventDBとAudienceDBに接続する</a></li><li><a href=\"https://support.tealiumiq.com/en/support/solutions/articles/36000363364-best-practices-for-writing-queries-for-eventdb-and-audiencedb/preview\">EventDBとAudienceDBのクエリ作成のベストプラクティス</a></li><li><a href=\"https://support.tealiumiq.com/en/support/solutions/articles/36000363427-helpful-sql-queries-for-eventdb-and-audiencedb\">EventDBとAudienceDBのための便利なSQLクエリ</a></li></ul>"
        }  

    ]
}
