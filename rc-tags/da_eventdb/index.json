
{
    "kind": "term",
    "name": "da_eventdb",
    "count": 4,
    "items": [

    
        {
            "weight": "10",
            "url": "https://docs.tealium.com/server-side/data-storage/audiencedb-eventdb/about/",
            "title": "About AudienceDB and EventDB",
            "body": "<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>To have EventDB and AudienceDB enabled for your account and profile, contact your customer success manager.</p>\n<h2 id=\"how-it-works\">How it works</h2>\n<p>AudienceDB and EventDB services store structured audience and event data in Amazon Redshift, a data warehouse based on PostgreSQL. You can query and analyze the data in Amazon Redshift using your preferred SQL client or Business Intelligence (BI) tool.</p>\n<p>EventDB uses EventStore as a data source, importing the data from the EventStore S3 bucket into the Amazon Redshift database provided by Tealium.</p>\n<p>AudienceStore is not a prerequisite to activate AudienceDB; these services operate independently. AudienceDB saves visitor profile data at the end of each visitor session.</p>\n<p>After AudienceDB and EventDB have been enabled, you must select the attributes to be stored. For more information, see <a href=\"/server-side/data-storage/audiencedb-eventdb/configure/\">Configure AudienceDB and EventDB</a>.</p>\n<h3 id=\"data-storage-timing\">Data storage timing</h3>\n<p>New data is stored in EventDB and AudienceDB within 30 to 90 minutes, depending on the load for the Redshift cluster.</p>\n<h3 id=\"database-schemas\">Database schemas</h3>\n<p>When EventDB and AudienceDB are enabled, a database is created in Amazon Redshift to store your data. Each profile has its own database schema within the same Redshift instance, which means that each user has their own username and password for each database schema (profile). The database schemas for AudienceDB and EventDB are created automatically when EventDB or AudienceDB are enabled for a profile.</p>\n<h3 id=\"data-retention\">Data retention</h3>\n<p>The data stored in EventDB and AudienceDB remains available in Amazon RedShift for the length of time stated in your contract. Contact your account manager to review the terms of your contract that determine the length of time your data is stored.</p>\n<h4 id=\"changes-to-stored-eventdb-and-audiencedb-attributes\">Changes to stored EventDB and AudienceDB attributes</h4>\n<p>If you remove an attribute that was previously added for EventDB, the attribute is no longer sent to EventDB and is also removed from EventDB. Changes to EventDB attributes have no effect on EventStore files.</p>\n<p>If you remove an attribute that was previously added for AudienceDB, the attribute is no longer sent to AudienceDB and is also removed from AudienceDB. Changes to AudienceDB attributes have no effect on AudienceStore files.</p>\n<h2 id=\"tables-views-and-normalized-views\">Tables, views, and normalized views</h2>\n<p>The columns in the Redshift database tables are named according to the attribute type and the internal attribute ID. Views and normalized views of data contain the same data as tables, but have user friendly names that make it easier to write queries. The normalized view name is similar to the view name but with the attribute ID omitted from the table name. Table names and view names are created as follows:</p>\n<ul>\n<li><strong>Table names</strong><br>\nColumn names are a combination of the attribute type and the attribute ID.<br>\nFor example: <code>badge_30</code></li>\n<li><strong>View names</strong><br>\nColumn names are a combination of a user-friendly name and the attribute ID.<br>\nFor example: <code>visitor - badge - fan (30)</code></li>\n<li><strong>Normalized view names</strong><br>\nColumn names are user-friendly names without attribute IDs.<br>\nFor example: <code>visitor - badge - fan</code></li>\n</ul>\n<p>Views and normalized views simplify the process of running queries with aggregations such as <code>SUM()</code> , <code>MIN()</code>, and <code>MAX()</code>.</p>\n<h2 id=\"audiencedb-tables\">AudienceDB tables</h2>\n<p>Visit and visitor attributes are stored in database table columns according to their attribute type and name. Audiences are stored as columns in the visitors table. The keys for the tables are <code>visit_id</code> or <code>visitor_id</code>.</p>\n<p>The following tables are available for visit and visitor data:</p>\n<ul>\n<li>Visit/Session Data: <code>visits</code></li>\n<li>Visitor Data: <code>visitors</code></li>\n</ul>\n<p>In addition, the following tables exist for special attribute types:</p>\n<ul>\n<li>Arrays: <code>visit_arrays</code>, <code>visitor_arrays</code></li>\n<li>Set of Strings: <code>visit_lists</code>, <code>visitor_lists</code></li>\n<li>Tally: <code>visit_tallies</code>, <code>visitor_tallies</code></li>\n</ul>\n<p>For detailed information, see the <a href=\"/server-side/data-storage/audiencedb-eventdb/audiencedb-data-guide/\">AudienceDB data guide</a>.</p>\n<h2 id=\"eventdb-tables\">EventDB tables</h2>\n<p>EventDB table data includes event attributes for all events in the event feed. Table columns are named according to the attribute type and name, with only some attributes referencing internal ID&rsquo;s. Standard Universal Data Object (UDO) variables are named with a <code>udo_</code> prefix and most column names match their corresponding attribute names, for example: <code>udo_event_name</code>. For additional information, see <a href=\"/server-side/live-events-feeds/\">Live Events and Feeds</a>.</p>\n<p class=\"tip\"><i class=\"fa fa-info-circle\"></i>Event data coming from the Tealium Collect tag also includes information about which tags executed on the page and page performance metrics. For more information, see <a href=\"/client-side-tags/tealium-collect-tag/\">Tealium Collect</a>.</p>\n<p>The following tables are available for event data:</p>\n<ul>\n<li>Event Feed Data: <code>events_{FEED}</code></li>\n</ul>\n"
        }  

    , 
        {
            "weight": "20",
            "url": "https://docs.tealium.com/server-side/data-storage/audiencedb-eventdb/configure/",
            "title": "Configure AudienceDB and EventDB",
            "body": "<h2 id=\"requirements\">Requirements</h2>\n<ul>\n<li>To send data to EventDB, event feeds must be configured and EventStore must be enabled.</li>\n<li>To send data to AudienceDB, AudienceStore must be enabled.</li>\n</ul>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>To have EventDB and AudienceDB enabled for your account and profile, contact your account manager.</p>\n<h2 id=\"how-it-works\">How it works</h2>\n<p>Data storage is controlled at the attribute level. When you create event, visitor, or visit attributes, there is an option you can select to send the attribute to EventDB or AudienceDB.\n<figure><a class=\"slb\" href=\"/images/server-side/data-access/eventdb-attribute-checkbox.png\"><img src=\"https://docs.tealium.com/images/server-side/data-access/eventdb-attribute-checkbox.png\"\n         alt=\"Edit attribute screen showing checkbox to add attribute to EventDB\"\n         title=\"Edit attribute screen showing checkbox to add attribute to EventDB\"/>\n    </a>\n</figure></p>\n<p>You can also configure the attributes sent to EventDB and AudienceDB on the <strong>EventDB/AudienceDB</strong> screen, shown in the following figure:\n<figure><a class=\"slb\" href=\"/images/server-side/data-access/eventdb-audiencedb-config-screen.png\"><img src=\"https://docs.tealium.com/images/server-side/data-access/eventdb-audiencedb-config-screen.png\"/>\n    </a>\n</figure></p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>All preloaded attributes (attributes defined by Tealium and available for all accounts) are are selected for EventDB and AudienceDB by default. This behavior cannot be changed.</p>\n<h3 id=\"visit-and-visitor-attributes\">Visit and visitor attributes</h3>\n<p>All audiences in your account are sent to AudienceDB by default. You can select the audiences and attributes that are sent to AudienceDB on the <strong>AudienceDB</strong> tab on the <strong>EventDB/AudienceDB</strong> screen. For more information, see <a href=\"#configure-audiencedb-attributes\">Configure AudienceDB attributes</a>.</p>\n<h3 id=\"event-attributes\">Event attributes</h3>\n<p>DOM attributes (for example, URL, domain, referrer, and user agent) are always sent and cannot be excluded from EventDB. In addition, Tealium event attributes, such as <code>tealium_account</code>, <code>tealium_profile</code>, <code>tealium_event</code> are always sent and cannot be excluded. Other attributes can be selected, or deselected, on the <strong>EventDB</strong> tab on the <strong>EventDB/AudienceDB</strong> screen. For more information, see <a href=\"#configure-eventdb-attributes\">Configure EventDB attributes</a>.</p>\n<p class=\"tip\"><i class=\"fa fa-info-circle\"></i>We recommend that you only enable EventDB for the specific event feeds that you need because the amount of data can become very large depending on your volume. For additional information, see <a href=\"/server-side/live-events-feeds/about-event-feeds/\">Live Events and Feeds</a>.</p>\n<h4 id=\"event-data-from-the-tealium-collect-tag\">Event data from the Tealium Collect tag</h4>\n<p>For feeds collecting data from the Tealium Collect tag, additional Boolean attributes are included for each tag that fires during an event. For example, if you have Google Analytics in your Tealium iQ Tag Management account along with the Tealium Collect tag, your event feeds include a Boolean attribute named <code>Google Analytics</code> indicating whether or not it fired for each event.</p>\n<p>For more information on attributes, see <a href=\"/server-side/attributes/about/\">Using Attributes</a>.</p>\n<h2 id=\"configure-audiencedb-attributes\">Configure AudienceDB attributes</h2>\n<p>By default, all audiences are selected for AudienceDB. You can deselect audiences to remove them from AudienceDB. You can also select or deselect visit and visitor attributes as needed.</p>\n<p>Use the following steps to configure the attributes and audiences that are stored in AudienceDB:</p>\n<ol>\n<li>\n<p>Go to <strong>DataAccess</strong> &gt; <strong>EventDB/AudienceDB</strong>.</p>\n</li>\n<li>\n<p>Click the <strong>AudienceDB</strong> tab.\nThe list of audiences and attributes available for your account is displayed.<br>\nYou can filter the list of attributes by <strong>Data Type</strong>, <strong>Attribute Type</strong> (Preloaded or Custom), <strong>AudienceDB</strong> (Enabled or Disabled), or <strong>Type</strong> (Audience or Attribute).</p>\n</li>\n<li>\n<p>Select or deselect attributes to add or remove them from AudienceDB.</p>\n <p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>Attributes marked as Restricted Data are always sent to AudienceDB. This behavior cannot be changed.</p>\n</li>\n<li>\n<p>Save and publish.</p>\n</li>\n</ol>\n<h2 id=\"configure-eventdb-attributes\">Configure EventDB attributes</h2>\n<p>By default, your event feeds contain all of the event attributes defined in your account.</p>\n<p>Follow these steps to configure the attributes that are stored in EventDB:</p>\n<ol>\n<li>\n<p>Go to <strong>DataAccess</strong> &gt; <strong>EventDB/AudienceDB</strong>.<br>\nThe list of event attributes available for your account is displayed. You can filter the list of attributes by <strong>Data Type</strong>, <strong>Attribute Type</strong> (Preloaded or Custom), <strong>EventDB</strong> (Enabled or Disabled).</p>\n <p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>Attributes marked as Restricted Data are excluded from event feeds by default. This can be changed in the settings for each feed.</p>\n</li>\n<li>\n<p>Select or deselect attributes to add or remove them from EventDB.</p>\n</li>\n<li>\n<p>Save and Publish.</p>\n</li>\n</ol>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>After you configure EventDB attributes and publish the changes, it may take up to one hour for data to begin populating your database.</p>\n<h2 id=\"changes-to-stored-attributes\">Changes to stored attributes</h2>\n<p>If you remove an attribute that was previously added for EventDB or AudienceDB storage, and publish the changes, that attribute will be removed from EventDB or AudienceDB.</p>\n<p>If you remove an attribute, and subsequently add it again and publish the changes, data in EventDB or AudienceDB that was removed cannot be restored.</p>\n"
        }  

    , 
        {
            "weight": "40",
            "url": "https://docs.tealium.com/server-side/data-storage/audiencedb-eventdb/eventdb-data-guide/",
            "title": "EventDB data guide",
            "body": "<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>Contact your account manager to activate EventDB for the appropriate profiles in your account. For information on configuring the attributes stored in EventDB, see <a href=\"/server-side/data-storage/audiencedb-eventdb/configure/\">Configure AudienceDB and EventDB</a>.</p>\n<p>When EventDB is enabled, the view of the schema contains the titles you apply to the filtered streams in EventStream, as follows:</p>\n<ol>\n<li>The <a href=\"/client-side-tags/tealium-collect-tag/\">Tealium Collect tag</a> (or other Collect library) sends event data to the Customer Data Hub where it&rsquo;s captured in Tealium&rsquo;s Amazon S3 bucket. At this stage, the data is flattened JSON.</li>\n<li>When the S3 bucket reaches a size of 100 MB (uncompressed) or after 1 hour has elapsed, whichever comes first, the data is compressed and prepared for Redshift.</li>\n<li>After the data is compressed, it is copied and imported into the Redshift database for your account.</li>\n</ol>\n<p>The database organization is aligned to your account and streams:</p>\n<ul>\n<li>A database for each account/profile (<code>ACCOUNT__PROFILE</code>)</li>\n<li>Two tables for each Filtered Stream\n<ul>\n<li>Raw data attribute column names (<code>ACCOUNT__PROFILE.events_STREAM</code>)</li>\n<li>Customer Data Hub attribute column names (<code>ACCOUNT__PROFILE.events_view_STREAM</code>)</li>\n</ul>\n</li>\n</ul>\n"
        }  

    , 
        {
            "weight": "50",
            "url": "https://docs.tealium.com/server-side/data-storage/audiencedb-eventdb/connect/",
            "title": "Connect to EventDB and AudienceDB",
            "body": "<h2 id=\"connect-to-redshift\">Connect to Redshift</h2>\n<p>To access to your EventDB and AudienceDB data, a third-party tool with the ability to connect to a Postgres-style database is required.</p>\n<ul>\n<li><strong>First Time Users</strong>\nAfter EventDB and AudienceDB are enabled for your account, Redshift Spectrum is automatically enabled.</li>\n<li><strong>Existing Customers</strong>\nBefore enabling Spectrum for existing customers that have been using DataAccess, a data migration is needed to ensure all existing and new data are written to the correct location. Coordinate with your team in advance to proceed.</li>\n</ul>\n<h2 id=\"get-database-credentials\">Get database credentials</h2>\n<p>Third-party tools with Postgres support require authentication credentials to connect. Authentication credentials are provided in the DataAccess Console.</p>\n<p>Database Credentials are now generated for each user. Previously, all users shared the credentials generated for an account and profile. If someone regenerated global credentials, all user connections were terminated, and all users had to reconnect.</p>\n<p>For user-specific credentials, the generated credentials are based on the account, profile, and the user&rsquo;s email address. Users can regenerate their own credentials without terminating other connections. You can remove access for a specific user without terminating other connections. To deactivate a specific user&rsquo;s credentials, contact Tealium Support.</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>Previously-generated global credentials can still be used, but cannot be regenerated.</p>\n<p>Use the following steps to get database authentication credentials:</p>\n<ol>\n<li>Navigate to <strong>DataAccess &gt; EventDB</strong> or <strong>DataAccess &gt; AudienceDB</strong>.</li>\n<li>Click <strong>Get DB Connection Details</strong>.</li>\n<li>Click <strong>Regenerate DB Credentials</strong>.<br>\nYou need to regenerate credentials even if this is your first time getting credentials.<br>\n<figure><a class=\"slb\" href=\"/images/server-side/connection-details.png\"><img src=\"https://docs.tealium.com/images/server-side/connection-details.png\"\n               alt=\"connection details\"\n               title=\"connection details\"/>\n          </a>\n      </figure></li>\n<li>Click <strong>Yes</strong> to confirm that you want to delete your existing credentials and generate new ones.<br>\nThe <strong>DB Connection Details</strong> screen displays the following fields:\n<ul>\n<li><strong>Username</strong><br>\nThe username for the database connection, which is a combination of your account, profile names, and your email address. For example, <code>account__profile__email</code>.</li>\n<li><strong>Password</strong><br>\nThe password for the database connection.</li>\n<li><strong>Database</strong><br>\nThe name of the database, usually the name of your account.</li>\n<li><strong>Host</strong><br>\nThe host name of the database server, specific to your data storage region.</li>\n<li><strong>Port</strong><br>\nThe port number for the connection.</li>\n</ul>\n</li>\n<li>Save the connection details for future use, then click <strong>Close</strong>.</li>\n</ol>\n<h3 id=\"browse-the-redshift-database\">Browse the Redshift database</h3>\n<p>After you have your database authentication credentials, you can connect to the database using a third-party tool. The following example uses SQL Workbench/J, which is a freeware application (see <a href=\"/server-side/data-storage/data-viz-tools/connecting-sql-workbench/\">Connecting to EventDB with SQL Workbench</a>). The schema naming convention is <code>account__profile</code>.</p>\n<p>The example below shows a view that joins all the related tables and columns.</p>\n<figure><a class=\"slb\" href=\"/images/server-side/sql-workbench-db-explorer.jpg\"><img src=\"https://docs.tealium.com/images/server-side/sql-workbench-db-explorer.jpg\"/>\n    </a>\n</figure>\n<p>This example shows a raw data table view. The column names are in the same positions in each table, regardless of the view. The main difference between these two views is the readability of the entry.</p>\n<figure><a class=\"slb\" href=\"/images/server-side/sql-workbench-columns.jpg\"><img src=\"https://docs.tealium.com/images/server-side/sql-workbench-columns.jpg\"/>\n    </a>\n</figure>\n<h2 id=\"writing-sql-queries\">Writing SQL queries</h2>\n<p>The following articles provide best practices and examples of useful queries:</p>\n<ul>\n<li><a href=\"/server-side/data-storage/data-viz-tools/connecting-sql-workbench/\">Connecting to EventDB and AudienceDB with SQL Workbench/J</a></li>\n<li><a href=\"https://support.tealiumiq.com/en/support/solutions/articles/36000363364-best-practices-for-writing-queries-for-eventdb-and-audiencedb/preview\">Best Practices for Writing Queries for EventDB and AudienceDB</a></li>\n<li><a href=\"https://support.tealiumiq.com/en/support/solutions/articles/36000363427-helpful-sql-queries-for-eventdb-and-audiencedb\">Helpful SQL Queries for EventDB and AudienceDB</a></li>\n</ul>\n"
        }  

    ]
}
