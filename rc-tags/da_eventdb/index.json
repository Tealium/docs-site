
{
    "kind": "term",
    "name": "da_eventdb",
    "count": 4,
    "items": [

    
        {
            "weight": "10",
            "url": "https://docs.tealium.com/server-side/data-storage/audiencedb-eventdb/about/",
            "title": "About AudienceDB and EventDB",
            "body":"<h2 id=\"how-it-works\">How it works</h2><p>AudienceDB and EventDB services store structured audience and event data in Amazon Redshift, which is a data warehouse similar to Postgres. New data is stored in EventDB and AudienceDB within one hour after it reaches EventStore or AudienceStore.</p><p>You can then query and analyze the data in Amazon Redshift using your preferred SQL client or Business Intelligence (BI) tool.</p><h3 id=\"prerequisites\">Prerequisites</h3><p>AudienceDB and EventDB must be activated for your account. For additional information, contact your account manager. When EventDB or AudienceDB is activated, a database is created in Amazon Redshift to store your data. New data is stored in EventDB and AudienceDB within one hour after it reaches EventStore or AudienceStore.</p><p>Each profile has its own database schema within the same Redshift instance, which means that each user has a specific Username and Password for each database schema (profile). The database schemas for AudienceDB and EventDB are created automatically when EventDB or AudienceDB are enabled for a userâ€™s profile.</p><p>After AudienceDB and EventDB have been activated, you must enable both and select the attributes to be stored. For more information, see <a href=\"/server-side/data-storage/audiencedb-eventdb/enable-audiencedb-eventdb/\">Enable AudienceDB and EventDB</a>.</p><h2 id=\"tables-views-and-normalized-views\">Tables, views, and normalized views</h2><p>The columns in the Redshift database tables are named according to the attribute type and the internal attribute ID. Views and normalized views of data contain the same data as tables, but have user friendly names that make it easier to write queries. The normalized view name is similar to the view name but with the attribute ID omitted from the table name. Table names and view names are created as follows:</p><ul><li><strong>Table names</strong><br>Column names are a combination of the attribute type and the attribute ID.<br>For example: <code>badge_30</code></li><li><strong>View names</strong><br>Column names are a combination of a user-friendly name and the attribute ID.<br>For example: <code>visitor - badge - fan (30)</code></li><li><strong>Normalized view names</strong><br>Column names are user-friendly names without attribute IDs.<br>For example: <code>visitor - badge - fan</code></li></ul><p>Views and normalized views simplify the process of running queries with aggregations such as <code>SUM()</code> , <code>MIN()</code>, and <code>MAX()</code>.</p><h3 id=\"data-retention\">Data retention</h3><p>The structured data stored in EventDB and AudienceDB remains available in Amazon RedShift for the length of time stated in your contract, usually 90 days. Contact your Account Manager to review the terms of your contract that determine the length of time your data is stored.</p><h2 id=\"audiencedb-tables\">AudienceDB tables</h2><p>Visit and visitor attributes are stored in database table columns according to their attribute type and name. Audiences are stored as columns in the visitors table. The keys for the tables are <code>visit_id</code> or <code>visitor_id</code>.</p><p>The following tables are available for visit and visitor data:</p><ul><li>Visit/Session Data: <code>visits</code></li><li>Visitor Data: <code>visitors</code></li></ul><p>In addition, the following tables exist for special attribute types:</p><ul><li>Arrays: <code>visit_arrays</code>, <code>visitor_arrays</code></li><li>Set of Strings: <code>visit_lists</code>, <code>visitor_lists</code></li><li>Tally: <code>visit_tallies</code>, <code>visitor_tallies</code></li></ul><p>For detailed information, see the <a href=\"/server-side/data-storage/audiencedb-eventdb/audiencedb-data-guide/\">AudienceDB data guide</a>.</p><h3 id=\"eventdb-tables\">EventDB tables</h3><p>EventDB table data includes event attributes for all events in the event feed. Table columns are named according to the attribute type and name, with only some attributes referencing internal ID&rsquo;s. Standard Universal Data Object (UDO) variables are named with a <code>udo_</code> prefix and most column names match their corresponding attribute names, for example: <code>udo_event_name</code>. For additional information, see <a href=\"/server-side/live-events-feeds/\">Live Events and Feeds</a>.</p><p class=\"tip\"><i class=\"fa fa-info-circle\"></i>Event data coming from the Tealium Collect tag also includes information about which tags executed on the page and page performance metrics. For more information, see <a href=\"/client-side-tags/tealium-collect-tag/\">Tealium Collect</a>.</p><p>The following tables are available for event data:</p><ul><li>Event Feed Data: <code>events_{FEED}</code></li></ul>"
        }  

    , 
        {
            "weight": "20",
            "url": "https://docs.tealium.com/server-side/data-storage/audiencedb-eventdb/enable-audiencedb-eventdb/",
            "title": "Enable AudienceDB and EventDB",
            "body":"<p>After EventDB and AudienceDB have been activated for your account, you must enable them for your profile.</p><h2 id=\"enable-eventdb-and-audience-db\">Enable EventDB and Audience DB</h2><p>Use the following steps to enable EventDB and AudienceDB for your profile, as follows:</p><ol><li>In the user menu, select <strong>Server-Side Settings &gt; DataAccess</strong>.</li><li>Set <strong>Event Data Storage</strong> to <strong>EventDB</strong>.</li><li>Set <strong>Audience Data Storage</strong> to <strong>AudienceDB</strong>.</li><li>Click <strong>Save</strong>.</li><li>Save and publish.</li></ol><h2 id=\"enable-data-storage\">Enable data storage</h2><ul><li><strong>Attributes</strong><br>Data storage is controlled at the attribute level. Event attributes and visit/visitor attributes have a checkbox that determines if they are stored in the database. Edit the attribute and toggle the checkbox on or off to include or omit the attribute from the database.<br>For additional information, see <a href=\"/server-side/attributes/about/\">Using Attributes</a>.</li><li><strong>Audiences</strong><br>All audiences are stored in AudienceDB.</li><li><strong>Event feeds</strong><br>Event feeds must be configured for the data to be stored in EventDB.<br><figure><a class=\"slb\" href=\"/images/server-side/ss-feeds-event-storage-slider.png\"><img src=\"https://docs.tealium.com/images/server-side/ss-feeds-event-storage-slider.png\"         alt=\"feeds event storage slider\"         title=\"feeds event storage slider\"/>    </a></figure><br>EventDB also collects preloaded attributes. Although preloaded attributes cannot be edited from the <strong>Attributes</strong> screen, you can adjust the preloaded attributes that are stored in EventDB using the <strong>DataAccess Console</strong>.</li></ul><p class=\"tip\"><i class=\"fa fa-info-circle\"></i>We recommend that you only enable EventDB for the specific event feeds that you need because the amount of data can become very large depending on your volume. For additional information, see <a href=\"/server-side/live-events-feeds/about-event-feeds/\">Live Events and Feeds</a>.</p><h2 id=\"configure-preloaded-eventdb-attributes\">Configure preloaded EventDB attributes</h2><p>By default, your streams contain all of the event attributes defined in your account. For streams collecting data from the Tealium Collect tag, additional Boolean attributes are included for each tag that fires during an event. For example, if you have Google Analytics in your Tealium iQ Tag Management account along with the Tealium Collect tag, your event streams include a Boolean attribute named &ldquo;Google Analytics&rdquo; indicating whether or not it fired for each event.</p><p>Follow these steps to configure which preloaded attributes are stored in EventDB:</p><ol><li><p>Go to <strong>DataAccess &gt; EventDB</strong>.</p></li><li><p>Click <strong>Show EventDB Attributes</strong>.<br>The list of event attributes available for your account is displayed.</p>   <p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>Attributes marked as Restricted Data are excluded by default, but you may check the box to include them. DOM attributes (for example, URL, domain, referrer, and user agent) are always sent and cannot be excluded.</p></li><li><p>Select or deselect attributes to add or remove them from EventDB.<br>All preloaded EventDB attributes are checked by default.<br><figure><a class=\"slb\" href=\"/images/server-side/data-access/eventdb-attr-select.png\"><img src=\"https://docs.tealium.com/images/server-side/data-access/eventdb-attr-select.png\"         alt=\"DataAccess Adjusting Preloaded EventDB Attributes\"         title=\"DataAccess Adjusting Preloaded EventDB Attributes\"/>    </a></figure></p>   <p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>DOM attributes, such as URL, domain, referrer, and user agent are always sent and cannot be excluded.</p></li><li><p>Click <strong>Save</strong>.</p></li><li><p>Save and Publish.</p></li></ol><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>After you have configured EventDB attributes, it may take up to an hour for data to begin populating your database.</p><h2 id=\"configure-audiencedb-attributes\">Configure AudienceDB attributes</h2><p>By default, all audiences are selected for AudienceDB. You can deselect audiences to remove them from AudienceDB.</p><p>Follow these steps to configure the attributes and audiences stored in AudienceDB:</p><ol><li>Go to <strong>DataAccess &gt; AudienceDB</strong>.</li><li>Click <strong>Show AudienceDB Attributes</strong>.<br>The list of visitor attributes, visit attributes, and audiences available for your account is displayed.</li><li>Deselect audiences to remove them from AudienceDB, if needed.</li><li>Select or deselect attributes to add or remove them from AudienceDB.<br><figure><a class=\"slb\" href=\"/images/server-side/data-access/audiencedb-attr-select.png\"><img src=\"https://docs.tealium.com/images/server-side/data-access/audiencedb-attr-select.png\"         alt=\"DataAccess Adjusting AudienceDB Attributes and Audiences\"         title=\"DataAccess Adjusting AudienceDB Attributes and Audiences\"/>    </a></figure></li><li>Click <strong>Save</strong>.</li><li>Save and Publish.</li></ol>"
        }  

    , 
        {
            "weight": "40",
            "url": "https://docs.tealium.com/server-side/data-storage/audiencedb-eventdb/eventdb-data-guide/",
            "title": "EventDB data guide",
            "body":"<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>Contact your account manager to activate EventDB for the appropriate profiles in your account. For information on enabling EventDB, see <a href=\"/server-side/data-storage/audiencedb-eventdb/enable-audiencedb-eventdb/\">Enable AudienceDB and EventDB</a>.</p><p>After EventDB is enabled, the view of the schema contains the titles you apply to the filtered streams in EventStream, as follows:</p><ol><li>The <a href=\"/client-side-tags/tealium-collect-tag/\">Tealium Collect tag</a> (or other Collect library) sends event data to the Customer Data Hub where it&rsquo;s captured in Tealium&rsquo;s Amazon S3 bucket. At this stage, the data is flattened JSON.</li><li>When the S3 bucket reaches a size of 100 MB (uncompressed) or after 1 hour has elapsed, whichever comes first, the data is compressed and prepared for Redshift.</li><li>After the data is compressed, it is copied and imported into the Redshift database for your account.</li></ol><p>The database organization is aligned to your account and streams:</p><ul><li>A database for each account/profile (<code>ACCOUNT__PROFILE</code>)</li><li>Two tables for each Filtered Stream<ul><li>Raw data attribute column names (<code>ACCOUNT__PROFILE.events_STREAM</code>)</li><li>Customer Data Hub attribute column names (<code>ACCOUNT__PROFILE.events_view_STREAM</code>)</li></ul></li></ul>"
        }  

    , 
        {
            "weight": "50",
            "url": "https://docs.tealium.com/server-side/data-storage/audiencedb-eventdb/connect/",
            "title": "Connect to EventDB and AudienceDB",
            "body":"<h2 id=\"connect-to-redshift\">Connect to Redshift</h2><p>To access to your EventDB and AudienceDB data, a third-party tool with the ability to connect to a Postgres-style database is required.</p><ul><li><strong>First Time Users</strong>The first time you enable EventDB and AudienceDB, Redshift Spectrum is automatically enabled.</li><li><strong>Existing Customers</strong>Before enabling Spectrum for existing customers that have been using DataAccess, a data migration is needed to ensure all existing and new data are written to the correct location. Coordinate with your team in advance to proceed.</li></ul><h2 id=\"get-database-credentials\">Get database credentials</h2><p>Third-party tools with Postgres support require authentication credentials to connect. Authentication credentials are provided in the DataAccess Console.</p><p>Database Credentials are now generated for each user. Previously, all users shared the credentials generated for an account and profile. If someone regenerated global credentials, all user connections were terminated, and all users had to reconnect.</p><p>For user-specific credentials, the generated credentials are based on the account, profile, and the user&rsquo;s email address. Users can regenerate their own credentials without terminating other connections. You can remove access for a specific user without terminating other connections. To deactivate a specific user&rsquo;s credentials, contact Tealium Support.</p><p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>Previously-generated global credentials can still be used, but cannot be regenerated.</p><p>Use the following steps to get database authentication credentials:</p><ol><li>Navigate to <strong>DataAccess &gt; EventDB</strong> or <strong>DataAccess &gt; AudienceDB</strong>.</li><li>Click <strong>Get DB Connection Details</strong>.</li><li>Click <strong>Regenerate DB Credentials</strong>.<br>You need to regenerate credentials even if this is your first time getting credentials.<br><figure><a class=\"slb\" href=\"/images/server-side/connection-details.png\"><img src=\"https://docs.tealium.com/images/server-side/connection-details.png\"         alt=\"connection details\"         title=\"connection details\"/>    </a></figure></li><li>Click <strong>Yes</strong> to confirm that you want to delete your existing credentials and generate new ones.<br>The <strong>DB Connection Details</strong> screen displays the following fields:<ul><li><strong>Username</strong><br>The username for the database connection, which is a combination of your account, profile names, and your email address. For example, <code>account__profile__email</code>.</li><li><strong>Password</strong><br>The password for the database connection.</li><li><strong>Database</strong><br>The name of the database, usually the name of your account.</li><li><strong>Host</strong><br>The host name of the database server, specific to your data storage region.</li><li><strong>Port</strong><br>The port number for the connection.</li></ul></li><li>Save the connection details for future use, then click <strong>Close</strong>.</li></ol><h3 id=\"browse-the-redshift-database\">Browse the Redshift database</h3><p>After you have your database authentication credentials, you can connect to the database using a third-party tool. The following example uses SQL Workbench/J, which is a freeware application (see <a href=\"/server-side/data-storage/data-viz-tools/connecting-sql-workbench/\">Connecting to EventDB with SQL Workbench</a>). The schema naming convention is <code>account__profile</code>.</p><p>The example below shows a view that joins all the related tables and columns.</p><figure><a class=\"slb\" href=\"/images/server-side/sql-workbench-db-explorer.jpg\"><img src=\"https://docs.tealium.com/images/server-side/sql-workbench-db-explorer.jpg\"/>    </a></figure><p>This example shows a raw data table view. The column names are in the same positions in each table, regardless of the view. The main difference between these two views is the readability of the entry.</p><figure><a class=\"slb\" href=\"/images/server-side/sql-workbench-columns.jpg\"><img src=\"https://docs.tealium.com/images/server-side/sql-workbench-columns.jpg\"/>    </a></figure><h2 id=\"writing-sql-queries\">Writing SQL queries</h2><p>The following articles provide best practices and examples of useful queries:</p><ul><li><a href=\"/server-side/data-storage/data-viz-tools/connecting-sql-workbench/\">Connecting to EventDB and AudienceDB with SQL Workbench/J</a></li><li><a href=\"https://support.tealiumiq.com/en/support/solutions/articles/36000363364-best-practices-for-writing-queries-for-eventdb-and-audiencedb/preview\">Best Practices for Writing Queries for EventDB and AudienceDB</a></li><li><a href=\"https://support.tealiumiq.com/en/support/solutions/articles/36000363427-helpful-sql-queries-for-eventdb-and-audiencedb\">Helpful SQL Queries for EventDB and AudienceDB</a></li></ul>"
        }  

    ]
}
