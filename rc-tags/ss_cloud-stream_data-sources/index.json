
{
    "kind": "term",
    "name": "ss_cloud-stream_data-sources",
    "count": 4,
    "items": [

    
        {
            "weight": "10",
            "url": "https://docs.tealium.com/server-side/cloudstream/about/",
            "title": "About CloudStream",
            "body": "<p>CloudStream is a segment builder that activates customer data directly from your data cloud, without storing or loading data into Tealium. Designed primarily for batch marketing lists and warehouse activation, CloudStream lets you create and manage segments from your data cloud and activate them using supported connectors.</p>\n<p>This reduces overhead in the following ways:</p>\n<ul>\n<li>No cost to replicate or synchronize data.</li>\n<li>Eliminate errors from data replication and synchronization.</li>\n<li>Simpler data governance.</li>\n<li>Reduce data management burden.</li>\n</ul>\n<h2 id=\"requirements\">Requirements</h2>\n<ul>\n<li>Access to a data source (accounts and table permissions required).</li>\n<li>Credentials for activation destinations (email, SMS, ads platforms, etc.).</li>\n<li>Review data movement and compliance policies.\n<ul>\n<li>Ensure compliance with regulatory guidelines for data transfer, processing, and protection in CloudStream. Review policies to maintain privacy and security when activating data through platforms like Databricks or Snowflake.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"how-it-works\">How it works</h2>\n<p>CloudStream connects directly to your data cloud, letting you activate customer data without moving or storing it in Tealium.</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_workflow.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_workflow.png\"\n         alt=\"CloudStream workflow diagram\"\n         title=\"CloudStream workflow diagram\"/>\n    </a>\n</figure>\n<p>In a dedicated server-side profile, you define a data source to connect to a table or view in your data cloud, then map its columns to cloud attributes. You can add enrichments to further process the data in attributes, or enrich additional cloud attributes with averages or other calculations. Using these attributes, you build segments — groups of users or entities that meet specific criteria. Finally, you activate these segments by sending them to your chosen destinations through connectors.</p>\n<p>CloudStream uses a dedicated CloudStream profile, keeping your workflow organized and separate from other Tealium products.</p>\n<h3 id=\"dedicated-profile\">Dedicated profile</h3>\n<p>CloudStream uses its own dedicated server-side profile, separate from other platform profiles. This separation lets you manage attributes, segments, rules, and connectors for large datasets and complex segments without impacting your AudienceStream or EventStream workflows.</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>To create a dedicated CloudStream profile, contact Tealium Support.</p>\n<h3 id=\"data-supply-chain-dashboard\">Data supply chain dashboard</h3>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_profile_dashboard.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_profile_dashboard.png\"\n         alt=\"CloudStream profile dashboard\"\n         title=\"CloudStream profile dashboard\"/>\n    </a>\n</figure>\n<p>The CloudStream data supply chain dashboard lists the following information:</p>\n<ul>\n<li>The number of cloud data sources configured.</li>\n<li>The number of data records received.</li>\n<li>The number of enrichments applied.</li>\n<li>The number of active segments.</li>\n<li>The number of functions and connector actions triggered.</li>\n<li>The number of connectors configured.</li>\n</ul>\n<p>Tables list the cloud data sources, segments, and destinations (connectors and functions) configured in the profile.</p>\n<h3 id=\"data-sources\">Data sources</h3>\n<p>Data sources are defined connections to your data cloud, such as Snowflake or Databricks. CloudStream connects to these data sources to retrieve and activate segments without storing the data in Tealium. This lets you work with large datasets directly from the cloud, leveraging the power of your existing data infrastructure.</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_datasource_summary.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_datasource_summary.png\"\n         alt=\"CloudStream datasource summary\"\n         title=\"CloudStream datasource summary\"/>\n    </a>\n</figure>\n<p class=\"tip\"><i class=\"fa fa-info-circle\"></i>You can connect to up to 10 data sources in a profile.</p>\n<p>CloudStream data sources are designed to work directly with data stored in a data cloud. Data remains in the data cloud and is only temporarily imported for activation through connectors, without being stored in Tealium.</p>\n<p>Each data source can connect to a single view or table at a time. If you need to connect to multiple tables or views from a data cloud, configure a separate data source for each table or view.</p>\n<p>If you want to combine data from multiple tables into data records that CloudStream can read in a segment, you need to join the tables or views in the data cloud into a single table or view and then use that joined table as the segment data source.</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>CloudStream only supports cloud data sources.</p>\n<p>For more information, see <a href=\"/server-side/cloudstream/datasources/\">Manage CloudStream data sources</a>.</p>\n<h3 id=\"cloud-attributes\">Cloud attributes</h3>\n<p>Cloud attributes are defined when you create a data source in CloudStream. As you connect to a table in your data cloud, CloudStream analyzes the table’s columns, determines their data types, and generates corresponding cloud attributes. You can review and adjust these attribute mappings during the data source setup process to ensure they align with your activation needs.</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloud_attributes.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloud_attributes.png\"\n         alt=\"Cloud attributes\"\n         title=\"Cloud attributes\"/>\n    </a>\n</figure>\n<p>Cloud attributes are identical to event attributes in structure and behavior, except that they cannot be marked as <a href=\"/server-side/attributes/restricted-data/\">restricted data</a> and CloudStream does not contain <a href=\"/server-side/attributes/preloaded/\">preloaded attributes</a>.</p>\n<p class=\"tip\"><i class=\"fa fa-info-circle\"></i>If you need more than 500 attributes in a profile, contact your Customer Success Manager.</p>\n<p>For more information, see <a href=\"/server-side/cloudstream/attributes/\">Cloud attributes</a>.</p>\n<h3 id=\"segments\">Segments</h3>\n<p>Segments are groups of users or entities that meet a set of conditions based on the cloud attributes defined in your data source. Segments in CloudStream are not persisted in the system and are only dynamically evaluated in real time while data is imported from your data cloud and activated through connectors.</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_segment_details.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_segment_details.png\"\n         alt=\"CloudStream segment details\"\n         title=\"CloudStream segment details\"/>\n    </a>\n</figure>\n<p>For more information, see <a href=\"/server-side/cloudstream/segments/\">Manage CloudStream segments</a>.</p>\n<h4 id=\"segments-with-multiple-data-sources\">Segments with multiple data sources</h4>\n<p>You cannot directly join multiple data sources within CloudStream. However, you might want to combine multiple data sources into a segment that has a shared purpose, such as identifying high value customers or high potential prospects.</p>\n<p>For example, suppose you want to create a single segment to find high potential prospects for buying a car from a prospects table and from a table of people who have taken a test drive. First, create a segment that includes each of these data sources. Then, set a filter for the prospects, use an OR condition, and set another filter for the test drive participants.</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_combined_segment_details.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_combined_segment_details.png\"\n         alt=\"CloudStream combined segment details\"\n         title=\"CloudStream combined segment details\"/>\n    </a>\n</figure>\n<h3 id=\"activations\">Activations</h3>\n<p>Activations are the process of delivering segments to your marketing, analytics, and advertising platforms. You can set activations through connector actions or functions. For more information, see <a href=\"/server-side/connectors/add/\">Add a connector</a> and <a href=\"/server-side/functions/data-record-functions/data-record-functions/\">About data record functions</a>.</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_segment_path.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_segment_path.png\"\n         alt=\"CloudStream segment path\"\n         title=\"CloudStream segment path\"/>\n    </a>\n</figure>\n<p>You can output a segment to multiple connector actions or functions. However, each configured activation can only use data from the selected data source. If you want to activate data from additional data sources through an activation, configure a separate action or function for each data source.</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>To enable CloudStream connectors and functions, go to <strong>Admin menu</strong> &gt; <strong>Server-Side Settings</strong> &gt; <strong>CloudStream Connectors</strong>, set <strong>Activate CloudStream Connectors</strong> to <code>On</code>, and click <strong>Save</strong>.</p>\n<h2 id=\"comparison\">Comparison</h2>\n<p>The key differences between CloudStream, EventStream, and AudienceStream are:</p>\n<table>\n<thead>\n<tr>\n<th>Feature</th>\n<th>CloudStream</th>\n<th>EventStream / AudienceStream</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Data Source</td>\n<td>Data cloud (Snowflake, Databricks)</td>\n<td>Data cloud, web, mobile, server, API events</td>\n</tr>\n<tr>\n<td>Data Storage</td>\n<td>No data stored in Tealium</td>\n<td>Data loaded and stored in Tealium (Visitor profiles and DataAccess)</td>\n</tr>\n<tr>\n<td>Segment Persistence</td>\n<td>Dynamic, not persisted</td>\n<td>Persisted in visitor profiles</td>\n</tr>\n<tr>\n<td>Activations</td>\n<td>AudienceStream connectors and functions</td>\n<td>AudienceStream and EventStream connectors and functions</td>\n</tr>\n<tr>\n<td>Connector Actions</td>\n<td>Separate for each data source</td>\n<td>Multiple data sources per action.</td>\n</tr>\n<tr>\n<td>Primary Use Case</td>\n<td>Batch/warehouse activation</td>\n<td>Real-time processing and activation</td>\n</tr>\n</tbody>\n</table>\n"
        }  

    , 
        {
            "weight": "20",
            "url": "https://docs.tealium.com/server-side/cloudstream/datasources/",
            "title": "Manage CloudStream data sources",
            "body": "<h2 id=\"how-it-works\">How it works</h2>\n<p>Data sources are defined connections to your data cloud, such as Snowflake or Databricks. CloudStream connects to these data sources to retrieve and activate segments without storing the data in Tealium. This lets you work with large datasets directly from the cloud, leveraging the power of your existing data infrastructure.</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_datasource_summary.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_datasource_summary.png\"\n         alt=\"CloudStream datasource summary\"\n         title=\"CloudStream datasource summary\"/>\n    </a>\n</figure>\n<p class=\"tip\"><i class=\"fa fa-info-circle\"></i>You can connect to up to 10 data sources in a profile.</p>\n<p>CloudStream data sources are designed to work directly with data stored in a data cloud. Data remains in the data cloud and is only temporarily imported for activation through connectors, without being stored in Tealium.</p>\n<p>Each data source can connect to a single view or table at a time. If you need to connect to multiple tables or views from a data cloud, configure a separate data source for each table or view.</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>CloudStream only supports cloud data sources.</p>\n<p>For more information about cloud data sources, see <a href=\"/server-side/data-sources/cloud-data/about/\">About cloud data sources</a>.</p>\n<h2 id=\"test-configuration\">Test configuration</h2>\n<p>We recommend that you test the data source and query before enabling data sources, segments, or activations. However, running a test may activate segments, trigger enabled actions, or affect downstream systems. To prevent unintended results, disable connectors and functions, limit test records, and coordinate with recipients.</p>\n<p>To test your data source configuration, use the following steps:</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_test_configuration.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_test_configuration.png\"\n         alt=\"Cloud test configuration\"\n         title=\"Cloud test configuration\"/>\n    </a>\n</figure>\n<ol>\n<li>Click the action button in the upper-right corner of a data source window, and then click <strong>End-to-end Testing</strong>.</li>\n<li>Select how you want to receive the output\n<ul>\n<li><strong>New Trace Session</strong>: The output is displayed in a new trace session with up to 10 records. This option is best for confirming end-to-end verification and log details.</li>\n<li><strong>Existing Trace Session</strong>: The output is displayed in a trace session you have already started. Enter the <strong>Trace ID</strong> and click <strong>Join Trace</strong>.</li>\n<li><strong>Direct Output</strong>: The raw results from the output is displayed on the screen. No trace ID will be added to the data records and trace will not be available. This option is best for quickly confirming the query and attribute mapping.</li>\n</ul>\n</li>\n<li>Select the number of rows to process for the test. The maximum number of rows is 10.</li>\n<li>Under <strong>Test Query</strong>, select the columns from the table to include in the test. Click the <strong>X</strong> in a column to remove it from the list. You must select at least one column.</li>\n<li>Under <strong>From Table</strong>, select the table you want to query. The <strong>Select Columns</strong> box will update with the table’s columns.</li>\n<li>Under <strong>Where</strong>, enter the SQL query to perform on the table.</li>\n<li>Click <strong>Check Query</strong> to validate the SQL and verify that required fields are set.</li>\n<li>The results will appear in a table under the <strong>Query Result Preview</strong> tab: <figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_test_check_query.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_test_check_query.png\"\n         alt=\"Cloud test check query\"\n         title=\"Cloud test check query\"/>\n    </a>\n</figure></li>\n<li>Click <strong>Start Test</strong> to start the configuration test.</li>\n</ol>\n<p>The right sidebar will display a progress bar that estimates the amount of time to finish the test and status messages to let you know if the test has encountered any errors.</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_test_output.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_test_output.png\"\n         alt=\"Cloud test output\"\n         title=\"Cloud test output\"/>\n    </a>\n</figure>\n<p>When the test is complete, the results are displayed:</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_test_results.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_test_results.png\"\n         alt=\"Cloud test results\"\n         title=\"Cloud test results\"/>\n    </a>\n</figure>\n<ul>\n<li>If you want to watch the test run in a trace, click <strong>Join Trace</strong>.</li>\n<li>If the test fails, you can do the following:\n<ul>\n<li>Click <strong>Edit Test Configuration</strong> to change the configuration settings.</li>\n<li>Click <strong>Retry Test</strong> to run the current configuration again.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"manage-offset\">Manage offset</h2>\n<p>Data sources track the date or incrementing value position where querying begins in your cloud data view or table. An offset lets you reset or manually set that position to control where in the view or table to start querying.</p>\n<p>For example, suppose a recent mailing list activation contained an error and processed 100 records, and now the current incrementing offset is 342. To reprocess those records after correcting the email activation, set the offset to 242. When you restart the data source, it queries records starting from that position and sends the corrected email.</p>\n<p>You can only manage the offset if the following conditions are true:</p>\n<ul>\n<li>The current profile is published.</li>\n<li>The query mode is <strong>Timestamp + Incrementing (Recommended)</strong>, <strong>Timestamp</strong>, or <strong>Incrementing</strong>. You cannot manage the offset for <strong>Full Resync</strong> query mode.</li>\n<li>The data source is stopped.\n<ul>\n<li>If the data source status is running, scheduled, or failed, you cannot edit the offset. Only information about the current offset is available.</li>\n<li>If the status is initializing, inactive, or there is a connection error, the offset is not available.</li>\n</ul>\n</li>\n</ul>\n<p>To manage the offset for the data source, use the following steps:</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/manage_offset.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/manage_offset.png\"\n         alt=\"manage offset\"\n         title=\"manage offset\"/>\n    </a>\n</figure>\n<ol>\n<li>Click the action button in the upper-right corner of the data source details window and then click <strong>Manage Offset</strong>.</li>\n<li>The offset methods available are <strong>Timestamp</strong> and <strong>Incrementing Column</strong>. Your query mode determines which offsets are available.</li>\n<li>Under <strong>Timestamp Column</strong>, select the column in the table that represents the timestamp.</li>\n<li>Under <strong>New Timestamp</strong>, select a date and time to offset the timestamp from when importing the data.\n<ul>\n<li>The new timestamp must be a past time and date. It cannot be a future date and time.</li>\n<li>The current timestamp field displays the currently used offset.</li>\n</ul>\n</li>\n<li>Under <strong>Incrementing column</strong>, select the column that represents the incrementing value for each row added to the table.</li>\n<li>Under <strong>New Increment</strong>, enter a number to use to offset the ID from when importing the data.\n<ul>\n<li>The new offset ID must be a positive integer.</li>\n<li>The current offset ID field displays the currently used number to use as an offset.</li>\n</ul>\n</li>\n</ol>\n<p>Click <strong>Validate Offset Changes</strong> to preview the data that will be imported from the new offset position. The table shows sample rows. It also provides an estimate of how many rows will be processed after you adjust the offset.</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/validate_offset.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/validate_offset.png\"\n         alt=\"validate offset\"\n         title=\"validate offset\"/>\n    </a>\n</figure>\n<p>Click <strong>Done</strong> to confirm the new offset settings. Click <strong>Cancel</strong> to discard your changes.</p>\n<p>Restart the data source after changing the offset.</p>\n"
        }  

    , 
        {
            "weight": "30",
            "url": "https://docs.tealium.com/server-side/cloudstream/attributes/",
            "title": "Cloud attributes",
            "body": "<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloud_attributes.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloud_attributes.png\"\n         alt=\"Cloud attributes\"\n         title=\"Cloud attributes\"/>\n    </a>\n</figure>\n<p>Cloud attributes are the foundational data elements used within CloudStream. They are defined when you create a data source in CloudStream. As you connect to a table in your data cloud, CloudStream analyzes the table’s columns, determines their data types, and generates corresponding cloud attributes.</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/datasource_cloud_attribute_mapping.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/datasource_cloud_attribute_mapping.png\"\n         alt=\"Cloud attribute mapping\"\n         title=\"Cloud attribute mapping\"/>\n    </a>\n</figure>\n<p>The cloud data source supports all data types. Review and adjust attribute mappings during the data source setup process to ensure that each attribute&rsquo;s data type is correct and matches the requirements for data activation, such as segmentation or audience targeting.</p>\n<p>In general, use the following data type mappings to ensure data is imported correctly:</p>\n<table>\n<thead>\n<tr>\n<th>Cloud data</th>\n<th>Tealium</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Numeric</td>\n<td>Number attributes</td>\n</tr>\n<tr>\n<td>String</td>\n<td>String attributes</td>\n</tr>\n<tr>\n<td>Logical</td>\n<td>Boolean attributes</td>\n</tr>\n<tr>\n<td>Date and time</td>\n<td>Date attributes</td>\n</tr>\n<tr>\n<td>Arrays</td>\n<td>Array of strings, array of numbers, or array of booleans</td>\n</tr>\n<tr>\n<td>Other</td>\n<td>String attributes</td>\n</tr>\n</tbody>\n</table>\n<p>For more information about data types, see <a href=\"/server-side/data-sources/cloud-data/about/#data-types\">About cloud data sources &gt; Data types</a>.</p>\n<p>You can also select an existing cloud attribute in a mapping to reuse it across different data sources and segments within CloudStream.</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>You can see your current cloud attribute total on the <strong>Attributes</strong> screen. If you need more than 500 attributes in a profile, contact your Customer Success Manager.</p>\n<p>Cloud attributes are identical to event attributes in structure and behavior, except that they cannot be marked as restricted data and CloudStream does not contain preloaded attributes.</p>\n<p>For more information, see <a href=\"/server-side/attributes/about/\">About attributes</a>.</p>\n"
        }  

    , 
        {
            "weight": "100",
            "url": "https://docs.tealium.com/server-side/functions/data-record-functions/data-record-functions/",
            "title": "About data record functions",
            "body": "<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>To enable CloudStream functions, go to <strong>Admin menu</strong> &gt; <strong>Server-Side Settings</strong> &gt; <strong>CloudStream Connectors</strong>, set <strong>Activate CloudStream Connectors</strong> to <code>On</code>, and click <strong>Save</strong>.</p>\n<h2 id=\"how-it-works\">How it works</h2>\n<p>Functions in CloudStream run within the CloudStream data pipeline and have access to the queried data records from your cloud data sources. Use functions within a CloudStream profile to retrieve data from other systems, augment your data, or send data to other endpoints.</p>\n<p>Adding and managing CloudStream functions is the same as managing other functions, with the following exceptions:</p>\n<ul>\n<li>When creating a function, instead of selecting an audience or an event, you select a <a href=\"/server-side/cloudstream/datasources/\">cloud data source</a> and a <a href=\"/server-side/cloudstream/segments/\">segment</a>.</li>\n<li>Each CloudStream function can only use data from one data source. If you want to activate data from additional data sources, configure a separate function for each one.</li>\n<li>If a segment contains attributes mapped from multiple data sources, only the attributes from the selected data source are available in the function.</li>\n</ul>\n<p>For more about functions, see <a href=\"/server-side/functions/about/\">About functions</a>.</p>\n<h2 id=\"triggers\">Triggers</h2>\n<p>CloudStream data record functions are triggered after the data record has been processed, as shown in the following CloudStream data pipeline diagram:</p>\n<figure><a class=\"slb\" href=\"/images/server-side/functions-data-record-pipeline.png\"><img src=\"https://docs.tealium.com/images/server-side/functions-data-record-pipeline.png\"/>\n    </a>\n</figure>\n<p>Use functions at this point in the pipeline as activations to send the data record to other systems.</p>\n<p class=\"note\"><i class=\"fa fa-exclamation-triangle\"></i>At this point in the CloudStream data pipeline, modifications to the <code>dataRecord</code> object have no effect on other parts of the system.</p>\n<h2 id=\"runtime-version\">Runtime version</h2>\n<p>The current runtime version is the same as <a href=\"/server-side/functions/event-visitor-functions/event-visitor-v3/\">event and visitor functions V3</a>, but includes the following changes:</p>\n<ul>\n<li>The <code>track</code> library has been removed.</li>\n<li>The data record cannot be sent back to Tealium as a new event.</li>\n</ul>\n<h2 id=\"activate-function\">activate() function</h2>\n<p>When you create a data record function, the default code is shown in the <strong>Code</strong> tab of the functions code editor:</p>\n<figure><a class=\"slb\" href=\"/images/early-access/cloudstream/cloudstream_function_details.png\"><img src=\"https://docs.tealium.com/images/early-access/cloudstream/cloudstream_function_details.png\"/>\n    </a>\n</figure>\n<p>This code contains the <code>activate()</code> function and its input parameters.</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-js\" data-lang=\"js\"><span style=\"display:flex;\"><span><span style=\"color:#a6e22e\">activate</span>(<span style=\"color:#66d9ef\">async</span> ({ <span style=\"color:#a6e22e\">dataRecord</span>, <span style=\"color:#a6e22e\">helper</span> }) =&gt; {\n</span></span><span style=\"display:flex;\"><span>  ...\n</span></span><span style=\"display:flex;\"><span>});\n</span></span></code></pre></div><p>Data record functions have a <a href=\"#data-record-object\"><code>dataRecord object</code></a> and <code>helper</code> object.</p>\n<p>The <code>helper</code> parameter provides <code>helper.getAuth()</code> and <code>helper.getGlobalVariable()</code> for getting authorization and retrieving global variables. For more information, see <a href=\"/server-side/functions/event-visitor-functions/event-visitor-v3/#helper-object\">Helper object</a>.</p>\n<h3 id=\"data-record-object\">Data record object</h3>\n<p>The <code>dataRecord</code> object is available for CloudStream functions and contains the following properties:</p>\n<table>\n<thead>\n<tr>\n<th>Property</th>\n<th>Data type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>account</code></td>\n<td>string</td>\n<td>Tealium account name.</td>\n</tr>\n<tr>\n<td><code>data</code></td>\n<td>object</td>\n<td>The data record queried from the cloud data source, referenced at <code>dataRecord.data.udo</code>.</td>\n</tr>\n<tr>\n<td><code>event_id</code></td>\n<td>string</td>\n<td>Tealium event ID.</td>\n</tr>\n<tr>\n<td><code>post_time</code></td>\n<td>number</td>\n<td>Timestamp indicating when the data record was queried.</td>\n</tr>\n<tr>\n<td><code>profile</code></td>\n<td>string</td>\n<td>Tealium profile name.</td>\n</tr>\n<tr>\n<td><code>dataSourceId</code></td>\n<td>string</td>\n<td>The ID of the data source.</td>\n</tr>\n</tbody>\n</table>\n<p>Example data record object:</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-json\" data-lang=\"json\"><span style=\"display:flex;\"><span>{\n</span></span><span style=\"display:flex;\"><span>  <span style=\"color:#f92672\">&#34;account&#34;</span>: <span style=\"color:#e6db74\">&#34;your-account&#34;</span>,\n</span></span><span style=\"display:flex;\"><span>  <span style=\"color:#f92672\">&#34;profile&#34;</span>: <span style=\"color:#e6db74\">&#34;your-profile&#34;</span>,\n</span></span><span style=\"display:flex;\"><span>  <span style=\"color:#f92672\">&#34;data&#34;</span>: {\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#f92672\">&#34;udo&#34;</span>: {\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;CDW_Column1_Timestamp&#34;</span>: <span style=\"color:#ae81ff\">1753077016157</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;CDW_Column2_Id&#34;</span>: <span style=\"color:#ae81ff\">10</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;CDW_Column3_EmailAddress&#34;</span>: <span style=\"color:#e6db74\">&#34;user@example.com&#34;</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;_dc_ttl_&#34;</span>: <span style=\"color:#ae81ff\">60000</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;tealium_datasource&#34;</span>: <span style=\"color:#e6db74\">&#34;abcdefg&#34;</span>,\n</span></span><span style=\"display:flex;\"><span>      <span style=\"color:#f92672\">&#34;tealium_event&#34;</span>: <span style=\"color:#e6db74\">&#34;data_ingestion&#34;</span>\n</span></span><span style=\"display:flex;\"><span>    }\n</span></span><span style=\"display:flex;\"><span>  },\n</span></span><span style=\"display:flex;\"><span>  <span style=\"color:#f92672\">&#34;dataSourceId&#34;</span>: <span style=\"color:#e6db74\">&#34;abcdefg&#34;</span>,\n</span></span><span style=\"display:flex;\"><span>  <span style=\"color:#f92672\">&#34;event_id&#34;</span>: <span style=\"color:#e6db74\">&#34;cf8bd406-787b-4fe9-8b45-7782e6663708&#34;</span>,\n</span></span><span style=\"display:flex;\"><span>  <span style=\"color:#f92672\">&#34;post_time&#34;</span>: <span style=\"color:#ae81ff\">1753774131897</span>,\n</span></span><span style=\"display:flex;\"><span>}\n</span></span></code></pre></div><h3 id=\"example\">Example</h3>\n<p>This is an example CloudStream function that uses the Tealium Crypto library to hash an email address attribute (<code>CDW_Column3_EmailAddress</code>) from the data record and then send the data record to a webhook.</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-javascript\" data-lang=\"javascript\"><span style=\"display:flex;\"><span><span style=\"color:#66d9ef\">import</span> <span style=\"color:#a6e22e\">C</span> <span style=\"color:#a6e22e\">from</span> <span style=\"color:#e6db74\">&#34;tealium/crypto&#34;</span>;\n</span></span><span style=\"display:flex;\"><span>\n</span></span><span style=\"display:flex;\"><span><span style=\"color:#66d9ef\">const</span> <span style=\"color:#a6e22e\">send</span> <span style=\"color:#f92672\">=</span> <span style=\"color:#66d9ef\">async</span> (<span style=\"color:#a6e22e\">data</span>) =&gt; {\n</span></span><span style=\"display:flex;\"><span>        <span style=\"color:#a6e22e\">console</span>.<span style=\"color:#a6e22e\">log</span>(<span style=\"color:#e6db74\">&#34;Sending: &#34;</span> <span style=\"color:#f92672\">+</span> <span style=\"color:#a6e22e\">JSON</span>.<span style=\"color:#a6e22e\">stringify</span>(<span style=\"color:#a6e22e\">data</span>, <span style=\"color:#66d9ef\">null</span>, <span style=\"color:#ae81ff\">2</span>));\n</span></span><span style=\"display:flex;\"><span>\n</span></span><span style=\"display:flex;\"><span>        <span style=\"color:#66d9ef\">return</span> <span style=\"color:#a6e22e\">fetch</span>(<span style=\"color:#e6db74\">&#34;https://example.com/example-webhook/&#34;</span>, {\n</span></span><span style=\"display:flex;\"><span>        <span style=\"color:#a6e22e\">method</span><span style=\"color:#f92672\">:</span> <span style=\"color:#e6db74\">&#39;POST&#39;</span>,\n</span></span><span style=\"display:flex;\"><span>        <span style=\"color:#a6e22e\">headers</span><span style=\"color:#f92672\">:</span> {\n</span></span><span style=\"display:flex;\"><span>            <span style=\"color:#e6db74\">&#39;Accept&#39;</span><span style=\"color:#f92672\">:</span> <span style=\"color:#e6db74\">&#39;application/json&#39;</span>,\n</span></span><span style=\"display:flex;\"><span>            <span style=\"color:#e6db74\">&#39;Content-Type&#39;</span><span style=\"color:#f92672\">:</span> <span style=\"color:#e6db74\">&#39;application/json&#39;</span>\n</span></span><span style=\"display:flex;\"><span>        },\n</span></span><span style=\"display:flex;\"><span>        <span style=\"color:#a6e22e\">body</span><span style=\"color:#f92672\">:</span> <span style=\"color:#a6e22e\">JSON</span>.<span style=\"color:#a6e22e\">stringify</span>(<span style=\"color:#a6e22e\">data</span>)\n</span></span><span style=\"display:flex;\"><span>});\n</span></span><span style=\"display:flex;\"><span>}\n</span></span><span style=\"display:flex;\"><span>\n</span></span><span style=\"display:flex;\"><span><span style=\"color:#a6e22e\">activate</span>(<span style=\"color:#66d9ef\">async</span> ({ <span style=\"color:#a6e22e\">dataRecord</span> }) =&gt; {\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#66d9ef\">const</span> <span style=\"color:#a6e22e\">data</span> <span style=\"color:#f92672\">=</span> { ...<span style=\"color:#a6e22e\">dataRecord</span>.<span style=\"color:#a6e22e\">data</span>.<span style=\"color:#a6e22e\">udo</span>  };\n</span></span><span style=\"display:flex;\"><span>\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#a6e22e\">data</span>.<span style=\"color:#a6e22e\">tc_email</span> <span style=\"color:#f92672\">=</span> <span style=\"color:#a6e22e\">C</span>.<span style=\"color:#a6e22e\">SHA3</span>(<span style=\"color:#a6e22e\">dataRecord</span>.<span style=\"color:#a6e22e\">data</span>.<span style=\"color:#a6e22e\">udo</span>.<span style=\"color:#a6e22e\">CDW_Column3_EmailAddress</span>).<span style=\"color:#a6e22e\">toString</span>(<span style=\"color:#a6e22e\">C</span>.<span style=\"color:#a6e22e\">enc</span>.<span style=\"color:#a6e22e\">Hex</span>);\n</span></span><span style=\"display:flex;\"><span>\n</span></span><span style=\"display:flex;\"><span><span style=\"color:#66d9ef\">try</span> {\n</span></span><span style=\"display:flex;\"><span>    <span style=\"color:#66d9ef\">await</span> <span style=\"color:#a6e22e\">send</span>(<span style=\"color:#a6e22e\">data</span>);\n</span></span><span style=\"display:flex;\"><span>    } <span style=\"color:#66d9ef\">catch</span> (<span style=\"color:#a6e22e\">e</span>) {\n</span></span><span style=\"display:flex;\"><span>        <span style=\"color:#a6e22e\">console</span>.<span style=\"color:#a6e22e\">error</span>(<span style=\"color:#e6db74\">&#34;Failed to send the data. &#34;</span> <span style=\"color:#f92672\">+</span> <span style=\"color:#a6e22e\">e</span>);\n</span></span><span style=\"display:flex;\"><span>    }\n</span></span><span style=\"display:flex;\"><span>});\n</span></span></code></pre></div>"
        }  

    ]
}
